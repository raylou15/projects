(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Di(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pr={exports:{}},_i;function Ls(){return _i||(_i=1,function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,p,d){this.fn=m,this.context=p,this.once=d||!1}function a(m,p,d,h,b){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,h||m,b),Y=n?n+p:p;return m._events[Y]?m._events[Y].fn?m._events[Y]=[m._events[Y],x]:m._events[Y].push(x):(m._events[Y]=x,m._eventsCount++),m}function u(m,p){--m._eventsCount===0?m._events=new r:delete m._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],d,h;if(this._eventsCount===0)return p;for(h in d=this._events)e.call(d,h)&&p.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(d)):p},c.prototype.listeners=function(p){var d=n?n+p:p,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var b=0,x=h.length,Y=new Array(x);b<x;b++)Y[b]=h[b].fn;return Y},c.prototype.listenerCount=function(p){var d=n?n+p:p,h=this._events[d];return h?h.fn?1:h.length:0},c.prototype.emit=function(p,d,h,b,x,Y){var B=n?n+p:p;if(!this._events[B])return!1;var D=this._events[B],ae=arguments.length,J,se;if(D.fn){switch(D.once&&this.removeListener(p,D.fn,void 0,!0),ae){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,d),!0;case 3:return D.fn.call(D.context,d,h),!0;case 4:return D.fn.call(D.context,d,h,b),!0;case 5:return D.fn.call(D.context,d,h,b,x),!0;case 6:return D.fn.call(D.context,d,h,b,x,Y),!0}for(se=1,J=new Array(ae-1);se<ae;se++)J[se-1]=arguments[se];D.fn.apply(D.context,J)}else{var Te=D.length,Ee;for(se=0;se<Te;se++)switch(D[se].once&&this.removeListener(p,D[se].fn,void 0,!0),ae){case 1:D[se].fn.call(D[se].context);break;case 2:D[se].fn.call(D[se].context,d);break;case 3:D[se].fn.call(D[se].context,d,h);break;case 4:D[se].fn.call(D[se].context,d,h,b);break;default:if(!J)for(Ee=1,J=new Array(ae-1);Ee<ae;Ee++)J[Ee-1]=arguments[Ee];D[se].fn.apply(D[se].context,J)}}return!0},c.prototype.on=function(p,d,h){return a(this,p,d,h,!1)},c.prototype.once=function(p,d,h){return a(this,p,d,h,!0)},c.prototype.removeListener=function(p,d,h,b){var x=n?n+p:p;if(!this._events[x])return this;if(!d)return u(this,x),this;var Y=this._events[x];if(Y.fn)Y.fn===d&&(!b||Y.once)&&(!h||Y.context===h)&&u(this,x);else{for(var B=0,D=[],ae=Y.length;B<ae;B++)(Y[B].fn!==d||b&&!Y[B].once||h&&Y[B].context!==h)&&D.push(Y[B]);D.length?this._events[x]=D.length===1?D[0]:D:u(this,x)}return this},c.prototype.removeAllListeners=function(p){var d;return p?(d=n?n+p:p,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,t.exports=c}(Pr)),Pr.exports}var Ds=Ls(),xs=Di(Ds),ie;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const a={};for(const u of i)a[u]=u;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),u={};for(const c of a)u[c]=i[c];return t.objectValues(u)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&a.push(u);return a},t.find=(i,a)=>{for(const u of i)if(a(u))return u},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}t.joinValues=r,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(ie||(ie={}));var jr;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(jr||(jr={}));const U=ie.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bt=t=>{switch(typeof t){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(t)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(t)?U.array:t===null?U.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?U.promise:typeof Map<"u"&&t instanceof Map?U.map:typeof Set<"u"&&t instanceof Set?U.set:typeof Date<"u"&&t instanceof Date?U.date:U.object;default:return U.unknown}},O=ie.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Ms=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Ze extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(a){return a.message},r={_errors:[]},i=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let c=r,m=0;for(;m<u.path.length;){const p=u.path[m];m===u.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(u))):c[p]=c[p]||{_errors:[]},c=c[p],m++}}};return i(this),r}static assert(e){if(!(e instanceof Ze))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ie.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ze.create=t=>new Ze(t);const Wt=(t,e)=>{let n;switch(t.code){case O.invalid_type:t.received===U.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case O.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ie.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:n=`Unrecognized key(s) in object: ${ie.joinValues(t.keys,", ")}`;break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ie.joinValues(t.options)}`;break;case O.invalid_enum_value:n=`Invalid enum value. Expected ${ie.joinValues(t.options)}, received '${t.received}'`;break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ie.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case O.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case O.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case O.not_finite:n="Number must be finite";break;default:n=e.defaultError,ie.assertNever(t)}return{message:n}};let xi=Wt;function Us(t){xi=t}function or(){return xi}const lr=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,a=[...n,...i.path||[]],u={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const m=r.filter(p=>!!p).slice().reverse();for(const p of m)c=p(u,{data:e,defaultError:c}).message;return{...i,path:a,message:c}},ks=[];function M(t,e){const n=or(),r=lr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Wt?void 0:Wt].filter(i=>!!i)});t.common.issues.push(r)}class Oe{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return K;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const a=await i.key,u=await i.value;r.push({key:a,value:u})}return Oe.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:a,value:u}=i;if(a.status==="aborted"||u.status==="aborted")return K;a.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[a.value]=u.value)}return{status:e.value,value:r}}}const K=Object.freeze({status:"aborted"}),Yt=t=>({status:"dirty",value:t}),Ue=t=>({status:"valid",value:t}),Fr=t=>t.status==="aborted",qr=t=>t.status==="dirty",En=t=>t.status==="valid",yn=t=>typeof Promise<"u"&&t instanceof Promise;function ur(t,e,n,r){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function Mi(t,e,n,r,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var V;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(V||(V={}));var hn,mn;class nt{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vi=(t,e)=>{if(En(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ze(t.common.issues);return this._error=n,this._error}}};function X(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(u,c)=>{var m,p;const{message:d}=t;return u.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(m=d??r)!==null&&m!==void 0?m:c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:(p=d??n)!==null&&p!==void 0?p:c.defaultError}},description:i}}class C{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return bt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:bt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Oe,ctx:{common:e.parent.common,data:e.data,parsedType:bt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(yn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bt(e)},a=this._parseSync({data:e,path:i.path,parent:i});return vi(i,a)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:bt(e)},i=this._parse({data:e,path:r.path,parent:r}),a=await(yn(i)?i:Promise.resolve(i));return vi(r,a)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const u=e(i),c=()=>a.addIssue({code:O.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(m=>m?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Xe({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return tt.create(this,this._def)}nullable(){return Ot.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return We.create(this,this._def)}promise(){return Ct.create(this,this._def)}or(e){return An.create([this,e],this._def)}and(e){return In.create(this,e,this._def)}transform(e){return new Xe({...X(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Ln({...X(this._def),innerType:this,defaultValue:n,typeName:j.ZodDefault})}brand(){return new Xr({typeName:j.ZodBranded,type:this,...X(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Dn({...X(this._def),innerType:this,catchValue:n,typeName:j.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return Pn.create(this,e)}readonly(){return xn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ps=/^c[^\s-]{8,}$/i,Gs=/^[0-9a-z]+$/,Bs=/^[0-9A-HJKMNP-TV-Z]{26}$/,Vs=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Hs=/^[a-z0-9_-]{21}$/i,Zs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,js=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Fs="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gr;const qs=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ks=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,$s=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Ui="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Ys=new RegExp(`^${Ui}$`);function ki(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function zs(t){return new RegExp(`^${ki(t)}$`)}function Pi(t){let e=`${Ui}T${ki(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Ws(t,e){return!!((e==="v4"||!e)&&qs.test(t)||(e==="v6"||!e)&&Ks.test(t))}class ze extends C{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==U.string){const a=this._getOrReturnCtx(e);return M(a,{code:O.invalid_type,expected:U.string,received:a.parsedType}),K}const r=new Oe;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const u=e.data.length>a.value,c=e.data.length<a.value;(u||c)&&(i=this._getOrReturnCtx(e,i),u?M(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&M(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")js.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"email",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Gr||(Gr=new RegExp(Fs,"u")),Gr.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"emoji",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Vs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"uuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Hs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"nanoid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Ps.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Gs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"cuid2",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Bs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ulid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),M(i,{validation:"url",code:O.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"regex",code:O.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),M(i,{code:O.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:O.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),M(i,{code:O.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Pi(a).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:O.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Ys.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:O.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?zs(a).test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{code:O.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Zs.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"duration",code:O.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Ws(e.data,a.version)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"ip",code:O.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?$s.test(e.data)||(i=this._getOrReturnCtx(e,i),M(i,{validation:"base64",code:O.invalid_string,message:a.message}),r.dirty()):ie.assertNever(a);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:O.invalid_string,...V.errToObj(r)})}_addCheck(e){return new ze({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...V.errToObj(e)})}url(e){return this._addCheck({kind:"url",...V.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...V.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...V.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...V.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...V.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...V.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...V.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...V.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...V.errToObj(e)})}datetime(e){var n,r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(r=e==null?void 0:e.local)!==null&&r!==void 0?r:!1,...V.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...V.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...V.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...V.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...V.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...V.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...V.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...V.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...V.errToObj(n)})}nonempty(e){return this.min(1,V.errToObj(e))}trim(){return new ze({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ze({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ze({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ze.create=t=>{var e;return new ze({checks:[],typeName:j.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...X(t)})};function Xs(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(t.toFixed(i).replace(".","")),u=parseInt(e.toFixed(i).replace(".",""));return a%u/Math.pow(10,i)}class It extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==U.number){const a=this._getOrReturnCtx(e);return M(a,{code:O.invalid_type,expected:U.number,received:a.parsedType}),K}let r;const i=new Oe;for(const a of this._def.checks)a.kind==="int"?ie.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),M(r,{code:O.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:O.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:O.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Xs(e.data,a.value)!==0&&(r=this._getOrReturnCtx(e,r),M(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),M(r,{code:O.not_finite,message:a.message}),i.dirty()):ie.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,r,i){return new It({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(e){return new It({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:V.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:V.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ie.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}It.create=t=>new It({checks:[],typeName:j.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class Nt extends C{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==U.bigint){const a=this._getOrReturnCtx(e);return M(a,{code:O.invalid_type,expected:U.bigint,received:a.parsedType}),K}let r;const i=new Oe;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:O.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(r=this._getOrReturnCtx(e,r),M(r,{code:O.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),M(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):ie.assertNever(a);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,V.toString(n))}gt(e,n){return this.setLimit("min",e,!1,V.toString(n))}lte(e,n){return this.setLimit("max",e,!0,V.toString(n))}lt(e,n){return this.setLimit("max",e,!1,V.toString(n))}setLimit(e,n,r,i){return new Nt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(e){return new Nt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:V.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nt.create=t=>{var e;return new Nt({checks:[],typeName:j.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...X(t)})};class Tn extends C{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==U.boolean){const r=this._getOrReturnCtx(e);return M(r,{code:O.invalid_type,expected:U.boolean,received:r.parsedType}),K}return Ue(e.data)}}Tn.create=t=>new Tn({typeName:j.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...X(t)});class Ht extends C{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==U.date){const a=this._getOrReturnCtx(e);return M(a,{code:O.invalid_type,expected:U.date,received:a.parsedType}),K}if(isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return M(a,{code:O.invalid_date}),K}const r=new Oe;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:O.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),M(i,{code:O.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ie.assertNever(a);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Ht({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:V.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:V.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Ht.create=t=>new Ht({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:j.ZodDate,...X(t)});class cr extends C{_parse(e){if(this._getType(e)!==U.symbol){const r=this._getOrReturnCtx(e);return M(r,{code:O.invalid_type,expected:U.symbol,received:r.parsedType}),K}return Ue(e.data)}}cr.create=t=>new cr({typeName:j.ZodSymbol,...X(t)});class Sn extends C{_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return M(r,{code:O.invalid_type,expected:U.undefined,received:r.parsedType}),K}return Ue(e.data)}}Sn.create=t=>new Sn({typeName:j.ZodUndefined,...X(t)});class bn extends C{_parse(e){if(this._getType(e)!==U.null){const r=this._getOrReturnCtx(e);return M(r,{code:O.invalid_type,expected:U.null,received:r.parsedType}),K}return Ue(e.data)}}bn.create=t=>new bn({typeName:j.ZodNull,...X(t)});class Xt extends C{constructor(){super(...arguments),this._any=!0}_parse(e){return Ue(e.data)}}Xt.create=t=>new Xt({typeName:j.ZodAny,...X(t)});class Bt extends C{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ue(e.data)}}Bt.create=t=>new Bt({typeName:j.ZodUnknown,...X(t)});class Et extends C{_parse(e){const n=this._getOrReturnCtx(e);return M(n,{code:O.invalid_type,expected:U.never,received:n.parsedType}),K}}Et.create=t=>new Et({typeName:j.ZodNever,...X(t)});class dr extends C{_parse(e){if(this._getType(e)!==U.undefined){const r=this._getOrReturnCtx(e);return M(r,{code:O.invalid_type,expected:U.void,received:r.parsedType}),K}return Ue(e.data)}}dr.create=t=>new dr({typeName:j.ZodVoid,...X(t)});class We extends C{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==U.array)return M(n,{code:O.invalid_type,expected:U.array,received:n.parsedType}),K;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(u||c)&&(M(n,{code:u?O.too_big:O.too_small,minimum:c?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(M(n,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(M(n,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>i.type._parseAsync(new nt(n,u,n.path,c)))).then(u=>Oe.mergeArray(r,u));const a=[...n.data].map((u,c)=>i.type._parseSync(new nt(n,u,n.path,c)));return Oe.mergeArray(r,a)}get element(){return this._def.type}min(e,n){return new We({...this._def,minLength:{value:e,message:V.toString(n)}})}max(e,n){return new We({...this._def,maxLength:{value:e,message:V.toString(n)}})}length(e,n){return new We({...this._def,exactLength:{value:e,message:V.toString(n)}})}nonempty(e){return this.min(1,e)}}We.create=(t,e)=>new We({type:t,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...X(e)});function $t(t){if(t instanceof he){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=tt.create($t(r))}return new he({...t._def,shape:()=>e})}else return t instanceof We?new We({...t._def,type:$t(t.element)}):t instanceof tt?tt.create($t(t.unwrap())):t instanceof Ot?Ot.create($t(t.unwrap())):t instanceof rt?rt.create(t.items.map(e=>$t(e))):t}class he extends C{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ie.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==U.object){const p=this._getOrReturnCtx(e);return M(p,{code:O.invalid_type,expected:U.object,received:p.parsedType}),K}const{status:r,ctx:i}=this._processInputParams(e),{shape:a,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof Et&&this._def.unknownKeys==="strip"))for(const p in i.data)u.includes(p)||c.push(p);const m=[];for(const p of u){const d=a[p],h=i.data[p];m.push({key:{status:"valid",value:p},value:d._parse(new nt(i,h,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof Et){const p=this._def.unknownKeys;if(p==="passthrough")for(const d of c)m.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(p==="strict")c.length>0&&(M(i,{code:O.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const d of c){const h=i.data[d];m.push({key:{status:"valid",value:d},value:p._parse(new nt(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const d of m){const h=await d.key,b=await d.value;p.push({key:h,value:b,alwaysSet:d.alwaysSet})}return p}).then(p=>Oe.mergeObjectSync(r,p)):Oe.mergeObjectSync(r,m)}get shape(){return this._def.shape()}strict(e){return V.errToObj,new he({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,a,u,c;const m=(u=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&u!==void 0?u:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=V.errToObj(e).message)!==null&&c!==void 0?c:m}:{message:m}}}:{}})}strip(){return new he({...this._def,unknownKeys:"strip"})}passthrough(){return new he({...this._def,unknownKeys:"passthrough"})}extend(e){return new he({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new he({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:j.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new he({...this._def,catchall:e})}pick(e){const n={};return ie.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new he({...this._def,shape:()=>n})}omit(e){const n={};return ie.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new he({...this._def,shape:()=>n})}deepPartial(){return $t(this)}partial(e){const n={};return ie.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new he({...this._def,shape:()=>n})}required(e){const n={};return ie.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof tt;)a=a._def.innerType;n[r]=a}}),new he({...this._def,shape:()=>n})}keyof(){return Gi(ie.objectKeys(this.shape))}}he.create=(t,e)=>new he({shape:()=>t,unknownKeys:"strip",catchall:Et.create(),typeName:j.ZodObject,...X(e)});he.strictCreate=(t,e)=>new he({shape:()=>t,unknownKeys:"strict",catchall:Et.create(),typeName:j.ZodObject,...X(e)});he.lazycreate=(t,e)=>new he({shape:t,unknownKeys:"strip",catchall:Et.create(),typeName:j.ZodObject,...X(e)});class An extends C{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=a.map(c=>new Ze(c.ctx.common.issues));return M(n,{code:O.invalid_union,unionErrors:u}),K}if(n.common.async)return Promise.all(r.map(async a=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let a;const u=[];for(const m of r){const p={...n,common:{...n.common,issues:[]},parent:null},d=m._parseSync({data:n.data,path:n.path,parent:p});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:p}),p.common.issues.length&&u.push(p.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=u.map(m=>new Ze(m));return M(n,{code:O.invalid_union,unionErrors:c}),K}}get options(){return this._def.options}}An.create=(t,e)=>new An({options:t,typeName:j.ZodUnion,...X(e)});const ht=t=>t instanceof wn?ht(t.schema):t instanceof Xe?ht(t.innerType()):t instanceof On?[t.value]:t instanceof wt?t.options:t instanceof Rn?ie.objectValues(t.enum):t instanceof Ln?ht(t._def.innerType):t instanceof Sn?[void 0]:t instanceof bn?[null]:t instanceof tt?[void 0,...ht(t.unwrap())]:t instanceof Ot?[null,...ht(t.unwrap())]:t instanceof Xr||t instanceof xn?ht(t.unwrap()):t instanceof Dn?ht(t._def.innerType):[];class gr extends C{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.object)return M(n,{code:O.invalid_type,expected:U.object,received:n.parsedType}),K;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(M(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),K)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const a of n){const u=ht(a.shape[e]);if(!u.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const c of u){if(i.has(c))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(c)}`);i.set(c,a)}}return new gr({typeName:j.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...X(r)})}}function Kr(t,e){const n=bt(t),r=bt(e);if(t===e)return{valid:!0,data:t};if(n===U.object&&r===U.object){const i=ie.objectKeys(e),a=ie.objectKeys(t).filter(c=>i.indexOf(c)!==-1),u={...t,...e};for(const c of a){const m=Kr(t[c],e[c]);if(!m.valid)return{valid:!1};u[c]=m.data}return{valid:!0,data:u}}else if(n===U.array&&r===U.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const u=t[a],c=e[a],m=Kr(u,c);if(!m.valid)return{valid:!1};i.push(m.data)}return{valid:!0,data:i}}else return n===U.date&&r===U.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class In extends C{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(a,u)=>{if(Fr(a)||Fr(u))return K;const c=Kr(a.value,u.value);return c.valid?((qr(a)||qr(u))&&n.dirty(),{status:n.value,value:c.data}):(M(r,{code:O.invalid_intersection_types}),K)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,u])=>i(a,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}In.create=(t,e,n)=>new In({left:t,right:e,typeName:j.ZodIntersection,...X(n)});class rt extends C{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.array)return M(r,{code:O.invalid_type,expected:U.array,received:r.parsedType}),K;if(r.data.length<this._def.items.length)return M(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),K;!this._def.rest&&r.data.length>this._def.items.length&&(M(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((u,c)=>{const m=this._def.items[c]||this._def.rest;return m?m._parse(new nt(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(a).then(u=>Oe.mergeArray(n,u)):Oe.mergeArray(n,a)}get items(){return this._def.items}rest(e){return new rt({...this._def,rest:e})}}rt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rt({items:t,typeName:j.ZodTuple,rest:null,...X(e)})};class Nn extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.object)return M(r,{code:O.invalid_type,expected:U.object,received:r.parsedType}),K;const i=[],a=this._def.keyType,u=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new nt(r,c,r.path,c)),value:u._parse(new nt(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Oe.mergeObjectAsync(n,i):Oe.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof C?new Nn({keyType:e,valueType:n,typeName:j.ZodRecord,...X(r)}):new Nn({keyType:ze.create(),valueType:e,typeName:j.ZodRecord,...X(n)})}}class pr extends C{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.map)return M(r,{code:O.invalid_type,expected:U.map,received:r.parsedType}),K;const i=this._def.keyType,a=this._def.valueType,u=[...r.data.entries()].map(([c,m],p)=>({key:i._parse(new nt(r,c,r.path,[p,"key"])),value:a._parse(new nt(r,m,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const m of u){const p=await m.key,d=await m.value;if(p.status==="aborted"||d.status==="aborted")return K;(p.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(p.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const m of u){const p=m.key,d=m.value;if(p.status==="aborted"||d.status==="aborted")return K;(p.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(p.value,d.value)}return{status:n.value,value:c}}}}pr.create=(t,e,n)=>new pr({valueType:e,keyType:t,typeName:j.ZodMap,...X(n)});class Zt extends C{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==U.set)return M(r,{code:O.invalid_type,expected:U.set,received:r.parsedType}),K;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(M(r,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(M(r,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function u(m){const p=new Set;for(const d of m){if(d.status==="aborted")return K;d.status==="dirty"&&n.dirty(),p.add(d.value)}return{status:n.value,value:p}}const c=[...r.data.values()].map((m,p)=>a._parse(new nt(r,m,r.path,p)));return r.common.async?Promise.all(c).then(m=>u(m)):u(c)}min(e,n){return new Zt({...this._def,minSize:{value:e,message:V.toString(n)}})}max(e,n){return new Zt({...this._def,maxSize:{value:e,message:V.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Zt.create=(t,e)=>new Zt({valueType:t,minSize:null,maxSize:null,typeName:j.ZodSet,...X(e)});class zt extends C{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.function)return M(n,{code:O.invalid_type,expected:U.function,received:n.parsedType}),K;function r(c,m){return lr({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,or(),Wt].filter(p=>!!p),issueData:{code:O.invalid_arguments,argumentsError:m}})}function i(c,m){return lr({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,or(),Wt].filter(p=>!!p),issueData:{code:O.invalid_return_type,returnTypeError:m}})}const a={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof Ct){const c=this;return Ue(async function(...m){const p=new Ze([]),d=await c._def.args.parseAsync(m,a).catch(x=>{throw p.addIssue(r(m,x)),p}),h=await Reflect.apply(u,this,d);return await c._def.returns._def.type.parseAsync(h,a).catch(x=>{throw p.addIssue(i(h,x)),p})})}else{const c=this;return Ue(function(...m){const p=c._def.args.safeParse(m,a);if(!p.success)throw new Ze([r(m,p.error)]);const d=Reflect.apply(u,this,p.data),h=c._def.returns.safeParse(d,a);if(!h.success)throw new Ze([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new zt({...this._def,args:rt.create(e).rest(Bt.create())})}returns(e){return new zt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new zt({args:e||rt.create([]).rest(Bt.create()),returns:n||Bt.create(),typeName:j.ZodFunction,...X(r)})}}class wn extends C{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wn.create=(t,e)=>new wn({getter:t,typeName:j.ZodLazy,...X(e)});class On extends C{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return M(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),K}return{status:"valid",value:e.data}}get value(){return this._def.value}}On.create=(t,e)=>new On({value:t,typeName:j.ZodLiteral,...X(e)});function Gi(t,e){return new wt({values:t,typeName:j.ZodEnum,...X(e)})}class wt extends C{constructor(){super(...arguments),hn.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return M(n,{expected:ie.joinValues(r),received:n.parsedType,code:O.invalid_type}),K}if(ur(this,hn)||Mi(this,hn,new Set(this._def.values)),!ur(this,hn).has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return M(n,{received:n.data,code:O.invalid_enum_value,options:r}),K}return Ue(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return wt.create(e,{...this._def,...n})}exclude(e,n=this._def){return wt.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}hn=new WeakMap;wt.create=Gi;class Rn extends C{constructor(){super(...arguments),mn.set(this,void 0)}_parse(e){const n=ie.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==U.string&&r.parsedType!==U.number){const i=ie.objectValues(n);return M(r,{expected:ie.joinValues(i),received:r.parsedType,code:O.invalid_type}),K}if(ur(this,mn)||Mi(this,mn,new Set(ie.getValidEnumValues(this._def.values))),!ur(this,mn).has(e.data)){const i=ie.objectValues(n);return M(r,{received:r.data,code:O.invalid_enum_value,options:i}),K}return Ue(e.data)}get enum(){return this._def.values}}mn=new WeakMap;Rn.create=(t,e)=>new Rn({values:t,typeName:j.ZodNativeEnum,...X(e)});class Ct extends C{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==U.promise&&n.common.async===!1)return M(n,{code:O.invalid_type,expected:U.promise,received:n.parsedType}),K;const r=n.parsedType===U.promise?n.data:Promise.resolve(n.data);return Ue(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ct.create=(t,e)=>new Ct({type:t,typeName:j.ZodPromise,...X(e)});class Xe extends C{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:u=>{M(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const u=i.transform(r.data,a);if(r.common.async)return Promise.resolve(u).then(async c=>{if(n.value==="aborted")return K;const m=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return m.status==="aborted"?K:m.status==="dirty"||n.value==="dirty"?Yt(m.value):m});{if(n.value==="aborted")return K;const c=this._def.schema._parseSync({data:u,path:r.path,parent:r});return c.status==="aborted"?K:c.status==="dirty"||n.value==="dirty"?Yt(c.value):c}}if(i.type==="refinement"){const u=c=>{const m=i.refinement(c,a);if(r.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?K:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?K:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!En(u))return u;const c=i.transform(u.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>En(u)?Promise.resolve(i.transform(u.value,a)).then(c=>({status:n.value,value:c})):u);ie.assertNever(i)}}Xe.create=(t,e,n)=>new Xe({schema:t,typeName:j.ZodEffects,effect:e,...X(n)});Xe.createWithPreprocess=(t,e,n)=>new Xe({schema:e,effect:{type:"preprocess",transform:t},typeName:j.ZodEffects,...X(n)});class tt extends C{_parse(e){return this._getType(e)===U.undefined?Ue(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tt.create=(t,e)=>new tt({innerType:t,typeName:j.ZodOptional,...X(e)});class Ot extends C{_parse(e){return this._getType(e)===U.null?Ue(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ot.create=(t,e)=>new Ot({innerType:t,typeName:j.ZodNullable,...X(e)});class Ln extends C{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===U.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ln.create=(t,e)=>new Ln({innerType:t,typeName:j.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...X(e)});class Dn extends C{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ze(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ze(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dn.create=(t,e)=>new Dn({innerType:t,typeName:j.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...X(e)});class fr extends C{_parse(e){if(this._getType(e)!==U.nan){const r=this._getOrReturnCtx(e);return M(r,{code:O.invalid_type,expected:U.nan,received:r.parsedType}),K}return{status:"valid",value:e.data}}}fr.create=t=>new fr({typeName:j.ZodNaN,...X(t)});const Cs=Symbol("zod_brand");class Xr extends C{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Pn extends C{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?K:a.status==="dirty"?(n.dirty(),Yt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?K:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new Pn({in:e,out:n,typeName:j.ZodPipeline})}}class xn extends C{_parse(e){const n=this._def.innerType._parse(e),r=i=>(En(i)&&(i.value=Object.freeze(i.value)),i);return yn(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}xn.create=(t,e)=>new xn({innerType:t,typeName:j.ZodReadonly,...X(e)});function Cr(t,e={},n){return t?Xt.create().superRefine((r,i)=>{var a,u;if(!t(r)){const c=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,m=(u=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&u!==void 0?u:!0,p=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...p,fatal:m})}}):Xt.create()}const Js={object:he.lazycreate};var j;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(j||(j={}));const Qs=(t,e={message:`Input not instance of ${t.name}`})=>Cr(n=>n instanceof t,e),v=ze.create,H=It.create,eo=fr.create,Bi=Nt.create,q=Tn.create,to=Ht.create,no=cr.create,ro=Sn.create,_r=bn.create,io=Xt.create,Mn=Bt.create,ao=Et.create,so=dr.create,re=We.create,L=he.create,oo=he.strictCreate,Jr=An.create,lo=gr.create,uo=In.create,co=rt.create,po=Nn.create,fo=pr.create,ho=Zt.create,mo=zt.create,go=wn.create,ge=On.create,_o=wt.create,Qt=Rn.create,vo=Ct.create,Ei=Xe.create,Vi=tt.create,Eo=Ot.create,Hi=Xe.createWithPreprocess,yo=Pn.create,To=()=>v().optional(),So=()=>H().optional(),bo=()=>q().optional(),Ao={string:t=>ze.create({...t,coerce:!0}),number:t=>It.create({...t,coerce:!0}),boolean:t=>Tn.create({...t,coerce:!0}),bigint:t=>Nt.create({...t,coerce:!0}),date:t=>Ht.create({...t,coerce:!0})},Io=K;var g=Object.freeze({__proto__:null,defaultErrorMap:Wt,setErrorMap:Us,getErrorMap:or,makeIssue:lr,EMPTY_PATH:ks,addIssueToContext:M,ParseStatus:Oe,INVALID:K,DIRTY:Yt,OK:Ue,isAborted:Fr,isDirty:qr,isValid:En,isAsync:yn,get util(){return ie},get objectUtil(){return jr},ZodParsedType:U,getParsedType:bt,ZodType:C,datetimeRegex:Pi,ZodString:ze,ZodNumber:It,ZodBigInt:Nt,ZodBoolean:Tn,ZodDate:Ht,ZodSymbol:cr,ZodUndefined:Sn,ZodNull:bn,ZodAny:Xt,ZodUnknown:Bt,ZodNever:Et,ZodVoid:dr,ZodArray:We,ZodObject:he,ZodUnion:An,ZodDiscriminatedUnion:gr,ZodIntersection:In,ZodTuple:rt,ZodRecord:Nn,ZodMap:pr,ZodSet:Zt,ZodFunction:zt,ZodLazy:wn,ZodLiteral:On,ZodEnum:wt,ZodNativeEnum:Rn,ZodPromise:Ct,ZodEffects:Xe,ZodTransformer:Xe,ZodOptional:tt,ZodNullable:Ot,ZodDefault:Ln,ZodCatch:Dn,ZodNaN:fr,BRAND:Cs,ZodBranded:Xr,ZodPipeline:Pn,ZodReadonly:xn,custom:Cr,Schema:C,ZodSchema:C,late:Js,get ZodFirstPartyTypeKind(){return j},coerce:Ao,any:io,array:re,bigint:Bi,boolean:q,date:to,discriminatedUnion:lo,effect:Ei,enum:_o,function:mo,instanceof:Qs,intersection:uo,lazy:go,literal:ge,map:fo,nan:eo,nativeEnum:Qt,never:ao,null:_r,nullable:Eo,number:H,object:L,oboolean:bo,onumber:So,optional:Vi,ostring:To,pipeline:yo,preprocess:Hi,promise:vo,record:po,set:ho,strictObject:oo,string:v,symbol:no,transformer:Ei,tuple:co,undefined:ro,union:Jr,unknown:Mn,void:so,NEVER:Io,ZodIssueCode:O,quotelessJson:Ms,ZodError:Ze}),Br={exports:{}},yi;function No(){return yi||(yi=1,function(t){var e=function(n){var r=1e7,i=7,a=9007199254740992,u=Y(a),c="0123456789abcdefghijklmnopqrstuvwxyz",m=typeof BigInt=="function";function p(s,l,_,E){return typeof s>"u"?p[0]:typeof l<"u"?+l==10&&!_?F(s):Ar(s,l,_,E):F(s)}function d(s,l){this.value=s,this.sign=l,this.isSmall=!1}d.prototype=Object.create(p.prototype);function h(s){this.value=s,this.sign=s<0,this.isSmall=!0}h.prototype=Object.create(p.prototype);function b(s){this.value=s}b.prototype=Object.create(p.prototype);function x(s){return-a<s&&s<a}function Y(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function B(s){D(s);var l=s.length;if(l<4&&ot(s,u)<0)switch(l){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*r;default:return s[0]+(s[1]+s[2]*r)*r}return s}function D(s){for(var l=s.length;s[--l]===0;);s.length=l+1}function ae(s){for(var l=new Array(s),_=-1;++_<s;)l[_]=0;return l}function J(s){return s>0?Math.floor(s):Math.ceil(s)}function se(s,l){var _=s.length,E=l.length,S=new Array(_),T=0,N=r,I,w;for(w=0;w<E;w++)I=s[w]+l[w]+T,T=I>=N?1:0,S[w]=I-T*N;for(;w<_;)I=s[w]+T,T=I===N?1:0,S[w++]=I-T*N;return T>0&&S.push(T),S}function Te(s,l){return s.length>=l.length?se(s,l):se(l,s)}function Ee(s,l){var _=s.length,E=new Array(_),S=r,T,N;for(N=0;N<_;N++)T=s[N]-S+l,l=Math.floor(T/S),E[N]=T-l*S,l+=1;for(;l>0;)E[N++]=l%S,l=Math.floor(l/S);return E}d.prototype.add=function(s){var l=F(s);if(this.sign!==l.sign)return this.subtract(l.negate());var _=this.value,E=l.value;return l.isSmall?new d(Ee(_,Math.abs(E)),this.sign):new d(Te(_,E),this.sign)},d.prototype.plus=d.prototype.add,h.prototype.add=function(s){var l=F(s),_=this.value;if(_<0!==l.sign)return this.subtract(l.negate());var E=l.value;if(l.isSmall){if(x(_+E))return new h(_+E);E=Y(Math.abs(E))}return new d(Ee(E,Math.abs(_)),_<0)},h.prototype.plus=h.prototype.add,b.prototype.add=function(s){return new b(this.value+F(s).value)},b.prototype.plus=b.prototype.add;function je(s,l){var _=s.length,E=l.length,S=new Array(_),T=0,N=r,I,w;for(I=0;I<E;I++)w=s[I]-T-l[I],w<0?(w+=N,T=1):T=0,S[I]=w;for(I=E;I<_;I++){if(w=s[I]-T,w<0)w+=N;else{S[I++]=w;break}S[I]=w}for(;I<_;I++)S[I]=s[I];return D(S),S}function Se(s,l,_){var E;return ot(s,l)>=0?E=je(s,l):(E=je(l,s),_=!_),E=B(E),typeof E=="number"?(_&&(E=-E),new h(E)):new d(E,_)}function Fe(s,l,_){var E=s.length,S=new Array(E),T=-l,N=r,I,w;for(I=0;I<E;I++)w=s[I]+T,T=Math.floor(w/N),w%=N,S[I]=w<0?w+N:w;return S=B(S),typeof S=="number"?(_&&(S=-S),new h(S)):new d(S,_)}d.prototype.subtract=function(s){var l=F(s);if(this.sign!==l.sign)return this.add(l.negate());var _=this.value,E=l.value;return l.isSmall?Fe(_,Math.abs(E),this.sign):Se(_,E,this.sign)},d.prototype.minus=d.prototype.subtract,h.prototype.subtract=function(s){var l=F(s),_=this.value;if(_<0!==l.sign)return this.add(l.negate());var E=l.value;return l.isSmall?new h(_-E):Fe(E,Math.abs(_),_>=0)},h.prototype.minus=h.prototype.subtract,b.prototype.subtract=function(s){return new b(this.value-F(s).value)},b.prototype.minus=b.prototype.subtract,d.prototype.negate=function(){return new d(this.value,!this.sign)},h.prototype.negate=function(){var s=this.sign,l=new h(-this.value);return l.sign=!s,l},b.prototype.negate=function(){return new b(-this.value)},d.prototype.abs=function(){return new d(this.value,!1)},h.prototype.abs=function(){return new h(Math.abs(this.value))},b.prototype.abs=function(){return new b(this.value>=0?this.value:-this.value)};function Be(s,l){var _=s.length,E=l.length,S=_+E,T=ae(S),N=r,I,w,$,Q,z;for($=0;$<_;++$){Q=s[$];for(var oe=0;oe<E;++oe)z=l[oe],I=Q*z+T[$+oe],w=Math.floor(I/N),T[$+oe]=I-w*N,T[$+oe+1]+=w}return D(T),T}function at(s,l){var _=s.length,E=new Array(_),S=r,T=0,N,I;for(I=0;I<_;I++)N=s[I]*l+T,T=Math.floor(N/S),E[I]=N-T*S;for(;T>0;)E[I++]=T%S,T=Math.floor(T/S);return E}function Le(s,l){for(var _=[];l-- >0;)_.push(0);return _.concat(s)}function ue(s,l){var _=Math.max(s.length,l.length);if(_<=30)return Be(s,l);_=Math.ceil(_/2);var E=s.slice(_),S=s.slice(0,_),T=l.slice(_),N=l.slice(0,_),I=ue(S,N),w=ue(E,T),$=ue(Te(S,E),Te(N,T)),Q=Te(Te(I,Le(je(je($,I),w),_)),Le(w,2*_));return D(Q),Q}function yr(s,l){return-.012*s-.012*l+15e-6*s*l>0}d.prototype.multiply=function(s){var l=F(s),_=this.value,E=l.value,S=this.sign!==l.sign,T;if(l.isSmall){if(E===0)return p[0];if(E===1)return this;if(E===-1)return this.negate();if(T=Math.abs(E),T<r)return new d(at(_,T),S);E=Y(T)}return yr(_.length,E.length)?new d(ue(_,E),S):new d(Be(_,E),S)},d.prototype.times=d.prototype.multiply;function Gn(s,l,_){return s<r?new d(at(l,s),_):new d(Be(l,Y(s)),_)}h.prototype._multiplyBySmall=function(s){return x(s.value*this.value)?new h(s.value*this.value):Gn(Math.abs(s.value),Y(Math.abs(this.value)),this.sign!==s.sign)},d.prototype._multiplyBySmall=function(s){return s.value===0?p[0]:s.value===1?this:s.value===-1?this.negate():Gn(Math.abs(s.value),this.value,this.sign!==s.sign)},h.prototype.multiply=function(s){return F(s)._multiplyBySmall(this)},h.prototype.times=h.prototype.multiply,b.prototype.multiply=function(s){return new b(this.value*F(s).value)},b.prototype.times=b.prototype.multiply;function Bn(s){var l=s.length,_=ae(l+l),E=r,S,T,N,I,w;for(N=0;N<l;N++){I=s[N],T=0-I*I;for(var $=N;$<l;$++)w=s[$],S=2*(I*w)+_[N+$]+T,T=Math.floor(S/E),_[N+$]=S-T*E;_[N+l]=T}return D(_),_}d.prototype.square=function(){return new d(Bn(this.value),!1)},h.prototype.square=function(){var s=this.value*this.value;return x(s)?new h(s):new d(Bn(Y(Math.abs(this.value))),!1)},b.prototype.square=function(s){return new b(this.value*this.value)};function Tr(s,l){var _=s.length,E=l.length,S=r,T=ae(l.length),N=l[E-1],I=Math.ceil(S/(2*N)),w=at(s,I),$=at(l,I),Q,z,oe,De,Ie,cn,dn;for(w.length<=_&&w.push(0),$.push(0),N=$[E-1],z=_-E;z>=0;z--){for(Q=S-1,w[z+E]!==N&&(Q=Math.floor((w[z+E]*S+w[z+E-1])/N)),oe=0,De=0,cn=$.length,Ie=0;Ie<cn;Ie++)oe+=Q*$[Ie],dn=Math.floor(oe/S),De+=w[z+Ie]-(oe-dn*S),oe=dn,De<0?(w[z+Ie]=De+S,De=-1):(w[z+Ie]=De,De=0);for(;De!==0;){for(Q-=1,oe=0,Ie=0;Ie<cn;Ie++)oe+=w[z+Ie]-S+$[Ie],oe<0?(w[z+Ie]=oe+S,oe=0):(w[z+Ie]=oe,oe=1);De+=oe}T[z]=Q}return w=Vn(w,I)[0],[B(T),B(w)]}function Sr(s,l){for(var _=s.length,E=l.length,S=[],T=[],N=r,I,w,$,Q,z;_;){if(T.unshift(s[--_]),D(T),ot(T,l)<0){S.push(0);continue}w=T.length,$=T[w-1]*N+T[w-2],Q=l[E-1]*N+l[E-2],w>E&&($=($+1)*N),I=Math.ceil($/Q);do{if(z=at(l,I),ot(z,T)<=0)break;I--}while(I);S.push(I),T=je(T,z)}return S.reverse(),[B(S),B(T)]}function Vn(s,l){var _=s.length,E=ae(_),S=r,T,N,I,w;for(I=0,T=_-1;T>=0;--T)w=I*S+s[T],N=J(w/l),I=w-N*l,E[T]=N|0;return[E,I|0]}function st(s,l){var _,E=F(l);if(m)return[new b(s.value/E.value),new b(s.value%E.value)];var S=s.value,T=E.value,N;if(T===0)throw new Error("Cannot divide by zero");if(s.isSmall)return E.isSmall?[new h(J(S/T)),new h(S%T)]:[p[0],s];if(E.isSmall){if(T===1)return[s,p[0]];if(T==-1)return[s.negate(),p[0]];var I=Math.abs(T);if(I<r){_=Vn(S,I),N=B(_[0]);var w=_[1];return s.sign&&(w=-w),typeof N=="number"?(s.sign!==E.sign&&(N=-N),[new h(N),new h(w)]):[new d(N,s.sign!==E.sign),new h(w)]}T=Y(I)}var $=ot(S,T);if($===-1)return[p[0],s];if($===0)return[p[s.sign===E.sign?1:-1],p[0]];S.length+T.length<=200?_=Tr(S,T):_=Sr(S,T),N=_[0];var Q=s.sign!==E.sign,z=_[1],oe=s.sign;return typeof N=="number"?(Q&&(N=-N),N=new h(N)):N=new d(N,Q),typeof z=="number"?(oe&&(z=-z),z=new h(z)):z=new d(z,oe),[N,z]}d.prototype.divmod=function(s){var l=st(this,s);return{quotient:l[0],remainder:l[1]}},b.prototype.divmod=h.prototype.divmod=d.prototype.divmod,d.prototype.divide=function(s){return st(this,s)[0]},b.prototype.over=b.prototype.divide=function(s){return new b(this.value/F(s).value)},h.prototype.over=h.prototype.divide=d.prototype.over=d.prototype.divide,d.prototype.mod=function(s){return st(this,s)[1]},b.prototype.mod=b.prototype.remainder=function(s){return new b(this.value%F(s).value)},h.prototype.remainder=h.prototype.mod=d.prototype.remainder=d.prototype.mod,d.prototype.pow=function(s){var l=F(s),_=this.value,E=l.value,S,T,N;if(E===0)return p[1];if(_===0)return p[0];if(_===1)return p[1];if(_===-1)return l.isEven()?p[1]:p[-1];if(l.sign)return p[0];if(!l.isSmall)throw new Error("The exponent "+l.toString()+" is too large.");if(this.isSmall&&x(S=Math.pow(_,E)))return new h(J(S));for(T=this,N=p[1];E&!0&&(N=N.times(T),--E),E!==0;)E/=2,T=T.square();return N},h.prototype.pow=d.prototype.pow,b.prototype.pow=function(s){var l=F(s),_=this.value,E=l.value,S=BigInt(0),T=BigInt(1),N=BigInt(2);if(E===S)return p[1];if(_===S)return p[0];if(_===T)return p[1];if(_===BigInt(-1))return l.isEven()?p[1]:p[-1];if(l.isNegative())return new b(S);for(var I=this,w=p[1];(E&T)===T&&(w=w.times(I),--E),E!==S;)E/=N,I=I.square();return w},d.prototype.modPow=function(s,l){if(s=F(s),l=F(l),l.isZero())throw new Error("Cannot take modPow with modulus 0");var _=p[1],E=this.mod(l);for(s.isNegative()&&(s=s.multiply(p[-1]),E=E.modInv(l));s.isPositive();){if(E.isZero())return p[0];s.isOdd()&&(_=_.multiply(E).mod(l)),s=s.divide(2),E=E.square().mod(l)}return _},b.prototype.modPow=h.prototype.modPow=d.prototype.modPow;function ot(s,l){if(s.length!==l.length)return s.length>l.length?1:-1;for(var _=s.length-1;_>=0;_--)if(s[_]!==l[_])return s[_]>l[_]?1:-1;return 0}d.prototype.compareAbs=function(s){var l=F(s),_=this.value,E=l.value;return l.isSmall?1:ot(_,E)},h.prototype.compareAbs=function(s){var l=F(s),_=Math.abs(this.value),E=l.value;return l.isSmall?(E=Math.abs(E),_===E?0:_>E?1:-1):-1},b.prototype.compareAbs=function(s){var l=this.value,_=F(s).value;return l=l>=0?l:-l,_=_>=0?_:-_,l===_?0:l>_?1:-1},d.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=F(s),_=this.value,E=l.value;return this.sign!==l.sign?l.sign?1:-1:l.isSmall?this.sign?-1:1:ot(_,E)*(this.sign?-1:1)},d.prototype.compareTo=d.prototype.compare,h.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=F(s),_=this.value,E=l.value;return l.isSmall?_==E?0:_>E?1:-1:_<0!==l.sign?_<0?-1:1:_<0?1:-1},h.prototype.compareTo=h.prototype.compare,b.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=this.value,_=F(s).value;return l===_?0:l>_?1:-1},b.prototype.compareTo=b.prototype.compare,d.prototype.equals=function(s){return this.compare(s)===0},b.prototype.eq=b.prototype.equals=h.prototype.eq=h.prototype.equals=d.prototype.eq=d.prototype.equals,d.prototype.notEquals=function(s){return this.compare(s)!==0},b.prototype.neq=b.prototype.notEquals=h.prototype.neq=h.prototype.notEquals=d.prototype.neq=d.prototype.notEquals,d.prototype.greater=function(s){return this.compare(s)>0},b.prototype.gt=b.prototype.greater=h.prototype.gt=h.prototype.greater=d.prototype.gt=d.prototype.greater,d.prototype.lesser=function(s){return this.compare(s)<0},b.prototype.lt=b.prototype.lesser=h.prototype.lt=h.prototype.lesser=d.prototype.lt=d.prototype.lesser,d.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},b.prototype.geq=b.prototype.greaterOrEquals=h.prototype.geq=h.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals,d.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},b.prototype.leq=b.prototype.lesserOrEquals=h.prototype.leq=h.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals,d.prototype.isEven=function(){return(this.value[0]&1)===0},h.prototype.isEven=function(){return(this.value&1)===0},b.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},d.prototype.isOdd=function(){return(this.value[0]&1)===1},h.prototype.isOdd=function(){return(this.value&1)===1},b.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},d.prototype.isPositive=function(){return!this.sign},h.prototype.isPositive=function(){return this.value>0},b.prototype.isPositive=h.prototype.isPositive,d.prototype.isNegative=function(){return this.sign},h.prototype.isNegative=function(){return this.value<0},b.prototype.isNegative=h.prototype.isNegative,d.prototype.isUnit=function(){return!1},h.prototype.isUnit=function(){return Math.abs(this.value)===1},b.prototype.isUnit=function(){return this.abs().value===BigInt(1)},d.prototype.isZero=function(){return!1},h.prototype.isZero=function(){return this.value===0},b.prototype.isZero=function(){return this.value===BigInt(0)},d.prototype.isDivisibleBy=function(s){var l=F(s);return l.isZero()?!1:l.isUnit()?!0:l.compareAbs(2)===0?this.isEven():this.mod(l).isZero()},b.prototype.isDivisibleBy=h.prototype.isDivisibleBy=d.prototype.isDivisibleBy;function Hn(s){var l=s.abs();if(l.isUnit())return!1;if(l.equals(2)||l.equals(3)||l.equals(5))return!0;if(l.isEven()||l.isDivisibleBy(3)||l.isDivisibleBy(5))return!1;if(l.lesser(49))return!0}function rn(s,l){for(var _=s.prev(),E=_,S=0,T,N,I;E.isEven();)E=E.divide(2),S++;e:for(N=0;N<l.length;N++)if(!s.lesser(l[N])&&(I=e(l[N]).modPow(E,s),!(I.isUnit()||I.equals(_)))){for(T=S-1;T!=0;T--){if(I=I.square().mod(s),I.isUnit())return!1;if(I.equals(_))continue e}return!1}return!0}d.prototype.isPrime=function(s){var l=Hn(this);if(l!==n)return l;var _=this.abs(),E=_.bitLength();if(E<=64)return rn(_,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var S=Math.log(2)*E.toJSNumber(),T=Math.ceil(s===!0?2*Math.pow(S,2):S),N=[],I=0;I<T;I++)N.push(e(I+2));return rn(_,N)},b.prototype.isPrime=h.prototype.isPrime=d.prototype.isPrime,d.prototype.isProbablePrime=function(s,l){var _=Hn(this);if(_!==n)return _;for(var E=this.abs(),S=s===n?5:s,T=[],N=0;N<S;N++)T.push(e.randBetween(2,E.minus(2),l));return rn(E,T)},b.prototype.isProbablePrime=h.prototype.isProbablePrime=d.prototype.isProbablePrime,d.prototype.modInv=function(s){for(var l=e.zero,_=e.one,E=F(s),S=this.abs(),T,N,I;!S.isZero();)T=E.divide(S),N=l,I=E,l=_,E=S,_=N.subtract(T.multiply(_)),S=I.subtract(T.multiply(S));if(!E.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return l.compare(0)===-1&&(l=l.add(s)),this.isNegative()?l.negate():l},b.prototype.modInv=h.prototype.modInv=d.prototype.modInv,d.prototype.next=function(){var s=this.value;return this.sign?Fe(s,1,this.sign):new d(Ee(s,1),this.sign)},h.prototype.next=function(){var s=this.value;return s+1<a?new h(s+1):new d(u,!1)},b.prototype.next=function(){return new b(this.value+BigInt(1))},d.prototype.prev=function(){var s=this.value;return this.sign?new d(Ee(s,1),!0):Fe(s,1,this.sign)},h.prototype.prev=function(){var s=this.value;return s-1>-a?new h(s-1):new d(u,!0)},b.prototype.prev=function(){return new b(this.value-BigInt(1))};for(var Ye=[1];2*Ye[Ye.length-1]<=r;)Ye.push(2*Ye[Ye.length-1]);var Dt=Ye.length,lt=Ye[Dt-1];function Zn(s){return Math.abs(s)<=r}d.prototype.shiftLeft=function(s){var l=F(s).toJSNumber();if(!Zn(l))throw new Error(String(l)+" is too large for shifting.");if(l<0)return this.shiftRight(-l);var _=this;if(_.isZero())return _;for(;l>=Dt;)_=_.multiply(lt),l-=Dt-1;return _.multiply(Ye[l])},b.prototype.shiftLeft=h.prototype.shiftLeft=d.prototype.shiftLeft,d.prototype.shiftRight=function(s){var l,_=F(s).toJSNumber();if(!Zn(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftLeft(-_);for(var E=this;_>=Dt;){if(E.isZero()||E.isNegative()&&E.isUnit())return E;l=st(E,lt),E=l[1].isNegative()?l[0].prev():l[0],_-=Dt-1}return l=st(E,Ye[_]),l[1].isNegative()?l[0].prev():l[0]},b.prototype.shiftRight=h.prototype.shiftRight=d.prototype.shiftRight;function le(s,l,_){l=F(l);for(var E=s.isNegative(),S=l.isNegative(),T=E?s.not():s,N=S?l.not():l,I=0,w=0,$=null,Q=null,z=[];!T.isZero()||!N.isZero();)$=st(T,lt),I=$[1].toJSNumber(),E&&(I=lt-1-I),Q=st(N,lt),w=Q[1].toJSNumber(),S&&(w=lt-1-w),T=$[0],N=Q[0],z.push(_(I,w));for(var oe=_(E?1:0,S?1:0)!==0?e(-1):e(0),De=z.length-1;De>=0;De-=1)oe=oe.multiply(lt).add(e(z[De]));return oe}d.prototype.not=function(){return this.negate().prev()},b.prototype.not=h.prototype.not=d.prototype.not,d.prototype.and=function(s){return le(this,s,function(l,_){return l&_})},b.prototype.and=h.prototype.and=d.prototype.and,d.prototype.or=function(s){return le(this,s,function(l,_){return l|_})},b.prototype.or=h.prototype.or=d.prototype.or,d.prototype.xor=function(s){return le(this,s,function(l,_){return l^_})},b.prototype.xor=h.prototype.xor=d.prototype.xor;var Ft=1<<30,br=(r&-r)*(r&-r)|Ft;function Ve(s){var l=s.value,_=typeof l=="number"?l|Ft:typeof l=="bigint"?l|BigInt(Ft):l[0]+l[1]*r|br;return _&-_}function an(s,l){if(l.compareTo(s)<=0){var _=an(s,l.square(l)),E=_.p,S=_.e,T=E.multiply(l);return T.compareTo(s)<=0?{p:T,e:S*2+1}:{p:E,e:S*2}}return{p:e(1),e:0}}d.prototype.bitLength=function(){var s=this;return s.compareTo(e(0))<0&&(s=s.negate().subtract(e(1))),s.compareTo(e(0))===0?e(0):e(an(s,e(2)).e).add(e(1))},b.prototype.bitLength=h.prototype.bitLength=d.prototype.bitLength;function sn(s,l){return s=F(s),l=F(l),s.greater(l)?s:l}function on(s,l){return s=F(s),l=F(l),s.lesser(l)?s:l}function ln(s,l){if(s=F(s).abs(),l=F(l).abs(),s.equals(l))return s;if(s.isZero())return l;if(l.isZero())return s;for(var _=p[1],E,S;s.isEven()&&l.isEven();)E=on(Ve(s),Ve(l)),s=s.divide(E),l=l.divide(E),_=_.multiply(E);for(;s.isEven();)s=s.divide(Ve(s));do{for(;l.isEven();)l=l.divide(Ve(l));s.greater(l)&&(S=l,l=s,s=S),l=l.subtract(s)}while(!l.isZero());return _.isUnit()?s:s.multiply(_)}function jn(s,l){return s=F(s).abs(),l=F(l).abs(),s.divide(ln(s,l)).multiply(l)}function Fn(s,l,_){s=F(s),l=F(l);var E=_||Math.random,S=on(s,l),T=sn(s,l),N=T.subtract(S).add(1);if(N.isSmall)return S.add(Math.floor(E()*N));for(var I=xt(N,r).value,w=[],$=!0,Q=0;Q<I.length;Q++){var z=$?I[Q]+(Q+1<I.length?I[Q+1]/r:0):r,oe=J(E()*z);w.push(oe),oe<I[Q]&&($=!1)}return S.add(p.fromArray(w,r,!1))}var Ar=function(s,l,_,E){_=_||c,s=String(s),E||(s=s.toLowerCase(),_=_.toLowerCase());var S=s.length,T,N=Math.abs(l),I={};for(T=0;T<_.length;T++)I[_[T]]=T;for(T=0;T<S;T++){var w=s[T];if(w!=="-"&&w in I&&I[w]>=N){if(w==="1"&&N===1)continue;throw new Error(w+" is not a valid digit in base "+l+".")}}l=F(l);var $=[],Q=s[0]==="-";for(T=Q?1:0;T<s.length;T++){var w=s[T];if(w in I)$.push(F(I[w]));else if(w==="<"){var z=T;do T++;while(s[T]!==">"&&T<s.length);$.push(F(s.slice(z+1,T)))}else throw new Error(w+" is not a valid character")}return qn($,l,Q)};function qn(s,l,_){var E=p[0],S=p[1],T;for(T=s.length-1;T>=0;T--)E=E.add(s[T].times(S)),S=S.times(l);return _?E.negate():E}function Ir(s,l){return l=l||c,s<l.length?l[s]:"<"+s+">"}function xt(s,l){if(l=e(l),l.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(l.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var _=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return _.unshift([1]),{value:[].concat.apply([],_),isNegative:!1}}var E=!1;if(s.isNegative()&&l.isPositive()&&(E=!0,s=s.abs()),l.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:E};for(var S=[],T=s,N;T.isNegative()||T.compareAbs(l)>=0;){N=T.divmod(l),T=N.quotient;var I=N.remainder;I.isNegative()&&(I=l.minus(I).abs(),T=T.next()),S.push(I.toJSNumber())}return S.push(T.toJSNumber()),{value:S.reverse(),isNegative:E}}function Kn(s,l,_){var E=xt(s,l);return(E.isNegative?"-":"")+E.value.map(function(S){return Ir(S,_)}).join("")}d.prototype.toArray=function(s){return xt(this,s)},h.prototype.toArray=function(s){return xt(this,s)},b.prototype.toArray=function(s){return xt(this,s)},d.prototype.toString=function(s,l){if(s===n&&(s=10),s!==10||l)return Kn(this,s,l);for(var _=this.value,E=_.length,S=String(_[--E]),T="0000000",N;--E>=0;)N=String(_[E]),S+=T.slice(N.length)+N;var I=this.sign?"-":"";return I+S},h.prototype.toString=function(s,l){return s===n&&(s=10),s!=10||l?Kn(this,s,l):String(this.value)},b.prototype.toString=h.prototype.toString,b.prototype.toJSON=d.prototype.toJSON=h.prototype.toJSON=function(){return this.toString()},d.prototype.valueOf=function(){return parseInt(this.toString(),10)},d.prototype.toJSNumber=d.prototype.valueOf,h.prototype.valueOf=function(){return this.value},h.prototype.toJSNumber=h.prototype.valueOf,b.prototype.valueOf=b.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function $n(s){if(x(+s)){var l=+s;if(l===J(l))return m?new b(BigInt(l)):new h(l);throw new Error("Invalid integer: "+s)}var _=s[0]==="-";_&&(s=s.slice(1));var E=s.split(/e/i);if(E.length>2)throw new Error("Invalid integer: "+E.join("e"));if(E.length===2){var S=E[1];if(S[0]==="+"&&(S=S.slice(1)),S=+S,S!==J(S)||!x(S))throw new Error("Invalid integer: "+S+" is not a valid exponent.");var T=E[0],N=T.indexOf(".");if(N>=0&&(S-=T.length-N-1,T=T.slice(0,N)+T.slice(N+1)),S<0)throw new Error("Cannot include negative exponent part for integers");T+=new Array(S+1).join("0"),s=T}var I=/^([0-9][0-9]*)$/.test(s);if(!I)throw new Error("Invalid integer: "+s);if(m)return new b(BigInt(_?"-"+s:s));for(var w=[],$=s.length,Q=i,z=$-Q;$>0;)w.push(+s.slice(z,$)),z-=Q,z<0&&(z=0),$-=Q;return D(w),new d(w,_)}function un(s){if(m)return new b(BigInt(s));if(x(s)){if(s!==J(s))throw new Error(s+" is not an integer.");return new h(s)}return $n(s.toString())}function F(s){return typeof s=="number"?un(s):typeof s=="string"?$n(s):typeof s=="bigint"?new b(s):s}for(var Je=0;Je<1e3;Je++)p[Je]=F(Je),Je>0&&(p[-Je]=F(-Je));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=sn,p.min=on,p.gcd=ln,p.lcm=jn,p.isInstance=function(s){return s instanceof d||s instanceof h||s instanceof b},p.randBetween=Fn,p.fromArray=function(s,l,_){return qn(s.map(F),F(l||10),_)},p}();t.hasOwnProperty("exports")&&(t.exports=e)}(Br)),Br.exports}var wo=No(),Oo=Di(wo);const Zi=64,$r=16,At=Zi/$r;function Ro(){try{return!0}catch{return!1}}function Lo(t,e,n){let r=0;for(let i=0;i<n;i++){const a=t[e+i];if(a===void 0)break;r+=a*16**i}return r}function ji(t){const e=[];for(let n=0;n<t.length;n++){let r=Number(t[n]);for(let i=0;r||i<e.length;i++)r+=(e[i]||0)*10,e[i]=r%16,r=(r-e[i])/16}return e}function Do(t){const e=ji(t),n=Array(At);for(let r=0;r<At;r++)n[At-1-r]=Lo(e,r*At,At);return n}class Qe{static fromString(e){return new Qe(Do(e),e)}static fromBit(e){const n=Array(At),r=Math.floor(e/$r);for(let i=0;i<At;i++)n[At-1-i]=i===r?1<<e-r*$r:0;return new Qe(n)}constructor(e,n){this.parts=e,this.str=n}and({parts:e}){return new Qe(this.parts.map((n,r)=>n&e[r]))}or({parts:e}){return new Qe(this.parts.map((n,r)=>n|e[r]))}xor({parts:e}){return new Qe(this.parts.map((n,r)=>n^e[r]))}not(){return new Qe(this.parts.map(e=>~e))}equals({parts:e}){return this.parts.every((n,r)=>n===e[r])}toString(){if(this.str!=null)return this.str;const e=new Array(Zi/4);return this.parts.forEach((n,r)=>{const i=ji(n.toString());for(let a=0;a<4;a++)e[a+r*4]=i[3-a]||0}),this.str=Oo.fromArray(e,16).toString()}toJSON(){return this.toString()}}const Lt=Ro();Lt&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const ir={},Fi=Lt?function(e){return BigInt(e)}:function(e){return e instanceof Qe?e:(typeof e=="number"&&(e=e.toString()),ir[e]!=null||(ir[e]=Qe.fromString(e)),ir[e])},Ae=Fi(0),vr=Lt?function(e=Ae,n=Ae){return e&n}:function(e=Ae,n=Ae){return e.and(n)},qi=Lt?function(e=Ae,n=Ae){return e|n}:function(e=Ae,n=Ae){return e.or(n)},xo=Lt?function(e=Ae,n=Ae){return e^n}:function(e=Ae,n=Ae){return e.xor(n)},Mo=Lt?function(e=Ae){return~e}:function(e=Ae){return e.not()},Qr=Lt?function(e,n){return e===n}:function(e,n){return e==null||n==null?e==n:e.equals(n)};function Uo(...t){let e=t[0];for(let n=1;n<t.length;n++)e=qi(e,t[n]);return e}function ko(t,e){return Qr(vr(t,e),e)}function Po(t,e){return!Qr(vr(t,e),Ae)}function Go(t,e){return e===Ae?t:qi(t,e)}function Bo(t,e){return e===Ae?t:xo(t,vr(t,e))}const Vo=Lt?function(e){return BigInt(1)<<BigInt(e)}:function(e){return Qe.fromBit(e)};var Z={combine:Uo,add:Go,remove:Bo,filter:vr,invert:Mo,has:ko,hasAny:Po,equals:Qr,deserialize:Fi,getFlag:Vo},Ti;(function(t){t[t.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",t[t.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",t[t.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",t[t.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4001]="INVALID_ORIGIN",t[t.RATELIMITED=4002]="RATELIMITED",t[t.TOKEN_REVOKED=4003]="TOKEN_REVOKED",t[t.INVALID_VERSION=4004]="INVALID_VERSION",t[t.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Ti||(Ti={}));var Yr;(function(t){t[t.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",t[t.INVALID_COMMAND=4002]="INVALID_COMMAND",t[t.INVALID_GUILD=4003]="INVALID_GUILD",t[t.INVALID_EVENT=4004]="INVALID_EVENT",t[t.INVALID_CHANNEL=4005]="INVALID_CHANNEL",t[t.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS",t[t.INVALID_CLIENTID=4007]="INVALID_CLIENTID",t[t.INVALID_ORIGIN=4008]="INVALID_ORIGIN",t[t.INVALID_TOKEN=4009]="INVALID_TOKEN",t[t.INVALID_USER=4010]="INVALID_USER"})(Yr||(Yr={}));var zr;(function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait"})(zr||(zr={}));var gt;(function(t){t.MOBILE="mobile",t.DESKTOP="desktop"})(gt||(gt={}));Object.freeze({CREATE_INSTANT_INVITE:Z.getFlag(0),KICK_MEMBERS:Z.getFlag(1),BAN_MEMBERS:Z.getFlag(2),ADMINISTRATOR:Z.getFlag(3),MANAGE_CHANNELS:Z.getFlag(4),MANAGE_GUILD:Z.getFlag(5),ADD_REACTIONS:Z.getFlag(6),VIEW_AUDIT_LOG:Z.getFlag(7),PRIORITY_SPEAKER:Z.getFlag(8),STREAM:Z.getFlag(9),VIEW_CHANNEL:Z.getFlag(10),SEND_MESSAGES:Z.getFlag(11),SEND_TTS_MESSAGES:Z.getFlag(12),MANAGE_MESSAGES:Z.getFlag(13),EMBED_LINKS:Z.getFlag(14),ATTACH_FILES:Z.getFlag(15),READ_MESSAGE_HISTORY:Z.getFlag(16),MENTION_EVERYONE:Z.getFlag(17),USE_EXTERNAL_EMOJIS:Z.getFlag(18),VIEW_GUILD_INSIGHTS:Z.getFlag(19),CONNECT:Z.getFlag(20),SPEAK:Z.getFlag(21),MUTE_MEMBERS:Z.getFlag(22),DEAFEN_MEMBERS:Z.getFlag(23),MOVE_MEMBERS:Z.getFlag(24),USE_VAD:Z.getFlag(25),CHANGE_NICKNAME:Z.getFlag(26),MANAGE_NICKNAMES:Z.getFlag(27),MANAGE_ROLES:Z.getFlag(28),MANAGE_WEBHOOKS:Z.getFlag(29),MANAGE_GUILD_EXPRESSIONS:Z.getFlag(30),USE_APPLICATION_COMMANDS:Z.getFlag(31),REQUEST_TO_SPEAK:Z.getFlag(32),MANAGE_EVENTS:Z.getFlag(33),MANAGE_THREADS:Z.getFlag(34),CREATE_PUBLIC_THREADS:Z.getFlag(35),CREATE_PRIVATE_THREADS:Z.getFlag(36),USE_EXTERNAL_STICKERS:Z.getFlag(37),SEND_MESSAGES_IN_THREADS:Z.getFlag(38),USE_EMBEDDED_ACTIVITIES:Z.getFlag(39),MODERATE_MEMBERS:Z.getFlag(40),VIEW_CREATOR_MONETIZATION_ANALYTICS:Z.getFlag(41),USE_SOUNDBOARD:Z.getFlag(42),CREATE_GUILD_EXPRESSIONS:Z.getFlag(43),CREATE_EVENTS:Z.getFlag(44),USE_EXTERNAL_SOUNDS:Z.getFlag(45),SEND_VOICE_MESSAGES:Z.getFlag(46),SEND_POLLS:Z.getFlag(49),USE_EXTERNAL_APPS:Z.getFlag(50)});const Si=-1,Ho=250;function Re(t){return Hi(e=>{var n;const[r]=(n=Object.entries(t).find(([,i])=>i===e))!==null&&n!==void 0?n:[];return e!=null&&r===void 0?t.UNHANDLED:e},v().or(H()))}function Ki(t){const e=Cr().transform(n=>{const r=t.safeParse(n);return r.success?r.data:t._def.defaultValue()});return e.overlayType=t,e}const Zo=g.object({image_url:g.string()}).describe('Response for "INITIATE_IMAGE_UPLOAD" Command'),jo=g.object({mediaUrl:g.string().max(1024)}).describe('Request for "OPEN_SHARE_MOMENT_DIALOG" Command'),Fo=g.object({access_token:g.union([g.string(),g.null()]).optional()}).describe('Request for "AUTHENTICATE" Command'),$i=g.object({access_token:g.string(),user:g.object({username:g.string(),discriminator:g.string(),id:g.string(),avatar:g.union([g.string(),g.null()]).optional(),public_flags:g.number(),global_name:g.union([g.string(),g.null()]).optional()}),scopes:g.array(Ki(g.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","activities.invites.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer_presence","sdk.social_layer","lobbies.write","application_identities.write"]).or(g.literal(-1)).default(-1))),expires:g.string(),application:g.object({description:g.string(),icon:g.union([g.string(),g.null()]).optional(),id:g.string(),rpc_origins:g.array(g.string()).optional(),name:g.string()})}).describe('Response for "AUTHENTICATE" Command'),Yi=g.object({participants:g.array(g.object({id:g.string(),username:g.string(),global_name:g.union([g.string(),g.null()]).optional(),discriminator:g.string(),avatar:g.union([g.string(),g.null()]).optional(),flags:g.number(),bot:g.boolean(),avatar_decoration_data:g.union([g.object({asset:g.string(),skuId:g.string().optional(),expiresAt:g.number().optional()}),g.null()]).optional(),premium_type:g.union([g.number(),g.null()]).optional(),nickname:g.string().optional()}))}).describe('Response for "GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS" Command'),qo=g.object({command:g.string(),options:g.array(g.object({name:g.string(),value:g.string()})).optional(),content:g.string().max(2e3).optional(),require_launch_channel:g.boolean().optional(),preview_image:g.object({height:g.number(),url:g.string(),width:g.number()}).optional(),components:g.array(g.object({type:g.literal(1),components:g.array(g.object({type:g.literal(2),style:g.number().gte(1).lte(5),label:g.string().max(80).optional(),custom_id:g.string().max(100).describe("Developer-defined identifier for the button; max 100 characters").optional()})).max(5).optional()})).optional(),pid:g.number().optional()}).describe('Request for "SHARE_INTERACTION" Command'),Ko=g.object({success:g.boolean()}).describe('Response for "SHARE_INTERACTION" Command'),$o=g.object({custom_id:g.string().max(64).optional(),message:g.string().max(1e3),link_id:g.string().max(64).optional()}).describe('Request for "SHARE_LINK" Command'),Yo=g.object({success:g.boolean(),didCopyLink:g.boolean(),didSendMessage:g.boolean()}).describe('Response for "SHARE_LINK" Command'),zi=g.object({relationships:g.array(g.object({type:g.number(),user:g.object({id:g.string(),username:g.string(),global_name:g.union([g.string(),g.null()]).optional(),discriminator:g.string(),avatar:g.union([g.string(),g.null()]).optional(),flags:g.number(),bot:g.boolean(),avatar_decoration_data:g.union([g.object({asset:g.string(),skuId:g.string().optional(),expiresAt:g.number().optional()}),g.null()]).optional(),premium_type:g.union([g.number(),g.null()]).optional()}),presence:g.object({status:g.string(),activity:g.union([g.object({session_id:g.string().optional(),type:g.number().optional(),name:g.string(),url:g.union([g.string(),g.null()]).optional(),application_id:g.string().optional(),status_display_type:g.number().optional(),state:g.string().optional(),state_url:g.string().optional(),details:g.string().optional(),details_url:g.string().optional(),emoji:g.union([g.object({name:g.string(),id:g.union([g.string(),g.null()]).optional(),animated:g.union([g.boolean(),g.null()]).optional()}),g.null()]).optional(),assets:g.object({large_image:g.string().optional(),large_text:g.string().optional(),large_url:g.string().optional(),small_image:g.string().optional(),small_text:g.string().optional(),small_url:g.string().optional()}).optional(),timestamps:g.object({start:g.number().optional(),end:g.number().optional()}).optional(),party:g.object({id:g.string().optional(),size:g.array(g.number()).min(2).max(2).optional(),privacy:g.number().optional()}).optional(),secrets:g.object({match:g.string().optional(),join:g.string().optional()}).optional(),sync_id:g.string().optional(),created_at:g.number().optional(),instance:g.boolean().optional(),flags:g.number().optional(),metadata:g.object({}).optional(),platform:g.string().optional(),supported_platforms:g.array(g.string()).optional(),buttons:g.array(g.string()).optional(),hangStatus:g.string().optional()}),g.null()]).optional()}).optional()}))}).describe('Response for "GET_RELATIONSHIPS" Command'),zo=g.object({user_id:g.string(),content:g.string().min(0).max(1024).optional()}).describe('Request for "INVITE_USER_EMBEDDED" Command'),Wo=g.object({id:g.string().max(64)}).describe('Request for "GET_USER" Command'),Xo=g.union([g.object({id:g.string(),username:g.string(),global_name:g.union([g.string(),g.null()]).optional(),discriminator:g.string(),avatar:g.union([g.string(),g.null()]).optional(),flags:g.number(),bot:g.boolean(),avatar_decoration_data:g.union([g.object({asset:g.string(),skuId:g.string().optional(),expiresAt:g.number().optional()}),g.null()]).optional(),premium_type:g.union([g.number(),g.null()]).optional()}),g.null()]),Co=g.object({quest_id:g.string()}).describe('Request for "GET_QUEST_ENROLLMENT_STATUS" Command'),Jo=g.object({quest_id:g.string(),is_enrolled:g.boolean(),enrolled_at:g.union([g.string(),g.null()]).optional()}).describe('Response for "GET_QUEST_ENROLLMENT_STATUS" Command'),Qo=g.object({quest_id:g.string()}).describe('Request for "QUEST_START_TIMER" Command'),el=g.object({success:g.boolean()}).describe('Response for "QUEST_START_TIMER" Command');var pe;(function(t){t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",t.SHARE_INTERACTION="SHARE_INTERACTION",t.SHARE_LINK="SHARE_LINK",t.GET_RELATIONSHIPS="GET_RELATIONSHIPS",t.INVITE_USER_EMBEDDED="INVITE_USER_EMBEDDED",t.GET_USER="GET_USER",t.GET_QUEST_ENROLLMENT_STATUS="GET_QUEST_ENROLLMENT_STATUS",t.QUEST_START_TIMER="QUEST_START_TIMER"})(pe||(pe={}));const bi=g.object({}).optional().nullable(),Vr=g.void(),Wi={[pe.INITIATE_IMAGE_UPLOAD]:{request:Vr,response:Zo},[pe.OPEN_SHARE_MOMENT_DIALOG]:{request:jo,response:bi},[pe.AUTHENTICATE]:{request:Fo,response:$i},[pe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Vr,response:Yi},[pe.SHARE_INTERACTION]:{request:qo,response:Ko},[pe.SHARE_LINK]:{request:$o,response:Yo},[pe.GET_RELATIONSHIPS]:{request:Vr,response:zi},[pe.INVITE_USER_EMBEDDED]:{request:zo,response:bi},[pe.GET_USER]:{request:Wo,response:Xo},[pe.GET_QUEST_ENROLLMENT_STATUS]:{request:Co,response:Jo},[pe.QUEST_START_TIMER]:{request:Qo,response:el}},tl="DISPATCH";var P;(function(t){t.AUTHORIZE="AUTHORIZE",t.GET_GUILDS="GET_GUILDS",t.GET_GUILD="GET_GUILD",t.GET_CHANNEL="GET_CHANNEL",t.GET_CHANNELS="GET_CHANNELS",t.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",t.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",t.SUBSCRIBE="SUBSCRIBE",t.UNSUBSCRIBE="UNSUBSCRIBE",t.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",t.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",t.SET_ACTIVITY="SET_ACTIVITY",t.GET_SKUS="GET_SKUS",t.GET_ENTITLEMENTS="GET_ENTITLEMENTS",t.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",t.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",t.START_PURCHASE="START_PURCHASE",t.SET_CONFIG="SET_CONFIG",t.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",t.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",t.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",t.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",t.CAPTURE_LOG="CAPTURE_LOG",t.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",t.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",t.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",t.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",t.AUTHENTICATE="AUTHENTICATE",t.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",t.GET_QUEST_ENROLLMENT_STATUS="GET_QUEST_ENROLLMENT_STATUS",t.GET_RELATIONSHIPS="GET_RELATIONSHIPS",t.GET_USER="GET_USER",t.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",t.INVITE_USER_EMBEDDED="INVITE_USER_EMBEDDED",t.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",t.QUEST_START_TIMER="QUEST_START_TIMER",t.SHARE_INTERACTION="SHARE_INTERACTION",t.SHARE_LINK="SHARE_LINK"})(P||(P={}));const en=L({cmd:v(),data:Mn(),evt:_r(),nonce:v()}).passthrough(),nl=Object.assign(Object.assign({},$i.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});Re(nl);const rl=zi.shape.relationships.element,Rt=L({id:v(),username:v(),discriminator:v(),global_name:v().optional().nullable(),avatar:v().optional().nullable(),avatar_decoration_data:L({asset:v(),sku_id:v().optional()}).nullable(),bot:q(),flags:H().optional().nullable(),premium_type:H().optional().nullable()}),ei=L({user:Rt,nick:v().optional().nullable(),roles:re(v()),joined_at:v(),deaf:q(),mute:q()}),il=L({user_id:v(),nick:v().optional().nullable(),guild_id:v(),avatar:v().optional().nullable(),avatar_decoration_data:L({asset:v(),sku_id:v().optional().nullable()}).optional().nullable(),color_string:v().optional().nullable()}),ti=L({id:v(),name:v().optional().nullable(),roles:re(v()).optional().nullable(),user:Rt.optional().nullable(),require_colons:q().optional().nullable(),managed:q().optional().nullable(),animated:q().optional().nullable(),available:q().optional().nullable()}),Xi=L({mute:q(),deaf:q(),self_mute:q(),self_deaf:q(),suppress:q()}),Ci=L({mute:q(),nick:v(),user:Rt,voice_state:Xi,volume:H()}),al={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},ar=Re(al),_n=L({name:v(),type:H(),url:v().optional().nullable(),created_at:H().optional().nullable(),timestamps:L({start:H(),end:H()}).partial().optional().nullable(),application_id:v().optional().nullable(),details:v().optional().nullable(),details_url:v().url().optional().nullable(),state:v().optional().nullable(),state_url:v().url().optional().nullable(),emoji:ti.optional().nullable(),party:L({id:v().optional().nullable(),size:re(H()).optional().nullable()}).optional().nullable(),assets:L({large_image:v().nullable(),large_text:v().nullable(),large_url:v().url().optional().nullable(),small_image:v().nullable(),small_text:v().nullable(),small_url:v().url().optional().nullable()}).partial().optional().nullable(),secrets:L({join:v(),match:v()}).partial().optional().nullable(),instance:q().optional().nullable(),flags:H().optional().nullable()}),sl={UNHANDLED:-1,ROLE:0,MEMBER:1},ol=L({id:v(),type:Re(sl),allow:v(),deny:v()}),Ji={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},Qi=L({id:v(),type:Re(Ji),guild_id:v().optional().nullable(),position:H().optional().nullable(),permission_overwrites:re(ol).optional().nullable(),name:v().optional().nullable(),topic:v().optional().nullable(),nsfw:q().optional().nullable(),last_message_id:v().optional().nullable(),bitrate:H().optional().nullable(),user_limit:H().optional().nullable(),rate_limit_per_user:H().optional().nullable(),recipients:re(Rt).optional().nullable(),icon:v().optional().nullable(),owner_id:v().optional().nullable(),application_id:v().optional().nullable(),parent_id:v().optional().nullable(),last_pin_timestamp:v().optional().nullable()}),ll=L({user:Rt,guild_id:v(),status:ar,activities:re(_n),client_status:L({desktop:ar,mobile:ar,web:ar}).partial()}),ul=L({id:v(),name:v(),color:H(),hoist:q(),position:H(),permissions:v(),managed:q(),mentionable:q()});L({id:v(),name:v(),owner_id:v(),icon:v().nullable(),icon_hash:v().optional().nullable(),splash:v().nullable(),discovery_splash:v().nullable(),owner:q().optional().nullable(),permissions:v().optional().nullable(),region:v(),afk_channel_id:v().nullable(),afk_timeout:H(),widget_enabled:q().optional().nullable(),widget_channel_id:v().optional().nullable(),verification_level:H(),default_message_notifications:H(),explicit_content_filter:H(),roles:re(ul),emojis:re(ti),features:re(v()),mfa_level:H(),application_id:v().nullable(),system_channel_id:v().nullable(),system_channel_flags:H(),rules_channel_id:v().nullable(),joined_at:v().optional().nullable(),large:q().optional().nullable(),unavailable:q().optional().nullable(),member_count:H().optional().nullable(),voice_states:re(Xi).optional().nullable(),members:re(ei).optional().nullable(),channels:re(Qi).optional().nullable(),presences:re(ll).optional().nullable(),max_presences:H().optional().nullable(),max_members:H().optional().nullable(),vanity_url_code:v().nullable(),description:v().nullable(),banner:v().nullable(),premium_tier:H(),premium_subscription_count:H().optional().nullable(),preferred_locale:v(),public_updates_channel_id:v().nullable(),max_video_channel_users:H().optional().nullable(),approximate_member_count:H().optional().nullable(),approximate_presence_count:H().optional().nullable()});const cl=L({id:v(),guild_id:v(),type:H(),name:v()}),dl=L({id:v(),filename:v(),size:H(),url:v(),proxy_url:v(),height:H().optional().nullable(),width:H().optional().nullable()}),pl=L({text:v(),icon_url:v().optional().nullable(),proxy_icon_url:v().optional().nullable()}),Wr=L({url:v().optional().nullable(),proxy_url:v().optional().nullable(),height:H().optional().nullable(),width:H().optional().nullable()}),fl=Wr.omit({proxy_url:!0}),hl=L({name:v().optional().nullable(),url:v().optional().nullable()}),ml=L({name:v().optional().nullable(),url:v().optional().nullable(),icon_url:v().optional().nullable(),proxy_icon_url:v().optional().nullable()}),gl=L({name:v(),value:v(),inline:q()}),_l=L({title:v().optional().nullable(),type:v().optional().nullable(),description:v().optional().nullable(),url:v().optional().nullable(),timestamp:v().optional().nullable(),color:H().optional().nullable(),footer:pl.optional().nullable(),image:Wr.optional().nullable(),thumbnail:Wr.optional().nullable(),video:fl.optional().nullable(),provider:hl.optional().nullable(),author:ml.optional().nullable(),fields:re(gl).optional().nullable()}),vl=L({count:H(),me:q(),emoji:ti}),El=L({type:H(),party_id:v().optional().nullable()}),yl=L({id:v(),cover_image:v().optional().nullable(),description:v(),icon:v().optional().nullable(),name:v()}),Tl=L({message_id:v().optional().nullable(),channel_id:v().optional().nullable(),guild_id:v().optional().nullable()}),Sl=L({id:v(),channel_id:v(),guild_id:v().optional().nullable(),author:Rt.optional().nullable(),member:ei.optional().nullable(),content:v(),timestamp:v(),edited_timestamp:v().optional().nullable(),tts:q(),mention_everyone:q(),mentions:re(Rt),mention_roles:re(v()),mention_channels:re(cl),attachments:re(dl),embeds:re(_l),reactions:re(vl).optional().nullable(),nonce:Jr([v(),H()]).optional().nullable(),pinned:q(),webhook_id:v().optional().nullable(),type:H(),activity:El.optional().nullable(),application:yl.optional().nullable(),message_reference:Tl.optional().nullable(),flags:H().optional().nullable(),stickers:re(Mn()).optional().nullable(),referenced_message:Mn().optional().nullable()}),bl=L({id:v(),name:v()}),Al={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},ea=L({type:Re(Al),code:H(),name:v()}),Il={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Nl=L({type:Re(Il),auto_threshold:q(),threshold:H(),shortcut:re(ea),delay:H()}),Ai=L({device_id:v(),volume:H(),available_devices:re(bl)}),wl={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};L({type:Re(wl),id:v(),vendor:L({name:v(),url:v()}),model:L({name:v(),url:v()}),related:re(v()),echo_cancellation:q().optional().nullable(),noise_suppression:q().optional().nullable(),automatic_gain_control:q().optional().nullable(),hardware_mute:q().optional().nullable()});const Ol={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},Rl=L({id:v(),name:v(),type:Re(Ol),price:L({amount:H(),currency:v()}),application_id:v(),flags:H(),release_date:v().nullable()}),Ll={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},ni=L({id:v(),sku_id:v(),application_id:v(),user_id:v(),gift_code_flags:H(),type:Re(Ll),gifter_user_id:v().optional().nullable(),branches:re(v()).optional().nullable(),starts_at:v().optional().nullable(),ends_at:v().optional().nullable(),parent_id:v().optional().nullable(),consumed:q().optional().nullable(),deleted:q().optional().nullable(),gift_code_batch_id:v().optional().nullable()}),Dl={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};Re(Dl);const xl={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},Ml=Re(xl),ta={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};Re(ta);const na={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};Re(na);const ri="ERROR";var te;(function(t){t.READY="READY",t.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",t.SPEAKING_START="SPEAKING_START",t.SPEAKING_STOP="SPEAKING_STOP",t.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",t.ORIENTATION_UPDATE="ORIENTATION_UPDATE",t.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",t.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",t.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",t.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",t.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE",t.RELATIONSHIP_UPDATE="RELATIONSHIP_UPDATE",t.ACTIVITY_JOIN="ACTIVITY_JOIN",t.QUEST_ENROLLMENT_STATUS_UPDATE="QUEST_ENROLLMENT_STATUS_UPDATE"})(te||(te={}));const we=en.extend({evt:Qt(te),nonce:v().nullable(),cmd:ge(tl),data:L({}).passthrough()}),ra=en.extend({evt:ge(ri),data:L({code:H(),message:v().optional()}).passthrough(),cmd:Qt(P),nonce:v().nullable()}),Ul=we.extend({evt:v()}),kl=Jr([we,Ul,ra]);function Pl(t){const e=t.evt;if(!(e in te))throw new Error(`Unrecognized event type ${t.evt}`);return Gl[e].payload.parse(t)}const Gl={[te.READY]:{payload:we.extend({evt:ge(te.READY),data:L({v:H(),config:L({cdn_host:v().optional(),api_endpoint:v(),environment:v()}),user:L({id:v(),username:v(),discriminator:v(),avatar:v().optional()}).optional()})})},[te.VOICE_STATE_UPDATE]:{payload:we.extend({evt:ge(te.VOICE_STATE_UPDATE),data:Ci}),subscribeArgs:L({channel_id:v()})},[te.SPEAKING_START]:{payload:we.extend({evt:ge(te.SPEAKING_START),data:L({lobby_id:v().optional(),channel_id:v().optional(),user_id:v()})}),subscribeArgs:L({lobby_id:v().nullable().optional(),channel_id:v().nullable().optional()})},[te.SPEAKING_STOP]:{payload:we.extend({evt:ge(te.SPEAKING_STOP),data:L({lobby_id:v().optional(),channel_id:v().optional(),user_id:v()})}),subscribeArgs:L({lobby_id:v().nullable().optional(),channel_id:v().nullable().optional()})},[te.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:we.extend({evt:ge(te.ACTIVITY_LAYOUT_MODE_UPDATE),data:L({layout_mode:Re(na)})})},[te.ORIENTATION_UPDATE]:{payload:we.extend({evt:ge(te.ORIENTATION_UPDATE),data:L({screen_orientation:Re(ta),orientation:Qt(zr)})})},[te.CURRENT_USER_UPDATE]:{payload:we.extend({evt:ge(te.CURRENT_USER_UPDATE),data:Rt})},[te.CURRENT_GUILD_MEMBER_UPDATE]:{payload:we.extend({evt:ge(te.CURRENT_GUILD_MEMBER_UPDATE),data:il}),subscribeArgs:L({guild_id:v()})},[te.ENTITLEMENT_CREATE]:{payload:we.extend({evt:ge(te.ENTITLEMENT_CREATE),data:L({entitlement:ni})})},[te.THERMAL_STATE_UPDATE]:{payload:we.extend({evt:ge(te.THERMAL_STATE_UPDATE),data:L({thermal_state:Ml})})},[te.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:we.extend({evt:ge(te.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:L({participants:Yi.shape.participants})})},[te.RELATIONSHIP_UPDATE]:{payload:we.extend({evt:ge(te.RELATIONSHIP_UPDATE),data:rl})},[te.ACTIVITY_JOIN]:{payload:we.extend({evt:ge(te.ACTIVITY_JOIN),data:L({applicationId:v(),secret:v()})})},[te.QUEST_ENROLLMENT_STATUS_UPDATE]:{payload:we.extend({evt:ge(te.QUEST_ENROLLMENT_STATUS_UPDATE),data:L({quest_id:v(),is_enrolled:q(),enrolled_at:v().date()})})}};function Bl(t,e){throw e}const Er=L({}).nullable(),ia=L({code:v()}),Vl=L({guilds:re(L({id:v(),name:v()}))}),Hl=L({id:v(),name:v(),icon_url:v().optional(),members:re(ei)}),Jt=L({id:v(),type:Re(Ji),guild_id:v().optional().nullable(),name:v().optional().nullable(),topic:v().optional().nullable(),bitrate:H().optional().nullable(),user_limit:H().optional().nullable(),position:H().optional().nullable(),voice_states:re(Ci),messages:re(Sl)}),Zl=L({channels:re(Qi)});Jt.nullable();const jl=Jt.nullable(),Fl=Jt.nullable();L({input:Ai,output:Ai,mode:Nl,automatic_gain_control:q(),echo_cancellation:q(),noise_suppression:q(),qos:q(),silence_warning:q(),deaf:q(),mute:q()});const ql=L({evt:v()}),Kl=L({shortcut:ea}),aa=_n,sa=L({skus:re(Rl)}),oa=L({entitlements:re(ni)}),la=re(ni).nullable(),ua=L({use_interactive_pip:q()}),ca=L({locale:v()}),da=L({enabled:q()}),pa=L({permissions:Bi().or(v())}),fa=Ki(L({opened:q().or(_r())}).default({opened:null})),ha=L({iosKeyboardResizesView:Vi(q())}),$l=en.extend({cmd:Qt(P),evt:_r()});function Yl({cmd:t,data:e}){switch(t){case P.AUTHORIZE:return ia.parse(e);case P.CAPTURE_SHORTCUT:return Kl.parse(e);case P.ENCOURAGE_HW_ACCELERATION:return da.parse(e);case P.GET_CHANNEL:return Jt.parse(e);case P.GET_CHANNELS:return Zl.parse(e);case P.GET_CHANNEL_PERMISSIONS:return pa.parse(e);case P.GET_GUILD:return Hl.parse(e);case P.GET_GUILDS:return Vl.parse(e);case P.GET_PLATFORM_BEHAVIORS:return ha.parse(e);case P.GET_CHANNEL:return Jt.parse(e);case P.SELECT_TEXT_CHANNEL:return Fl.parse(e);case P.SELECT_VOICE_CHANNEL:return jl.parse(e);case P.SET_ACTIVITY:return aa.parse(e);case P.GET_SKUS_EMBEDDED:return sa.parse(e);case P.GET_ENTITLEMENTS_EMBEDDED:return oa.parse(e);case P.SET_CONFIG:return ua.parse(e);case P.START_PURCHASE:return la.parse(e);case P.SUBSCRIBE:case P.UNSUBSCRIBE:return ql.parse(e);case P.USER_SETTINGS_GET_LOCALE:return ca.parse(e);case P.OPEN_EXTERNAL_LINK:return fa.parse(e);case P.SET_ORIENTATION_LOCK_STATE:case P.SET_CERTIFIED_DEVICES:case P.SEND_ANALYTICS_EVENT:case P.OPEN_INVITE_DIALOG:case P.CAPTURE_LOG:case P.GET_SKUS:case P.GET_ENTITLEMENTS:return Er.parse(e);case P.AUTHENTICATE:case P.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:case P.GET_QUEST_ENROLLMENT_STATUS:case P.GET_RELATIONSHIPS:case P.GET_USER:case P.INITIATE_IMAGE_UPLOAD:case P.INVITE_USER_EMBEDDED:case P.OPEN_SHARE_MOMENT_DIALOG:case P.QUEST_START_TIMER:case P.SHARE_INTERACTION:case P.SHARE_LINK:const{response:n}=Wi[t];return n.parse(e);default:Bl(t,new Error(`Unrecognized command ${t}`))}}function zl(t){return Object.assign(Object.assign({},t),{data:Yl(t)})}L({frame_id:v(),platform:Qt(gt).optional().nullable()});L({v:ge(1),encoding:ge("json").optional(),client_id:v(),frame_id:v()});const Wl=L({code:H(),message:v().optional()}),Xl=L({evt:v().nullable(),nonce:v().nullable(),data:Mn().nullable(),cmd:v()}).passthrough();function Cl(t){const e=Xl.parse(t);return e.evt!=null?e.evt===ri?ra.parse(e):Pl(kl.parse(e)):zl($l.passthrough().parse(e))}function Ge(t,e,n,r=()=>{}){const i=en.extend({cmd:ge(e),data:n});return async a=>{const u=await t({cmd:e,args:a,transfer:r(a)});return i.parse(u).data}}function Ce(t,e=()=>{}){const n=Wi[t].response,r=en.extend({cmd:ge(t),data:n});return i=>async a=>{const u=await i({cmd:t,args:a,transfer:e(a)});return r.parse(u).data}}const Jl=t=>Ge(t,P.AUTHORIZE,ia),Ql=t=>Ge(t,P.CAPTURE_LOG,Er),eu=t=>Ge(t,P.ENCOURAGE_HW_ACCELERATION,da),tu=t=>Ge(t,P.GET_CHANNEL,Jt),nu=t=>Ge(t,P.GET_ENTITLEMENTS_EMBEDDED,oa),ru=t=>Ge(t,P.GET_SKUS_EMBEDDED,sa),iu=t=>Ge(t,P.GET_CHANNEL_PERMISSIONS,pa),au=t=>Ge(t,P.GET_PLATFORM_BEHAVIORS,ha),su=t=>Ge(t,P.OPEN_EXTERNAL_LINK,fa),ou=t=>Ge(t,P.OPEN_INVITE_DIALOG,Er);_n.pick({state:!0,state_url:!0,details:!0,details_url:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:_n.shape.type.optional(),instance:_n.shape.instance.optional()}).nullable();const lu=t=>Ge(t,P.SET_ACTIVITY,aa),uu=t=>Ge(t,P.SET_CONFIG,ua);function cu({sendCommand:t,cmd:e,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const a=en.extend({cmd:ge(e),data:n});return async u=>{try{const c=await t({cmd:e,args:u,transfer:i(u)});return a.parse(c).data}catch(c){if(c.code===Yr.INVALID_PAYLOAD){const m=r(u),p=await t({cmd:e,args:m,transfer:i(m)});return a.parse(p).data}else throw c}}}const du=t=>({lock_state:t.lock_state,picture_in_picture_lock_state:t.picture_in_picture_lock_state}),pu=t=>cu({sendCommand:t,cmd:P.SET_ORIENTATION_LOCK_STATE,response:Er,fallbackTransform:du}),fu=t=>Ge(t,P.START_PURCHASE,la),hu=t=>Ge(t,P.USER_SETTINGS_GET_LOCALE,ca),mu=Ce(pe.AUTHENTICATE),Ii=Ce(pe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS),gu=Ce(pe.GET_QUEST_ENROLLMENT_STATUS),_u=Ce(pe.GET_RELATIONSHIPS),vu=Ce(pe.GET_USER),Eu=Ce(pe.INITIATE_IMAGE_UPLOAD),yu=Ce(pe.INVITE_USER_EMBEDDED),Tu=Ce(pe.OPEN_SHARE_MOMENT_DIALOG),Su=Ce(pe.QUEST_START_TIMER),bu=Ce(pe.SHARE_INTERACTION),Au=Ce(pe.SHARE_LINK);function Iu(t){return{authorize:Jl(t),captureLog:Ql(t),encourageHardwareAcceleration:eu(t),getChannel:tu(t),getChannelPermissions:iu(t),getEntitlements:nu(t),getPlatformBehaviors:au(t),getSkus:ru(t),openExternalLink:su(t),openInviteDialog:ou(t),setActivity:lu(t),setConfig:uu(t),setOrientationLockState:pu(t),startPurchase:fu(t),userSettingsGetLocale:hu(t),getInstanceConnectedParticipants:Ii(t),authenticate:mu(t),getActivityInstanceConnectedParticipants:Ii(t),getQuestEnrollmentStatus:gu(t),getRelationships:_u(t),getUser:vu(t),initiateImageUpload:Eu(t),inviteUserEmbedded:yu(t),openShareMomentDialog:Tu(t),questStartTimer:Su(t),shareInteraction:bu(t),shareLink:Au(t)}}class Nu extends Error{constructor(e,n=""){super(n),this.code=e,this.message=n,this.name="Discord SDK Error"}}function wu(){return{disableConsoleLogOverride:!1}}const Ou=["log","warn","debug","info","error"];function Ru(t,e,n){const r=t[e],i=t;r&&(t[e]=function(){const a=[].slice.call(arguments),u=""+a.join(" ");n(e,u),r.apply(i,a)})}var Lu="2.4.0";const Du=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ni={randomUUID:Du};let Hr;const xu=new Uint8Array(16);function Mu(){if(!Hr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hr=crypto.getRandomValues.bind(crypto)}return Hr(xu)}const be=[];for(let t=0;t<256;++t)be.push((t+256).toString(16).slice(1));function Uu(t,e=0){return(be[t[e+0]]+be[t[e+1]]+be[t[e+2]]+be[t[e+3]]+"-"+be[t[e+4]]+be[t[e+5]]+"-"+be[t[e+6]]+be[t[e+7]]+"-"+be[t[e+8]]+be[t[e+9]]+"-"+be[t[e+10]]+be[t[e+11]]+be[t[e+12]]+be[t[e+13]]+be[t[e+14]]+be[t[e+15]]).toLowerCase()}function wi(t,e,n){var i;if(Ni.randomUUID&&!t)return Ni.randomUUID();t=t||{};const r=t.random??((i=t.rng)==null?void 0:i.call(t))??Mu();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Uu(r)}var mt;(function(t){t[t.HANDSHAKE=0]="HANDSHAKE",t[t.FRAME=1]="FRAME",t[t.CLOSE=2]="CLOSE",t[t.HELLO=3]="HELLO"})(mt||(mt={}));const ku=new Set(Pu());function Pu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function Gu(){var t;return[(t=window.parent.opener)!==null&&t!==void 0?t:window.parent,document.referrer?document.referrer:"*"]}class Bu{getTransfer(e){var n;switch(e.cmd){case P.SUBSCRIBE:case P.UNSUBSCRIBE:return;default:return(n=e.transfer)!==null&&n!==void 0?n:void 0}}constructor(e,n){if(this.sdkVersion=Lu,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new xs,this.pendingCommands=new Map,this.sendCommand=c=>{var m;if(this.source==null)throw new Error("Attempting to send message before initialization");const p=wi();return(m=this.source)===null||m===void 0||m.postMessage([mt.FRAME,Object.assign(Object.assign({},c),{nonce:p})],this.sourceOrigin,this.getTransfer(c)),new Promise((h,b)=>{this.pendingCommands.set(p,{resolve:h,reject:b})})},this.commands=Iu(this.sendCommand),this.handleMessage=c=>{if(!ku.has(c.origin))return;const m=c.data;if(!Array.isArray(m))return;const[p,d]=m;switch(p){case mt.HELLO:return;case mt.CLOSE:return this.handleClose(d);case mt.HANDSHAKE:return this.handleHandshake();case mt.FRAME:return this.handleFrame(d);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=e,this.configuration=n??wu(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.customId=null,this.referrerId=null,this.platform=gt.DESKTOP,this.guildId=null,this.channelId=null,this.locationId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const a=r.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;const u=r.get("platform");if(u){if(u!==gt.DESKTOP&&u!==gt.MOBILE)throw new Error(`Invalid query param "platform" of "${u}". Valid values are "${gt.DESKTOP}" or "${gt.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=u,this.customId=r.get("custom_id"),this.referrerId=r.get("referrer_id"),this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),this.locationId=r.get("location_id"),this.mobileAppVersion=r.get("mobile_app_version"),[this.source,this.sourceOrigin]=Gu(),this.addOnReadyListener(),this.handshake()}close(e,n){var r;window.removeEventListener("message",this.handleMessage);const i=wi();(r=this.source)===null||r===void 0||r.postMessage([mt.CLOSE,{code:e,message:n,nonce:i}],this.sourceOrigin)}async subscribe(e,n,...r){const[i]=r,a=this.eventBus.listenerCount(e),u=this.eventBus.on(e,n);return Object.values(te).includes(e)&&e!==te.READY&&a===0&&await this.sendCommand({cmd:P.SUBSCRIBE,args:i,evt:e}),u}async unsubscribe(e,n,...r){const[i]=r;return e!==te.READY&&this.eventBus.listenerCount(e)===1&&await this.sendCommand({cmd:P.UNSUBSCRIBE,evt:e,args:i}),this.eventBus.off(e,n)}async ready(){this.isReady||await new Promise(e=>{this.eventBus.once(te.READY,e)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return Si}return Si}handshake(){var e;const n={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},r=this.parseMajorMobileVersion();(this.platform===gt.DESKTOP||r>=Ho)&&(n.sdk_version=this.sdkVersion),(e=this.source)===null||e===void 0||e.postMessage([mt.HANDSHAKE,n],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(te.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const e=(n,r)=>{this.commands.captureLog({level:n,message:r})};Ou.forEach(n=>{Ru(console,n,e)})}handleClose(e){Wl.parse(e)}handleHandshake(){}handleFrame(e){var n,r;let i;try{i=Cl(e)}catch(a){console.error("Failed to parse",e),console.error(a);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===ri){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new Nu(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",e);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var tn=1e9,Vu={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ya,fe=!0,$e="[DecimalError] ",Vt=$e+"Invalid argument: ",ii=$e+"Exponent out of range: ",nn=Math.floor,Gt=Math.pow,Hu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,He,ye=1e7,de=7,ma=9007199254740991,hr=nn(ma/de),k={};k.absoluteValue=k.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};k.comparedTo=k.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};k.decimalPlaces=k.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*de;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};k.dividedBy=k.div=function(t){return _t(this,new this.constructor(t))};k.dividedToIntegerBy=k.idiv=function(t){var e=this,n=e.constructor;return ce(_t(e,new n(t),0,1),n.precision)};k.equals=k.eq=function(t){return!this.cmp(t)};k.exponent=function(){return ve(this)};k.greaterThan=k.gt=function(t){return this.cmp(t)>0};k.greaterThanOrEqualTo=k.gte=function(t){return this.cmp(t)>=0};k.isInteger=k.isint=function(){return this.e>this.d.length-2};k.isNegative=k.isneg=function(){return this.s<0};k.isPositive=k.ispos=function(){return this.s>0};k.isZero=function(){return this.s===0};k.lessThan=k.lt=function(t){return this.cmp(t)<0};k.lessThanOrEqualTo=k.lte=function(t){return this.cmp(t)<1};k.logarithm=k.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(He))throw Error($e+"NaN");if(n.s<1)throw Error($e+(n.s?"NaN":"-Infinity"));return n.eq(He)?new r(0):(fe=!1,e=_t(Un(n,a),Un(t,a),a),fe=!0,ce(e,i))};k.minus=k.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?va(e,t):ga(e,(t.s=-t.s,t))};k.modulo=k.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error($e+"NaN");return n.s?(fe=!1,e=_t(n,t,0,1).times(t),fe=!0,n.minus(e)):ce(new r(n),i)};k.naturalExponential=k.exp=function(){return _a(this)};k.naturalLogarithm=k.ln=function(){return Un(this)};k.negated=k.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};k.plus=k.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?ga(e,t):va(e,(t.s=-t.s,t))};k.precision=k.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Vt+t);if(e=ve(i)+1,r=i.d.length-1,n=r*de+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};k.squareRoot=k.sqrt=function(){var t,e,n,r,i,a,u,c=this,m=c.constructor;if(c.s<1){if(!c.s)return new m(0);throw Error($e+"NaN")}for(t=ve(c),fe=!1,i=Math.sqrt(+c),i==0||i==1/0?(e=et(c.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nn((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new m(e)):r=new m(i.toString()),n=m.precision,i=u=n+3;;)if(a=r,r=a.plus(_t(c,a,u+2)).times(.5),et(a.d).slice(0,u)===(e=et(r.d)).slice(0,u)){if(e=e.slice(u-3,u+1),i==u&&e=="4999"){if(ce(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(e!="9999")break;u+=4}return fe=!0,ce(r,n)};k.times=k.mul=function(t){var e,n,r,i,a,u,c,m,p,d=this,h=d.constructor,b=d.d,x=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,n=d.e+t.e,m=b.length,p=x.length,m<p&&(a=b,b=x,x=a,u=m,m=p,p=u),a=[],u=m+p,r=u;r--;)a.push(0);for(r=p;--r>=0;){for(e=0,i=m+r;i>r;)c=a[i]+x[r]*b[i-r-1]+e,a[i--]=c%ye|0,e=c/ye|0;a[i]=(a[i]+e)%ye|0}for(;!a[--u];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,fe?ce(t,h.precision):t};k.toDecimalPlaces=k.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(it(t,0,tn),e===void 0?e=r.rounding:it(e,0,8),ce(n,t+ve(n)+1,e))};k.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=jt(r,!0):(it(t,0,tn),e===void 0?e=i.rounding:it(e,0,8),r=ce(new i(r),t+1,e),n=jt(r,!0,t+1)),n};k.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?jt(i):(it(t,0,tn),e===void 0?e=a.rounding:it(e,0,8),r=ce(new a(i),t+ve(i)+1,e),n=jt(r.abs(),!1,t+ve(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};k.toInteger=k.toint=function(){var t=this,e=t.constructor;return ce(new e(t),ve(t)+1,e.rounding)};k.toNumber=function(){return+this};k.toPower=k.pow=function(t){var e,n,r,i,a,u,c=this,m=c.constructor,p=12,d=+(t=new m(t));if(!t.s)return new m(He);if(c=new m(c),!c.s){if(t.s<1)throw Error($e+"Infinity");return c}if(c.eq(He))return c;if(r=m.precision,t.eq(He))return ce(c,r);if(e=t.e,n=t.d.length-1,u=e>=n,a=c.s,u){if((n=d<0?-d:d)<=ma){for(i=new m(He),e=Math.ceil(r/de+4),fe=!1;n%2&&(i=i.times(c),Ri(i.d,e)),n=nn(n/2),n!==0;)c=c.times(c),Ri(c.d,e);return fe=!0,t.s<0?new m(He).div(i):ce(i,r)}}else if(a<0)throw Error($e+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,c.s=1,fe=!1,i=t.times(Un(c,r+p)),fe=!0,i=_a(i),i.s=a,i};k.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=ve(i),r=jt(i,n<=a.toExpNeg||n>=a.toExpPos)):(it(t,1,tn),e===void 0?e=a.rounding:it(e,0,8),i=ce(new a(i),t,e),n=ve(i),r=jt(i,t<=n||n<=a.toExpNeg,t)),r};k.toSignificantDigits=k.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(it(t,1,tn),e===void 0?e=r.rounding:it(e,0,8)),ce(new r(n),t,e)};k.toString=k.valueOf=k.val=k.toJSON=k[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ve(t),n=t.constructor;return jt(t,e<=n.toExpNeg||e>=n.toExpPos)};function ga(t,e){var n,r,i,a,u,c,m,p,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),fe?ce(e,h):e;if(m=t.d,p=e.d,u=t.e,i=e.e,m=m.slice(),a=u-i,a){for(a<0?(r=m,a=-a,c=p.length):(r=p,i=u,c=m.length),u=Math.ceil(h/de),c=u>c?u+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=m.length,a=p.length,c-a<0&&(a=c,r=p,p=m,m=r),n=0;a;)n=(m[--a]=m[a]+p[a]+n)/ye|0,m[a]%=ye;for(n&&(m.unshift(n),++i),c=m.length;m[--c]==0;)m.pop();return e.d=m,e.e=i,fe?ce(e,h):e}function it(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Vt+t)}function et(t){var e,n,r,i=t.length-1,a="",u=t[0];if(i>0){for(a+=u,e=1;e<i;e++)r=t[e]+"",n=de-r.length,n&&(a+=St(n)),a+=r;u=t[e],r=u+"",n=de-r.length,n&&(a+=St(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var _t=function(){function t(r,i){var a,u=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+u,r[c]=a%ye|0,u=a/ye|0;return u&&r.unshift(u),r}function e(r,i,a,u){var c,m;if(a!=u)m=a>u?1:-1;else for(c=m=0;c<a;c++)if(r[c]!=i[c]){m=r[c]>i[c]?1:-1;break}return m}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*ye+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var c,m,p,d,h,b,x,Y,B,D,ae,J,se,Te,Ee,je,Se,Fe,Be=r.constructor,at=r.s==i.s?1:-1,Le=r.d,ue=i.d;if(!r.s)return new Be(r);if(!i.s)throw Error($e+"Division by zero");for(m=r.e-i.e,Se=ue.length,Ee=Le.length,x=new Be(at),Y=x.d=[],p=0;ue[p]==(Le[p]||0);)++p;if(ue[p]>(Le[p]||0)&&--m,a==null?J=a=Be.precision:u?J=a+(ve(r)-ve(i))+1:J=a,J<0)return new Be(0);if(J=J/de+2|0,p=0,Se==1)for(d=0,ue=ue[0],J++;(p<Ee||d)&&J--;p++)se=d*ye+(Le[p]||0),Y[p]=se/ue|0,d=se%ue|0;else{for(d=ye/(ue[0]+1)|0,d>1&&(ue=t(ue,d),Le=t(Le,d),Se=ue.length,Ee=Le.length),Te=Se,B=Le.slice(0,Se),D=B.length;D<Se;)B[D++]=0;Fe=ue.slice(),Fe.unshift(0),je=ue[0],ue[1]>=ye/2&&++je;do d=0,c=e(ue,B,Se,D),c<0?(ae=B[0],Se!=D&&(ae=ae*ye+(B[1]||0)),d=ae/je|0,d>1?(d>=ye&&(d=ye-1),h=t(ue,d),b=h.length,D=B.length,c=e(h,B,b,D),c==1&&(d--,n(h,Se<b?Fe:ue,b))):(d==0&&(c=d=1),h=ue.slice()),b=h.length,b<D&&h.unshift(0),n(B,h,D),c==-1&&(D=B.length,c=e(ue,B,Se,D),c<1&&(d++,n(B,Se<D?Fe:ue,D))),D=B.length):c===0&&(d++,B=[0]),Y[p++]=d,c&&B[0]?B[D++]=Le[Te]||0:(B=[Le[Te]],D=1);while((Te++<Ee||B[0]!==void 0)&&J--)}return Y[0]||Y.shift(),x.e=m,ce(x,u?a+ve(x)+1:a)}}();function _a(t,e){var n,r,i,a,u,c,m=0,p=0,d=t.constructor,h=d.precision;if(ve(t)>16)throw Error(ii+ve(t));if(!t.s)return new d(He);for(fe=!1,c=h,u=new d(.03125);t.abs().gte(.1);)t=t.times(u),p+=5;for(r=Math.log(Gt(2,p))/Math.LN10*2+5|0,c+=r,n=i=a=new d(He),d.precision=c;;){if(i=ce(i.times(t),c),n=n.times(++m),u=a.plus(_t(i,n,c)),et(u.d).slice(0,c)===et(a.d).slice(0,c)){for(;p--;)a=ce(a.times(a),c);return d.precision=h,e==null?(fe=!0,ce(a,h)):a}a=u}}function ve(t){for(var e=t.e*de,n=t.d[0];n>=10;n/=10)e++;return e}function Zr(t,e,n){if(e>t.LN10.sd())throw fe=!0,n&&(t.precision=n),Error($e+"LN10 precision limit exceeded");return ce(new t(t.LN10),e)}function St(t){for(var e="";t--;)e+="0";return e}function Un(t,e){var n,r,i,a,u,c,m,p,d,h=1,b=10,x=t,Y=x.d,B=x.constructor,D=B.precision;if(x.s<1)throw Error($e+(x.s?"NaN":"-Infinity"));if(x.eq(He))return new B(0);if(e==null?(fe=!1,p=D):p=e,x.eq(10))return e==null&&(fe=!0),Zr(B,p);if(p+=b,B.precision=p,n=et(Y),r=n.charAt(0),a=ve(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=et(x.d),r=n.charAt(0),h++;a=ve(x),r>1?(x=new B("0."+n),a++):x=new B(r+"."+n.slice(1))}else return m=Zr(B,p+2,D).times(a+""),x=Un(new B(r+"."+n.slice(1)),p-b).plus(m),B.precision=D,e==null?(fe=!0,ce(x,D)):x;for(c=u=x=_t(x.minus(He),x.plus(He),p),d=ce(x.times(x),p),i=3;;){if(u=ce(u.times(d),p),m=c.plus(_t(u,new B(i),p)),et(m.d).slice(0,p)===et(c.d).slice(0,p))return c=c.times(2),a!==0&&(c=c.plus(Zr(B,p+2,D).times(a+""))),c=_t(c,new B(h),p),B.precision=D,e==null?(fe=!0,ce(c,D)):c;c=m,i+=2}}function Oi(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nn(n/de),t.d=[],r=(n+1)%de,n<0&&(r+=de),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=de;r<i;)t.d.push(+e.slice(r,r+=de));e=e.slice(r),r=de-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),fe&&(t.e>hr||t.e<-hr))throw Error(ii+n)}else t.s=0,t.e=0,t.d=[0];return t}function ce(t,e,n){var r,i,a,u,c,m,p,d,h=t.d;for(u=1,a=h[0];a>=10;a/=10)u++;if(r=e-u,r<0)r+=de,i=e,p=h[d=0];else{if(d=Math.ceil((r+1)/de),a=h.length,d>=a)return t;for(p=a=h[d],u=1;a>=10;a/=10)u++;r%=de,i=r-de+u}if(n!==void 0&&(a=Gt(10,u-i-1),c=p/a%10|0,m=e<0||h[d+1]!==void 0||p%a,m=n<4?(c||m)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||m||n==6&&(r>0?i>0?p/Gt(10,u-i):0:h[d-1])%10&1||n==(t.s<0?8:7))),e<1||!h[0])return m?(a=ve(t),h.length=1,e=e-a-1,h[0]=Gt(10,(de-e%de)%de),t.e=nn(-e/de)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=Gt(10,de-r),h[d]=i>0?(p/Gt(10,u-i)%Gt(10,i)|0)*a:0),m)for(;;)if(d==0){(h[0]+=a)==ye&&(h[0]=1,++t.e);break}else{if(h[d]+=a,h[d]!=ye)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(fe&&(t.e>hr||t.e<-hr))throw Error(ii+ve(t));return t}function va(t,e){var n,r,i,a,u,c,m,p,d,h,b=t.constructor,x=b.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new b(t),fe?ce(e,x):e;if(m=t.d,h=e.d,r=e.e,p=t.e,m=m.slice(),u=p-r,u){for(d=u<0,d?(n=m,u=-u,c=h.length):(n=h,r=p,c=m.length),i=Math.max(Math.ceil(x/de),c)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=m.length,c=h.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(m[i]!=h[i]){d=m[i]<h[i];break}u=0}for(d&&(n=m,m=h,h=n,e.s=-e.s),c=m.length,i=h.length-c;i>0;--i)m[c++]=0;for(i=h.length;i>u;){if(m[--i]<h[i]){for(a=i;a&&m[--a]===0;)m[a]=ye-1;--m[a],m[i]+=ye}m[i]-=h[i]}for(;m[--c]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(e.d=m,e.e=r,fe?ce(e,x):e):new b(0)}function jt(t,e,n){var r,i=ve(t),a=et(t.d),u=a.length;return e?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+St(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+St(-i-1)+a,n&&(r=n-u)>0&&(a+=St(r))):i>=u?(a+=St(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+St(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=St(r))),t.s<0?"-"+a:a}function Ri(t,e){if(t.length>e)return t.length=e,!0}function Ea(t){var e,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vt+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return Oi(u,a.toString())}else if(typeof a!="string")throw Error(Vt+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,Hu.test(a))Oi(u,a);else throw Error(Vt+a)}if(i.prototype=k,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Ea,i.config=i.set=Zu,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Zu(t){if(!t||typeof t!="object")throw Error($e+"Object expected");var e,n,r,i=["precision",1,tn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nn(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Vt+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vt+n+": "+r);return this}var ya=Ea(Vu);He=new ya(1);var y;(function(t){t.AED="aed",t.AFN="afn",t.ALL="all",t.AMD="amd",t.ANG="ang",t.AOA="aoa",t.ARS="ars",t.AUD="aud",t.AWG="awg",t.AZN="azn",t.BAM="bam",t.BBD="bbd",t.BDT="bdt",t.BGN="bgn",t.BHD="bhd",t.BIF="bif",t.BMD="bmd",t.BND="bnd",t.BOB="bob",t.BOV="bov",t.BRL="brl",t.BSD="bsd",t.BTN="btn",t.BWP="bwp",t.BYN="byn",t.BYR="byr",t.BZD="bzd",t.CAD="cad",t.CDF="cdf",t.CHE="che",t.CHF="chf",t.CHW="chw",t.CLF="clf",t.CLP="clp",t.CNY="cny",t.COP="cop",t.COU="cou",t.CRC="crc",t.CUC="cuc",t.CUP="cup",t.CVE="cve",t.CZK="czk",t.DJF="djf",t.DKK="dkk",t.DOP="dop",t.DZD="dzd",t.EGP="egp",t.ERN="ern",t.ETB="etb",t.EUR="eur",t.FJD="fjd",t.FKP="fkp",t.GBP="gbp",t.GEL="gel",t.GHS="ghs",t.GIP="gip",t.GMD="gmd",t.GNF="gnf",t.GTQ="gtq",t.GYD="gyd",t.HKD="hkd",t.HNL="hnl",t.HRK="hrk",t.HTG="htg",t.HUF="huf",t.IDR="idr",t.ILS="ils",t.INR="inr",t.IQD="iqd",t.IRR="irr",t.ISK="isk",t.JMD="jmd",t.JOD="jod",t.JPY="jpy",t.KES="kes",t.KGS="kgs",t.KHR="khr",t.KMF="kmf",t.KPW="kpw",t.KRW="krw",t.KWD="kwd",t.KYD="kyd",t.KZT="kzt",t.LAK="lak",t.LBP="lbp",t.LKR="lkr",t.LRD="lrd",t.LSL="lsl",t.LTL="ltl",t.LVL="lvl",t.LYD="lyd",t.MAD="mad",t.MDL="mdl",t.MGA="mga",t.MKD="mkd",t.MMK="mmk",t.MNT="mnt",t.MOP="mop",t.MRO="mro",t.MUR="mur",t.MVR="mvr",t.MWK="mwk",t.MXN="mxn",t.MXV="mxv",t.MYR="myr",t.MZN="mzn",t.NAD="nad",t.NGN="ngn",t.NIO="nio",t.NOK="nok",t.NPR="npr",t.NZD="nzd",t.OMR="omr",t.PAB="pab",t.PEN="pen",t.PGK="pgk",t.PHP="php",t.PKR="pkr",t.PLN="pln",t.PYG="pyg",t.QAR="qar",t.RON="ron",t.RSD="rsd",t.RUB="rub",t.RWF="rwf",t.SAR="sar",t.SBD="sbd",t.SCR="scr",t.SDG="sdg",t.SEK="sek",t.SGD="sgd",t.SHP="shp",t.SLL="sll",t.SOS="sos",t.SRD="srd",t.SSP="ssp",t.STD="std",t.SVC="svc",t.SYP="syp",t.SZL="szl",t.THB="thb",t.TJS="tjs",t.TMT="tmt",t.TND="tnd",t.TOP="top",t.TRY="try",t.TTD="ttd",t.TWD="twd",t.TZS="tzs",t.UAH="uah",t.UGX="ugx",t.USD="usd",t.USN="usn",t.USS="uss",t.UYI="uyi",t.UYU="uyu",t.UZS="uzs",t.VEF="vef",t.VND="vnd",t.VUV="vuv",t.WST="wst",t.XAF="xaf",t.XAG="xag",t.XAU="xau",t.XBA="xba",t.XBB="xbb",t.XBC="xbc",t.XBD="xbd",t.XCD="xcd",t.XDR="xdr",t.XFU="xfu",t.XOF="xof",t.XPD="xpd",t.XPF="xpf",t.XPT="xpt",t.XSU="xsu",t.XTS="xts",t.XUA="xua",t.YER="yer",t.ZAR="zar",t.ZMW="zmw",t.ZWL="zwl"})(y||(y={}));y.AED+"",y.AFN+"",y.ALL+"",y.AMD+"",y.ANG+"",y.AOA+"",y.ARS+"",y.AUD+"",y.AWG+"",y.AZN+"",y.BAM+"",y.BBD+"",y.BDT+"",y.BGN+"",y.BHD+"",y.BIF+"",y.BMD+"",y.BND+"",y.BOB+"",y.BOV+"",y.BRL+"",y.BSD+"",y.BTN+"",y.BWP+"",y.BYR+"",y.BYN+"",y.BZD+"",y.CAD+"",y.CDF+"",y.CHE+"",y.CHF+"",y.CHW+"",y.CLF+"",y.CLP+"",y.CNY+"",y.COP+"",y.COU+"",y.CRC+"",y.CUC+"",y.CUP+"",y.CVE+"",y.CZK+"",y.DJF+"",y.DKK+"",y.DOP+"",y.DZD+"",y.EGP+"",y.ERN+"",y.ETB+"",y.EUR+"",y.FJD+"",y.FKP+"",y.GBP+"",y.GEL+"",y.GHS+"",y.GIP+"",y.GMD+"",y.GNF+"",y.GTQ+"",y.GYD+"",y.HKD+"",y.HNL+"",y.HRK+"",y.HTG+"",y.HUF+"",y.IDR+"",y.ILS+"",y.INR+"",y.IQD+"",y.IRR+"",y.ISK+"",y.JMD+"",y.JOD+"",y.JPY+"",y.KES+"",y.KGS+"",y.KHR+"",y.KMF+"",y.KPW+"",y.KRW+"",y.KWD+"",y.KYD+"",y.KZT+"",y.LAK+"",y.LBP+"",y.LKR+"",y.LRD+"",y.LSL+"",y.LTL+"",y.LVL+"",y.LYD+"",y.MAD+"",y.MDL+"",y.MGA+"",y.MKD+"",y.MMK+"",y.MNT+"",y.MOP+"",y.MRO+"",y.MUR+"",y.MVR+"",y.MWK+"",y.MXN+"",y.MXV+"",y.MYR+"",y.MZN+"",y.NAD+"",y.NGN+"",y.NIO+"",y.NOK+"",y.NPR+"",y.NZD+"",y.OMR+"",y.PAB+"",y.PEN+"",y.PGK+"",y.PHP+"",y.PKR+"",y.PLN+"",y.PYG+"",y.QAR+"",y.RON+"",y.RSD+"",y.RUB+"",y.RWF+"",y.SAR+"",y.SBD+"",y.SCR+"",y.SDG+"",y.SEK+"",y.SGD+"",y.SHP+"",y.SLL+"",y.SOS+"",y.SRD+"",y.SSP+"",y.STD+"",y.SVC+"",y.SYP+"",y.SZL+"",y.THB+"",y.TJS+"",y.TMT+"",y.TND+"",y.TOP+"",y.TRY+"",y.TTD+"",y.TWD+"",y.TZS+"",y.UAH+"",y.UGX+"",y.USD+"",y.USN+"",y.USS+"",y.UYI+"",y.UYU+"",y.UZS+"",y.VEF+"",y.VND+"",y.VUV+"",y.WST+"",y.XAF+"",y.XAG+"",y.XAU+"",y.XBA+"",y.XBB+"",y.XBC+"",y.XBD+"",y.XCD+"",y.XDR+"",y.XFU+"",y.XOF+"",y.XPD+"",y.XPF+"",y.XPT+"",y.XSU+"",y.XTS+"",y.XUA+"",y.YER+"",y.ZAR+"",y.ZMW+"",y.ZWL+"";var gn={exports:{}};gn.exports;var Li;function ju(){return Li||(Li=1,function(t,e){var n=200,r="Expected a function",i="__lodash_hash_undefined__",a=1,u=2,c=9007199254740991,m="[object Arguments]",p="[object Array]",d="[object Boolean]",h="[object Date]",b="[object Error]",x="[object Function]",Y="[object GeneratorFunction]",B="[object Map]",D="[object Number]",ae="[object Object]",J="[object Promise]",se="[object RegExp]",Te="[object Set]",Ee="[object String]",je="[object Symbol]",Se="[object WeakMap]",Fe="[object ArrayBuffer]",Be="[object DataView]",at="[object Float32Array]",Le="[object Float64Array]",ue="[object Int8Array]",yr="[object Int16Array]",Gn="[object Int32Array]",Bn="[object Uint8Array]",Tr="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Vn="[object Uint32Array]",st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/,Hn=/^\./,rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ye=/[\\^$.*+?()[\]{}|]/g,Dt=/\\(\\)?/g,lt=/^\[object .+?Constructor\]$/,Zn=/^(?:0|[1-9]\d*)$/,le={};le[at]=le[Le]=le[ue]=le[yr]=le[Gn]=le[Bn]=le[Tr]=le[Sr]=le[Vn]=!0,le[m]=le[p]=le[Fe]=le[d]=le[Be]=le[h]=le[b]=le[x]=le[B]=le[D]=le[ae]=le[se]=le[Te]=le[Ee]=le[Se]=!1;var Ft=typeof rr=="object"&&rr&&rr.Object===Object&&rr,br=typeof self=="object"&&self&&self.Object===Object&&self,Ve=Ft||br||Function("return this")(),an=e&&!e.nodeType&&e,sn=an&&!0&&t&&!t.nodeType&&t,on=sn&&sn.exports===an,ln=on&&Ft.process,jn=function(){try{return ln&&ln.binding("util")}catch{}}(),Fn=jn&&jn.isTypedArray;function Ar(o,f){for(var A=-1,R=o?o.length:0;++A<R&&f(o[A],A,o)!==!1;);return o}function qn(o,f){for(var A=-1,R=o?o.length:0;++A<R;)if(f(o[A],A,o))return!0;return!1}function Ir(o){return function(f){return f==null?void 0:f[o]}}function xt(o,f){for(var A=-1,R=Array(o);++A<o;)R[A]=f(A);return R}function Kn(o){return function(f){return o(f)}}function $n(o,f){return o==null?void 0:o[f]}function un(o){var f=!1;if(o!=null&&typeof o.toString!="function")try{f=!!(o+"")}catch{}return f}function F(o){var f=-1,A=Array(o.size);return o.forEach(function(R,W){A[++f]=[W,R]}),A}function Je(o,f){return function(A){return o(f(A))}}function s(o){var f=-1,A=Array(o.size);return o.forEach(function(R){A[++f]=R}),A}var l=Array.prototype,_=Function.prototype,E=Object.prototype,S=Ve["__core-js_shared__"],T=function(){var o=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),N=_.toString,I=E.hasOwnProperty,w=E.toString,$=RegExp("^"+N.call(I).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Q=Ve.Symbol,z=Ve.Uint8Array,oe=Je(Object.getPrototypeOf,Object),De=Object.create,Ie=E.propertyIsEnumerable,cn=l.splice,dn=Je(Object.keys,Object),Nr=qt(Ve,"DataView"),pn=qt(Ve,"Map"),wr=qt(Ve,"Promise"),Or=qt(Ve,"Set"),Rr=qt(Ve,"WeakMap"),fn=qt(Object,"create"),Ia=Ut(Nr),Na=Ut(pn),wa=Ut(wr),Oa=Ut(Or),Ra=Ut(Rr),Yn=Q?Q.prototype:void 0,Lr=Yn?Yn.valueOf:void 0,ai=Yn?Yn.toString:void 0;function Mt(o){var f=-1,A=o?o.length:0;for(this.clear();++f<A;){var R=o[f];this.set(R[0],R[1])}}function La(){this.__data__=fn?fn(null):{}}function Da(o){return this.has(o)&&delete this.__data__[o]}function xa(o){var f=this.__data__;if(fn){var A=f[o];return A===i?void 0:A}return I.call(f,o)?f[o]:void 0}function Ma(o){var f=this.__data__;return fn?f[o]!==void 0:I.call(f,o)}function Ua(o,f){var A=this.__data__;return A[o]=fn&&f===void 0?i:f,this}Mt.prototype.clear=La,Mt.prototype.delete=Da,Mt.prototype.get=xa,Mt.prototype.has=Ma,Mt.prototype.set=Ua;function ut(o){var f=-1,A=o?o.length:0;for(this.clear();++f<A;){var R=o[f];this.set(R[0],R[1])}}function ka(){this.__data__=[]}function Pa(o){var f=this.__data__,A=Wn(f,o);if(A<0)return!1;var R=f.length-1;return A==R?f.pop():cn.call(f,A,1),!0}function Ga(o){var f=this.__data__,A=Wn(f,o);return A<0?void 0:f[A][1]}function Ba(o){return Wn(this.__data__,o)>-1}function Va(o,f){var A=this.__data__,R=Wn(A,o);return R<0?A.push([o,f]):A[R][1]=f,this}ut.prototype.clear=ka,ut.prototype.delete=Pa,ut.prototype.get=Ga,ut.prototype.has=Ba,ut.prototype.set=Va;function ct(o){var f=-1,A=o?o.length:0;for(this.clear();++f<A;){var R=o[f];this.set(R[0],R[1])}}function Ha(){this.__data__={hash:new Mt,map:new(pn||ut),string:new Mt}}function Za(o){return Xn(this,o).delete(o)}function ja(o){return Xn(this,o).get(o)}function Fa(o){return Xn(this,o).has(o)}function qa(o,f){return Xn(this,o).set(o,f),this}ct.prototype.clear=Ha,ct.prototype.delete=Za,ct.prototype.get=ja,ct.prototype.has=Fa,ct.prototype.set=qa;function zn(o){var f=-1,A=o?o.length:0;for(this.__data__=new ct;++f<A;)this.add(o[f])}function Ka(o){return this.__data__.set(o,i),this}function $a(o){return this.__data__.has(o)}zn.prototype.add=zn.prototype.push=Ka,zn.prototype.has=$a;function dt(o){this.__data__=new ut(o)}function Ya(){this.__data__=new ut}function za(o){return this.__data__.delete(o)}function Wa(o){return this.__data__.get(o)}function Xa(o){return this.__data__.has(o)}function Ca(o,f){var A=this.__data__;if(A instanceof ut){var R=A.__data__;if(!pn||R.length<n-1)return R.push([o,f]),this;A=this.__data__=new ct(R)}return A.set(o,f),this}dt.prototype.clear=Ya,dt.prototype.delete=za,dt.prototype.get=Wa,dt.prototype.has=Xa,dt.prototype.set=Ca;function Ja(o,f){var A=pt(o)||fi(o)?xt(o.length,String):[],R=A.length,W=!!R;for(var G in o)I.call(o,G)&&!(W&&(G=="length"||ui(G,R)))&&A.push(G);return A}function Wn(o,f){for(var A=o.length;A--;)if(pi(o[A][0],f))return A;return-1}function Qa(o){return Kt(o)?De(o):{}}var es=hs();function ts(o,f){return o&&es(o,f,er)}function si(o,f){f=Cn(f,o)?[f]:oi(f);for(var A=0,R=f.length;o!=null&&A<R;)o=o[Jn(f[A++])];return A&&A==R?o:void 0}function ns(o){return w.call(o)}function rs(o,f){return o!=null&&f in Object(o)}function Dr(o,f,A,R,W){return o===f?!0:o==null||f==null||!Kt(o)&&!Qn(f)?o!==o&&f!==f:is(o,f,Dr,A,R,W)}function is(o,f,A,R,W,G){var ee=pt(o),_e=pt(f),me=p,Ne=p;ee||(me=yt(o),me=me==m?ae:me),_e||(Ne=yt(f),Ne=Ne==m?ae:Ne);var ke=me==ae&&!un(o),Pe=Ne==ae&&!un(f),xe=me==Ne;if(xe&&!ke)return G||(G=new dt),ee||mi(o)?li(o,f,A,R,W,G):ms(o,f,me,A,R,W,G);if(!(W&u)){var qe=ke&&I.call(o,"__wrapped__"),Ke=Pe&&I.call(f,"__wrapped__");if(qe||Ke){var Tt=qe?o.value():o,ft=Ke?f.value():f;return G||(G=new dt),A(Tt,ft,R,W,G)}}return xe?(G||(G=new dt),gs(o,f,A,R,W,G)):!1}function as(o,f,A,R){var W=A.length,G=W;if(o==null)return!G;for(o=Object(o);W--;){var ee=A[W];if(ee[2]?ee[1]!==o[ee[0]]:!(ee[0]in o))return!1}for(;++W<G;){ee=A[W];var _e=ee[0],me=o[_e],Ne=ee[1];if(ee[2]){if(me===void 0&&!(_e in o))return!1}else{var ke=new dt,Pe;if(!(Pe===void 0?Dr(Ne,me,R,a|u,ke):Pe))return!1}}return!0}function ss(o){if(!Kt(o)||ys(o))return!1;var f=Mr(o)||un(o)?$:lt;return f.test(Ut(o))}function os(o){return Qn(o)&&Ur(o.length)&&!!le[w.call(o)]}function ls(o){return typeof o=="function"?o:o==null?Os:typeof o=="object"?pt(o)?ds(o[0],o[1]):cs(o):Rs(o)}function us(o){if(!Ts(o))return dn(o);var f=[];for(var A in Object(o))I.call(o,A)&&A!="constructor"&&f.push(A);return f}function cs(o){var f=_s(o);return f.length==1&&f[0][2]?di(f[0][0],f[0][1]):function(A){return A===o||as(A,o,f)}}function ds(o,f){return Cn(o)&&ci(f)?di(Jn(o),f):function(A){var R=Is(A,o);return R===void 0&&R===f?Ns(A,o):Dr(f,R,void 0,a|u)}}function ps(o){return function(f){return si(f,o)}}function fs(o){if(typeof o=="string")return o;if(kr(o))return ai?ai.call(o):"";var f=o+"";return f=="0"&&1/o==-1/0?"-0":f}function oi(o){return pt(o)?o:Ss(o)}function hs(o){return function(f,A,R){for(var W=-1,G=Object(f),ee=R(f),_e=ee.length;_e--;){var me=ee[++W];if(A(G[me],me,G)===!1)break}return f}}function li(o,f,A,R,W,G){var ee=W&u,_e=o.length,me=f.length;if(_e!=me&&!(ee&&me>_e))return!1;var Ne=G.get(o);if(Ne&&G.get(f))return Ne==f;var ke=-1,Pe=!0,xe=W&a?new zn:void 0;for(G.set(o,f),G.set(f,o);++ke<_e;){var qe=o[ke],Ke=f[ke];if(R)var Tt=ee?R(Ke,qe,ke,f,o,G):R(qe,Ke,ke,o,f,G);if(Tt!==void 0){if(Tt)continue;Pe=!1;break}if(xe){if(!qn(f,function(ft,kt){if(!xe.has(kt)&&(qe===ft||A(qe,ft,R,W,G)))return xe.add(kt)})){Pe=!1;break}}else if(!(qe===Ke||A(qe,Ke,R,W,G))){Pe=!1;break}}return G.delete(o),G.delete(f),Pe}function ms(o,f,A,R,W,G,ee){switch(A){case Be:if(o.byteLength!=f.byteLength||o.byteOffset!=f.byteOffset)return!1;o=o.buffer,f=f.buffer;case Fe:return!(o.byteLength!=f.byteLength||!R(new z(o),new z(f)));case d:case h:case D:return pi(+o,+f);case b:return o.name==f.name&&o.message==f.message;case se:case Ee:return o==f+"";case B:var _e=F;case Te:var me=G&u;if(_e||(_e=s),o.size!=f.size&&!me)return!1;var Ne=ee.get(o);if(Ne)return Ne==f;G|=a,ee.set(o,f);var ke=li(_e(o),_e(f),R,W,G,ee);return ee.delete(o),ke;case je:if(Lr)return Lr.call(o)==Lr.call(f)}return!1}function gs(o,f,A,R,W,G){var ee=W&u,_e=er(o),me=_e.length,Ne=er(f),ke=Ne.length;if(me!=ke&&!ee)return!1;for(var Pe=me;Pe--;){var xe=_e[Pe];if(!(ee?xe in f:I.call(f,xe)))return!1}var qe=G.get(o);if(qe&&G.get(f))return qe==f;var Ke=!0;G.set(o,f),G.set(f,o);for(var Tt=ee;++Pe<me;){xe=_e[Pe];var ft=o[xe],kt=f[xe];if(R)var gi=ee?R(kt,ft,xe,f,o,G):R(ft,kt,xe,o,f,G);if(!(gi===void 0?ft===kt||A(ft,kt,R,W,G):gi)){Ke=!1;break}Tt||(Tt=xe=="constructor")}if(Ke&&!Tt){var tr=o.constructor,nr=f.constructor;tr!=nr&&"constructor"in o&&"constructor"in f&&!(typeof tr=="function"&&tr instanceof tr&&typeof nr=="function"&&nr instanceof nr)&&(Ke=!1)}return G.delete(o),G.delete(f),Ke}function Xn(o,f){var A=o.__data__;return Es(f)?A[typeof f=="string"?"string":"hash"]:A.map}function _s(o){for(var f=er(o),A=f.length;A--;){var R=f[A],W=o[R];f[A]=[R,W,ci(W)]}return f}function qt(o,f){var A=$n(o,f);return ss(A)?A:void 0}var yt=ns;(Nr&&yt(new Nr(new ArrayBuffer(1)))!=Be||pn&&yt(new pn)!=B||wr&&yt(wr.resolve())!=J||Or&&yt(new Or)!=Te||Rr&&yt(new Rr)!=Se)&&(yt=function(o){var f=w.call(o),A=f==ae?o.constructor:void 0,R=A?Ut(A):void 0;if(R)switch(R){case Ia:return Be;case Na:return B;case wa:return J;case Oa:return Te;case Ra:return Se}return f});function vs(o,f,A){f=Cn(f,o)?[f]:oi(f);for(var R,W=-1,ee=f.length;++W<ee;){var G=Jn(f[W]);if(!(R=o!=null&&A(o,G)))break;o=o[G]}if(R)return R;var ee=o?o.length:0;return!!ee&&Ur(ee)&&ui(G,ee)&&(pt(o)||fi(o))}function ui(o,f){return f=f??c,!!f&&(typeof o=="number"||Zn.test(o))&&o>-1&&o%1==0&&o<f}function Cn(o,f){if(pt(o))return!1;var A=typeof o;return A=="number"||A=="symbol"||A=="boolean"||o==null||kr(o)?!0:ot.test(o)||!st.test(o)||f!=null&&o in Object(f)}function Es(o){var f=typeof o;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?o!=="__proto__":o===null}function ys(o){return!!T&&T in o}function Ts(o){var f=o&&o.constructor,A=typeof f=="function"&&f.prototype||E;return o===A}function ci(o){return o===o&&!Kt(o)}function di(o,f){return function(A){return A==null?!1:A[o]===f&&(f!==void 0||o in Object(A))}}var Ss=xr(function(o){o=As(o);var f=[];return Hn.test(o)&&f.push(""),o.replace(rn,function(A,R,W,G){f.push(W?G.replace(Dt,"$1"):R||A)}),f});function Jn(o){if(typeof o=="string"||kr(o))return o;var f=o+"";return f=="0"&&1/o==-1/0?"-0":f}function Ut(o){if(o!=null){try{return N.call(o)}catch{}try{return o+""}catch{}}return""}function xr(o,f){if(typeof o!="function"||f&&typeof f!="function")throw new TypeError(r);var A=function(){var R=arguments,W=f?f.apply(this,R):R[0],G=A.cache;if(G.has(W))return G.get(W);var ee=o.apply(this,R);return A.cache=G.set(W,ee),ee};return A.cache=new(xr.Cache||ct),A}xr.Cache=ct;function pi(o,f){return o===f||o!==o&&f!==f}function fi(o){return bs(o)&&I.call(o,"callee")&&(!Ie.call(o,"callee")||w.call(o)==m)}var pt=Array.isArray;function hi(o){return o!=null&&Ur(o.length)&&!Mr(o)}function bs(o){return Qn(o)&&hi(o)}function Mr(o){var f=Kt(o)?w.call(o):"";return f==x||f==Y}function Ur(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function Kt(o){var f=typeof o;return!!o&&(f=="object"||f=="function")}function Qn(o){return!!o&&typeof o=="object"}function kr(o){return typeof o=="symbol"||Qn(o)&&w.call(o)==je}var mi=Fn?Kn(Fn):os;function As(o){return o==null?"":fs(o)}function Is(o,f,A){var R=o==null?void 0:si(o,f);return R===void 0?A:R}function Ns(o,f){return o!=null&&vs(o,f,rs)}function er(o){return hi(o)?Ja(o):us(o)}function ws(o,f,A){var R=pt(o)||mi(o);if(f=ls(f),A==null)if(R||Kt(o)){var W=o.constructor;R?A=pt(o)?new W:[]:A=Mr(W)?Qa(oe(o)):{}}else A={};return(R?Ar:ts)(o,function(G,ee,_e){return f(A,G,ee,_e)}),A}function Os(o){return o}function Rs(o){return Cn(o)?Ir(Jn(o)):ps(o)}t.exports=ws}(gn,gn.exports)),gn.exports}ju();function Fu(t){let e=t;const n=new Set;function r(c){e={...e,...c},n.forEach(m=>m(e))}function i(c){e=c(e),n.forEach(p=>p(e))}function a(c){return n.add(c),c(e),()=>n.delete(c)}function u(){return e}return{set:r,update:i,subscribe:a,get:u}}function qu({onMessage:t,onStatus:e,getJoinPayload:n}){let r=null,i=null,a=1e3,u=!1;const c=()=>`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws`;function m(){u=!1,e("connecting"),r=new WebSocket(c()),r.addEventListener("open",()=>{e("connected"),a=1e3;const h=n();h&&p(h)}),r.addEventListener("message",h=>{try{t(JSON.parse(h.data))}catch{t({t:"error",message:"Bad message from server."})}}),r.addEventListener("close",()=>{e("disconnected"),u||(i=setTimeout(m,a),a=Math.min(1e4,a*1.5))}),r.addEventListener("error",()=>e("error"))}function p(h){return!r||r.readyState!==1?!1:(r.send(JSON.stringify({v:1,...h})),!0)}function d(){u=!0,i&&clearTimeout(i),r&&r.readyState<=1&&r.close()}return{connect:m,send:p,close:d}}function Ku(t=""){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function sr(t=""){return Ku(t).replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>")}function $u(t=""){const e=t.split(/\r?\n/),n=[];let r=!1;for(const i of e){const a=i.trimEnd();if(!a.trim()){r&&(n.push("</ul>"),r=!1);continue}if(a.startsWith("## ")){r&&(n.push("</ul>"),r=!1),n.push(`<h3>${sr(a.slice(3))}</h3>`);continue}if(a.startsWith("### ")){r&&(n.push("</ul>"),r=!1),n.push(`<h4>${sr(a.slice(4))}</h4>`);continue}if(a.startsWith("- ")){r||(n.push("<ul>"),r=!0),n.push(`<li>${sr(a.slice(2))}</li>`);continue}r&&(n.push("</ul>"),r=!1),n.push(`<p>${sr(a)}</p>`)}return r&&n.push("</ul>"),n.join(`
`)}const Yu={sfx:{guess:"/audio/guess.mp3",otherGuess:"/audio/other-guess.mp3",correct:"/audio/correct.mp3",error:"/audio/error.mp3",hint:"/audio/hint.mp3",uiClick:"/audio/ui-click.mp3"},music:{default:"/audio/music-default.mp3"}},Ta="context-clues-audio-prefs-v1";function zu(){try{return JSON.parse(localStorage.getItem(Ta)||"{}")}catch{return{}}}function Wu(t){const e={muted:!1,sfxVolume:.7,musicVolume:.4,...zu()};let n=!1,r=null;function i(){localStorage.setItem(Ta,JSON.stringify(e))}function a(){r&&(r.volume=e.musicVolume)}async function u(){n=!0,a()}function c(D,ae=!1){if(!D)return null;const J=new Audio(D);return J.loop=ae,J.preload="none",J}function m(D){var se;if(e.muted||!n)return;const ae=(se=t.sfx)==null?void 0:se[D];if(!ae)return;const J=c(ae,!1);J&&(J.volume=e.sfxVolume,J.play().catch(()=>{}))}function p(D="default"){var J;r&&(r.pause(),r=null);const ae=(J=t.music)==null?void 0:J[D];ae&&(r=c(ae,!0),a(),!e.muted&&n&&r.play().catch(()=>{}))}function d(){e.muted||!n||!r||r.play().catch(()=>{})}function h(){r&&r.pause()}function b(D){e.muted=!!D,i(),e.muted?h():d()}function x(){b(!e.muted)}function Y(){n||(u(),d())}function B(){return{...e,unlocked:n}}return{state:B,playSfx:m,setMusicTrack:p,startMusic:d,stopMusic:h,setMuted:b,toggleMuted:x,unlockFromGesture:Y}}const Pt=new Bu(void 0),Xu=document.querySelector("#app"),Me=Wu(Yu);Me.setMusicTrack("default");const Sa="context-clues-theme-v1";function Cu(){return localStorage.getItem(Sa)==="dark"?"dark":"light"}const ne=Fu({connection:"idle",profile:null,roomKey:null,state:null,banner:null,error:null,modal:null,helpMarkdown:"",localLastGuessId:null,localLastGuessEntry:null,composing:!1,menuOpen:!1,theme:Cu()});let mr;function Ju(t){return!Number.isFinite(t)||t<=0?"unknown":t<=20?"closest":t<=100?"near":t<=500?"warm":t<=2e3?"mid":"far"}function Qu(t){if(!Number.isFinite(t)||t<=0)return 12;const e=100-Math.log10(t+1)*24;return Math.max(10,Math.min(92,Number(e.toFixed(1))))}function ec(t){return[...(t==null?void 0:t.guesses)||[]].sort((e,n)=>e.rank-n.rank||n.ts-e.ts)}function kn(t=""){return t.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function ba(t,e){var c,m;const n=Ju(t.rank),r=Qu(t.rank),i=Number.isFinite(t.rank)?`#${t.rank}`:"",a=!!t.isHint,u=a?'<span class="guess-avatar guess-avatar-fallback guess-avatar-hint">?</span>':(c=t.user)!=null&&c.avatarUrl?`<img class="guess-avatar" src="${t.user.avatarUrl}" alt="" loading="lazy"/>`:`<span class="guess-avatar guess-avatar-fallback">${kn((((m=t.user)==null?void 0:m.username)||"?").slice(0,1).toUpperCase())}</span>`;return`<li class="guess-row tier-${n} ${e?"local-recent":""} ${a?"guess-row-hint":""}">
      <div class="guess-fill" style="width:${r}%"></div>
      <div class="guess-content">
        <div class="guess-left">${u}<span class="guess-word">${kn(t.word)}</span></div>
        <span class="guess-rank">${i}</span>
      </div>
    </li>`}function tc(t){return ec(t.state).map(e=>ba(e,e.id===t.localLastGuessId)).join("")}function nc(t){var r;if(!t.modal)return"";let e="",n="";return t.modal==="help"&&(e="Help",n=$u(t.helpMarkdown||"Help content unavailable.")),t.modal==="players"&&(e="Players",n=`<ul class="player-list">${(((r=t.state)==null?void 0:r.players)||[]).map(a=>`<li><span>${kn(a.username||"Unknown")}</span><span>${a.connected?"online":"away"}</span></li>`).join("")}</ul>`),`<div class="modal-backdrop" id="modalBackdrop">
    <section class="modal-card" role="dialog" aria-modal="true" aria-label="${e}">
      <header class="modal-header">
        <h2>${e}</h2>
        <button id="closeModal" class="close-modal" aria-label="Close"></button>
      </header>
      <div class="modal-body">${n}</div>
    </section>
  </div>`}function rc(t){return t.menuOpen?`<div class="menu-pop" id="menuPop" role="menu" aria-label="Game menu">
    <button class="menu-item" data-menu-action="help" role="menuitem">Help</button>
    <button class="menu-item" data-menu-action="hint" role="menuitem">Hint</button>
    <button class="menu-item" data-menu-action="players" role="menuitem">Players</button>
    <button class="menu-item" data-menu-action="sound" role="menuitem">Sound: ${Me.state().muted?"Muted":"On"}</button>
    <button class="menu-item" data-menu-action="theme" role="menuitem">Theme: ${t.theme==="light"?"Light":"Dark"}</button>
  </div>`:""}function ic(t){document.documentElement.setAttribute("data-theme",t),localStorage.setItem(Sa,t)}function vn(t){return!t.modal&&!t.menuOpen}function vt(){const t=document.querySelector("#guessInput");t&&t.focus()}function ac(t){var i,a,u,c,m,p,d;ic(t.theme);const e=((a=(i=t.state)==null?void 0:i.totals)==null?void 0:a.totalGuesses)??0,n=(u=t.state)!=null&&u.roundId?`GAME: #${t.state.roundId}`:"GAME: ----";Xu.innerHTML=`
    <main class="page">
      <header class="topbar">
        <h1>CONTEXT CLUES</h1>
        <button id="menuToggle" class="kebab-btn" aria-expanded="${t.menuOpen?"true":"false"}" aria-haspopup="menu" aria-label="Open menu"></button>
        ${rc(t)}
      </header>

      <p class="stats-row">${n}  ATTEMPTS: ${e}</p>

      <form id="guessForm" class="input-row">
        <input id="guessInput" placeholder="Type a word" maxlength="120" autocomplete="off" />
      </form>

      ${t.localLastGuessEntry?`<section class="last-guess-wrap"><div class="section-label">LAST GUESS</div><ul class="guess-list pinned">${ba(t.localLastGuessEntry,!1)}</ul></section>`:""}
      ${t.banner?`<section class="banner">${kn(t.banner)}</section>`:""}
      ${t.error?`<section class="error">${kn(t.error)}</section>`:""}

      <div class="rankings-wrap">
        <div class="section-label">RANKINGS</div>
        <ul class="guess-list" id="guessList">${tc(t)}</ul>
      </div>
      ${nc(t)}
    </main>
  `,vn(t)&&setTimeout(vt,0);const r=document.querySelector("#guessInput");(c=document.querySelector("#guessForm"))==null||c.addEventListener("submit",h=>{if(h.preventDefault(),ne.get().composing)return;const b=r.value.trim();b&&(Me.unlockFromGesture(),Me.playSfx("guess"),mr.send({t:"guess",word:b}),r.value="",vn(ne.get())&&r.focus())}),r==null||r.addEventListener("compositionstart",()=>ne.set({composing:!0})),r==null||r.addEventListener("compositionend",()=>ne.set({composing:!1})),(m=document.querySelector("#menuToggle"))==null||m.addEventListener("click",h=>{h.stopPropagation(),Me.unlockFromGesture(),ne.update(b=>({...b,menuOpen:!b.menuOpen}))}),document.querySelectorAll("[data-menu-action]").forEach(h=>{h.addEventListener("click",b=>{b.stopPropagation();const x=h.getAttribute("data-menu-action");Me.unlockFromGesture(),Me.playSfx("uiClick"),x==="help"&&ne.set({menuOpen:!1,modal:"help"}),x==="players"&&ne.set({menuOpen:!1,modal:"players"}),x==="hint"&&(mr.send({t:"hint_request"}),ne.set({menuOpen:!1})),x==="sound"&&(Me.toggleMuted(),ne.update(Y=>({...Y,menuOpen:!1}))),x==="theme"&&ne.update(Y=>({...Y,menuOpen:!1,theme:Y.theme==="light"?"dark":"light"}))})}),(p=document.querySelector("#closeModal"))==null||p.addEventListener("click",()=>{ne.set({modal:null}),setTimeout(vt,0)}),(d=document.querySelector("#modalBackdrop"))==null||d.addEventListener("click",h=>{h.target.id==="modalBackdrop"&&(ne.set({modal:null}),setTimeout(vt,0))})}ne.subscribe(ac);document.addEventListener("click",t=>{const e=t.target;if(!(e instanceof HTMLElement))return;const n=ne.get();if(n.menuOpen&&!e.closest("#menuPop")&&!e.closest("#menuToggle")){ne.set({menuOpen:!1});return}n.modal||e.closest(".modal-card")||!e.closest("#menuPop")&&!e.closest("#menuToggle")&&vt()});document.addEventListener("keydown",t=>{const e=ne.get();if(t.key==="Escape"){if(e.modal){ne.set({modal:null}),setTimeout(vt,0);return}if(e.menuOpen){ne.set({menuOpen:!1}),setTimeout(vt,0);return}}Me.state().unlocked||Me.unlockFromGesture()});async function Aa(t){const e=await t.text();return JSON.parse(e)}function sc(t){if(!(t!=null&&t.id)||!(t!=null&&t.avatar))return"";const e=t.avatar.startsWith("a_")?"gif":"png";return`https://cdn.discordapp.com/avatars/${t.id}/${t.avatar}.${e}?size=128`}async function oc(){await Pt.ready();let t;try{({code:t}=await Pt.commands.authorize({client_id:void 0,response_type:"code",prompt:"none",scope:["identify"]}))}catch{({code:t}=await Pt.commands.authorize({client_id:void 0,response_type:"code",prompt:"consent",scope:["identify"]}))}const e=await fetch("/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:t})}),n=await Aa(e);await Pt.commands.authenticate({access_token:n.access_token});const i=await(await fetch("https://discord.com/api/v10/users/@me",{headers:{Authorization:`Bearer ${n.access_token}`}})).json(),a=Pt.channelId||"browser-room",u=Pt.guildId||"browser-guild";return{profile:{id:i.id,username:i.username,avatarUrl:sc(i)},roomKey:`${u}:${a}`,guildId:u,channelId:a,instanceId:Pt.instanceId}}async function lc(){try{const t=await fetch("/api/help"),e=await Aa(t);ne.set({helpMarkdown:e.markdown||""})}catch{ne.set({helpMarkdown:`## Help
- Guess the hidden word.
- Lower ranks are closer.`})}}async function uc(){await lc();try{let t;try{t=await oc()}catch{t={profile:{id:`browser-${Math.random().toString(16).slice(2,8)}`,username:"Browser Tester",avatarUrl:""},roomKey:"browser-room",guildId:"browser-guild",channelId:"browser-channel",instanceId:"browser-instance"}}ne.set({profile:t.profile,roomKey:t.roomKey}),mr=qu({onStatus:e=>ne.set({connection:e}),getJoinPayload:()=>({t:"join",v:1,roomKey:t.roomKey,guildId:t.guildId,channelId:t.channelId,instanceId:t.instanceId,user:t.profile}),onMessage:e=>{if(e.t==="snapshot"){ne.set({state:e.state,error:null}),vn(ne.get())&&setTimeout(vt,0);return}if(e.t==="room_state"){ne.update(n=>({...n,state:{...n.state||{},players:e.players||[]}}));return}if(e.t==="guess_result"){ne.update(n=>{var i,a,u,c,m,p,d,h;const r=((a=(i=e.entry)==null?void 0:i.user)==null?void 0:a.id)===((u=n.profile)==null?void 0:u.id);return r||Me.playSfx("otherGuess"),{...n,state:{...n.state||{},guesses:[...((c=n.state)==null?void 0:c.guesses)||[],e.entry].sort((b,x)=>b.rank-x.rank||x.ts-b.ts),totals:{totalGuesses:e.totalGuesses??(((p=(m=n.state)==null?void 0:m.totals)==null?void 0:p.totalGuesses)||0)+1,yourGuesses:(((h=(d=n.state)==null?void 0:d.totals)==null?void 0:h.yourGuesses)||0)+(r?1:0)}},localLastGuessId:r?e.entry.id:n.localLastGuessId,localLastGuessEntry:r?e.entry:n.localLastGuessEntry,error:null}}),vn(ne.get())&&setTimeout(vt,0);return}if(e.t==="hint_response"){e.ok?(Me.playSfx("hint"),ne.set({error:null})):(ne.set({error:e.message||"Hint unavailable"}),Me.playSfx("error")),vn(ne.get())&&setTimeout(vt,0);return}if(e.t==="round_won"){Me.playSfx("correct"),ne.set({banner:`${e.winner.username} found it!`});return}if(e.t==="new_round"){ne.update(n=>({...n,banner:`Round ${e.roundId} started`,localLastGuessId:null,localLastGuessEntry:null,error:null}));return}e.t==="error"&&(Me.playSfx("error"),ne.set({error:e.message||"Server error"}))}}),mr.connect()}catch(t){ne.set({error:t.message||String(t)})}}uc();
