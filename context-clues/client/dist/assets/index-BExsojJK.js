(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ui(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kr={exports:{}},_i;function Ms(){return _i||(_i=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(g,f,d){this.fn=g,this.context=f,this.once=d||!1}function a(g,f,d,h,S){if(typeof d!="function")throw new TypeError("The listener must be a function");var x=new i(d,h||g,S),F=n?n+f:f;return g._events[F]?g._events[F].fn?g._events[F]=[g._events[F],x]:g._events[F].push(x):(g._events[F]=x,g._eventsCount++),g}function u(g,f){--g._eventsCount===0?g._events=new r:delete g._events[f]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var f=[],d,h;if(this._eventsCount===0)return f;for(h in d=this._events)t.call(d,h)&&f.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},c.prototype.listeners=function(f){var d=n?n+f:f,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var S=0,x=h.length,F=new Array(x);S<x;S++)F[S]=h[S].fn;return F},c.prototype.listenerCount=function(f){var d=n?n+f:f,h=this._events[d];return h?h.fn?1:h.length:0},c.prototype.emit=function(f,d,h,S,x,F){var G=n?n+f:f;if(!this._events[G])return!1;var L=this._events[G],re=arguments.length,X,J;if(L.fn){switch(L.once&&this.removeListener(f,L.fn,void 0,!0),re){case 1:return L.fn.call(L.context),!0;case 2:return L.fn.call(L.context,d),!0;case 3:return L.fn.call(L.context,d,h),!0;case 4:return L.fn.call(L.context,d,h,S),!0;case 5:return L.fn.call(L.context,d,h,S,x),!0;case 6:return L.fn.call(L.context,d,h,S,x,F),!0}for(J=1,X=new Array(re-1);J<re;J++)X[J-1]=arguments[J];L.fn.apply(L.context,X)}else{var Ee=L.length,_e;for(J=0;J<Ee;J++)switch(L[J].once&&this.removeListener(f,L[J].fn,void 0,!0),re){case 1:L[J].fn.call(L[J].context);break;case 2:L[J].fn.call(L[J].context,d);break;case 3:L[J].fn.call(L[J].context,d,h);break;case 4:L[J].fn.call(L[J].context,d,h,S);break;default:if(!X)for(_e=1,X=new Array(re-1);_e<re;_e++)X[_e-1]=arguments[_e];L[J].fn.apply(L[J].context,X)}}return!0},c.prototype.on=function(f,d,h){return a(this,f,d,h,!1)},c.prototype.once=function(f,d,h){return a(this,f,d,h,!0)},c.prototype.removeListener=function(f,d,h,S){var x=n?n+f:f;if(!this._events[x])return this;if(!d)return u(this,x),this;var F=this._events[x];if(F.fn)F.fn===d&&(!S||F.once)&&(!h||F.context===h)&&u(this,x);else{for(var G=0,L=[],re=F.length;G<re;G++)(F[G].fn!==d||S&&!F[G].once||h&&F[G].context!==h)&&L.push(F[G]);L.length?this._events[x]=L.length===1?L[0]:L:u(this,x)}return this},c.prototype.removeAllListeners=function(f){var d;return f?(d=n?n+f:f,this._events[d]&&u(this,d)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c}(kr)),kr.exports}var Us=Ms(),Ps=Ui(Us),se;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const a={};for(const u of i)a[u]=u;return a},e.getValidEnumValues=i=>{const a=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),u={};for(const c of a)u[c]=i[c];return e.objectValues(u)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const u in i)Object.prototype.hasOwnProperty.call(i,u)&&a.push(u);return a},e.find=(i,a)=>{for(const u of i)if(a(u))return u},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,a=" | "){return i.map(u=>typeof u=="string"?`'${u}'`:u).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(se||(se={}));var jr;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(jr||(jr={}));const U=se.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bt=e=>{switch(typeof e){case"undefined":return U.undefined;case"string":return U.string;case"number":return isNaN(e)?U.nan:U.number;case"boolean":return U.boolean;case"function":return U.function;case"bigint":return U.bigint;case"symbol":return U.symbol;case"object":return Array.isArray(e)?U.array:e===null?U.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?U.promise:typeof Map<"u"&&e instanceof Map?U.map:typeof Set<"u"&&e instanceof Set?U.set:typeof Date<"u"&&e instanceof Date?U.date:U.object;default:return U.unknown}},O=se.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ks=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ze extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(a){return a.message},r={_errors:[]},i=a=>{for(const u of a.issues)if(u.code==="invalid_union")u.unionErrors.map(i);else if(u.code==="invalid_return_type")i(u.returnTypeError);else if(u.code==="invalid_arguments")i(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let c=r,g=0;for(;g<u.path.length;){const f=u.path[g];g===u.path.length-1?(c[f]=c[f]||{_errors:[]},c[f]._errors.push(n(u))):c[f]=c[f]||{_errors:[]},c=c[f],g++}}};return i(this),r}static assert(t){if(!(t instanceof Ze))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,se.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ze.create=e=>new Ze(e);const Wt=(e,t)=>{let n;switch(e.code){case O.invalid_type:e.received===U.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,se.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:n=`Unrecognized key(s) in object: ${se.joinValues(e.keys,", ")}`;break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${se.joinValues(e.options)}`;break;case O.invalid_enum_value:n=`Invalid enum value. Expected ${se.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:se.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case O.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case O.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:n="Number must be finite";break;default:n=t.defaultError,se.assertNever(e)}return{message:n}};let Pi=Wt;function Gs(e){Pi=e}function or(){return Pi}const lr=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,a=[...n,...i.path||[]],u={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let c="";const g=r.filter(f=>!!f).slice().reverse();for(const f of g)c=f(u,{data:t,defaultError:c}).message;return{...i,path:a,message:c}},Bs=[];function M(e,t){const n=or(),r=lr({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Wt?void 0:Wt].filter(i=>!!i)});e.common.issues.push(r)}class Re{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return $;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const a=await i.key,u=await i.value;r.push({key:a,value:u})}return Re.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:a,value:u}=i;if(a.status==="aborted"||u.status==="aborted")return $;a.status==="dirty"&&t.dirty(),u.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof u.value<"u"||i.alwaysSet)&&(r[a.value]=u.value)}return{status:t.value,value:r}}}const $=Object.freeze({status:"aborted"}),Yt=e=>({status:"dirty",value:e}),Ue=e=>({status:"valid",value:e}),Fr=e=>e.status==="aborted",qr=e=>e.status==="dirty",En=e=>e.status==="valid",yn=e=>typeof Promise<"u"&&e instanceof Promise;function ur(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function ki(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var V;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(V||(V={}));var hn,gn;class nt{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const vi=(e,t)=>{if(En(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ze(e.common.issues);return this._error=n,this._error}}};function C(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(u,c)=>{var g,f;const{message:d}=e;return u.code==="invalid_enum_value"?{message:d??c.defaultError}:typeof c.data>"u"?{message:(g=d??r)!==null&&g!==void 0?g:c.defaultError}:u.code!=="invalid_type"?{message:c.defaultError}:{message:(f=d??n)!==null&&f!==void 0?f:c.defaultError}},description:i}}class Q{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return bt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Re,ctx:{common:t.parent.common,data:t.data,parsedType:bt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(yn(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)},a=this._parseSync({data:t,path:i.path,parent:i});return vi(i,a)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bt(t)},i=this._parse({data:t,path:r.path,parent:r}),a=await(yn(i)?i:Promise.resolve(i));return vi(r,a)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,a)=>{const u=t(i),c=()=>a.addIssue({code:O.custom,...r(i)});return typeof Promise<"u"&&u instanceof Promise?u.then(g=>g?!0:(c(),!1)):u?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Xe({schema:this,typeName:j.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return tt.create(this,this._def)}nullable(){return Ot.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return We.create(this,this._def)}promise(){return Ct.create(this,this._def)}or(t){return An.create([this,t],this._def)}and(t){return In.create(this,t,this._def)}transform(t){return new Xe({...C(this._def),schema:this,typeName:j.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Ln({...C(this._def),innerType:this,defaultValue:n,typeName:j.ZodDefault})}brand(){return new Xr({typeName:j.ZodBranded,type:this,...C(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Dn({...C(this._def),innerType:this,catchValue:n,typeName:j.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return kn.create(this,t)}readonly(){return xn.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Vs=/^c[^\s-]{8,}$/i,Hs=/^[0-9a-z]+$/,Zs=/^[0-9A-HJKMNP-TV-Z]{26}$/,js=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fs=/^[a-z0-9_-]{21}$/i,qs=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ks=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,$s="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Gr;const Ys=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,zs=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Ws=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Gi="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Xs=new RegExp(`^${Gi}$`);function Bi(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function Cs(e){return new RegExp(`^${Bi(e)}$`)}function Vi(e){let t=`${Gi}T${Bi(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Js(e,t){return!!((t==="v4"||!t)&&Ys.test(e)||(t==="v6"||!t)&&zs.test(e))}class ze extends Q{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==U.string){const a=this._getOrReturnCtx(t);return M(a,{code:O.invalid_type,expected:U.string,received:a.parsedType}),$}const r=new Re;let i;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),M(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),M(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const u=t.data.length>a.value,c=t.data.length<a.value;(u||c)&&(i=this._getOrReturnCtx(t,i),u?M(i,{code:O.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):c&&M(i,{code:O.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Ks.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"email",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")Gr||(Gr=new RegExp($s,"u")),Gr.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"emoji",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")js.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"uuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Fs.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"nanoid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Vs.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"cuid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Hs.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"cuid2",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Zs.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"ulid",code:O.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),M(i,{validation:"url",code:O.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"regex",code:O.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),M(i,{code:O.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),M(i,{code:O.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),M(i,{code:O.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Vi(a).test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{code:O.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Xs.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{code:O.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Cs(a).test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{code:O.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?qs.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"duration",code:O.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Js(t.data,a.version)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"ip",code:O.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Ws.test(t.data)||(i=this._getOrReturnCtx(t,i),M(i,{validation:"base64",code:O.invalid_string,message:a.message}),r.dirty()):se.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:O.invalid_string,...V.errToObj(r)})}_addCheck(t){return new ze({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...V.errToObj(t)})}url(t){return this._addCheck({kind:"url",...V.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...V.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...V.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...V.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...V.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...V.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...V.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...V.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...V.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...V.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...V.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...V.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...V.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...V.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...V.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...V.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...V.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...V.errToObj(n)})}nonempty(t){return this.min(1,V.errToObj(t))}trim(){return new ze({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ze({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ze({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ze.create=e=>{var t;return new ze({checks:[],typeName:j.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...C(e)})};function Qs(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,a=parseInt(e.toFixed(i).replace(".","")),u=parseInt(t.toFixed(i).replace(".",""));return a%u/Math.pow(10,i)}class It extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==U.number){const a=this._getOrReturnCtx(t);return M(a,{code:O.invalid_type,expected:U.number,received:a.parsedType}),$}let r;const i=new Re;for(const a of this._def.checks)a.kind==="int"?se.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),M(r,{code:O.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),M(r,{code:O.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),M(r,{code:O.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?Qs(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),M(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),M(r,{code:O.not_finite,message:a.message}),i.dirty()):se.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,i){return new It({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(t){return new It({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:V.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:V.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&se.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}It.create=e=>new It({checks:[],typeName:j.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...C(e)});class Nt extends Q{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==U.bigint){const a=this._getOrReturnCtx(t);return M(a,{code:O.invalid_type,expected:U.bigint,received:a.parsedType}),$}let r;const i=new Re;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),M(r,{code:O.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),M(r,{code:O.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),M(r,{code:O.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):se.assertNever(a);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,i){return new Nt({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(t){return new Nt({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Nt.create=e=>{var t;return new Nt({checks:[],typeName:j.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...C(e)})};class Tn extends Q{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==U.boolean){const r=this._getOrReturnCtx(t);return M(r,{code:O.invalid_type,expected:U.boolean,received:r.parsedType}),$}return Ue(t.data)}}Tn.create=e=>new Tn({typeName:j.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...C(e)});class Ht extends Q{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==U.date){const a=this._getOrReturnCtx(t);return M(a,{code:O.invalid_type,expected:U.date,received:a.parsedType}),$}if(isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return M(a,{code:O.invalid_date}),$}const r=new Re;let i;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),M(i,{code:O.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),M(i,{code:O.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):se.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ht({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:V.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:V.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ht.create=e=>new Ht({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:j.ZodDate,...C(e)});class cr extends Q{_parse(t){if(this._getType(t)!==U.symbol){const r=this._getOrReturnCtx(t);return M(r,{code:O.invalid_type,expected:U.symbol,received:r.parsedType}),$}return Ue(t.data)}}cr.create=e=>new cr({typeName:j.ZodSymbol,...C(e)});class Sn extends Q{_parse(t){if(this._getType(t)!==U.undefined){const r=this._getOrReturnCtx(t);return M(r,{code:O.invalid_type,expected:U.undefined,received:r.parsedType}),$}return Ue(t.data)}}Sn.create=e=>new Sn({typeName:j.ZodUndefined,...C(e)});class bn extends Q{_parse(t){if(this._getType(t)!==U.null){const r=this._getOrReturnCtx(t);return M(r,{code:O.invalid_type,expected:U.null,received:r.parsedType}),$}return Ue(t.data)}}bn.create=e=>new bn({typeName:j.ZodNull,...C(e)});class Xt extends Q{constructor(){super(...arguments),this._any=!0}_parse(t){return Ue(t.data)}}Xt.create=e=>new Xt({typeName:j.ZodAny,...C(e)});class Bt extends Q{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ue(t.data)}}Bt.create=e=>new Bt({typeName:j.ZodUnknown,...C(e)});class Et extends Q{_parse(t){const n=this._getOrReturnCtx(t);return M(n,{code:O.invalid_type,expected:U.never,received:n.parsedType}),$}}Et.create=e=>new Et({typeName:j.ZodNever,...C(e)});class dr extends Q{_parse(t){if(this._getType(t)!==U.undefined){const r=this._getOrReturnCtx(t);return M(r,{code:O.invalid_type,expected:U.void,received:r.parsedType}),$}return Ue(t.data)}}dr.create=e=>new dr({typeName:j.ZodVoid,...C(e)});class We extends Q{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==U.array)return M(n,{code:O.invalid_type,expected:U.array,received:n.parsedType}),$;if(i.exactLength!==null){const u=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(u||c)&&(M(n,{code:u?O.too_big:O.too_small,minimum:c?i.exactLength.value:void 0,maximum:u?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(M(n,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(M(n,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,c)=>i.type._parseAsync(new nt(n,u,n.path,c)))).then(u=>Re.mergeArray(r,u));const a=[...n.data].map((u,c)=>i.type._parseSync(new nt(n,u,n.path,c)));return Re.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new We({...this._def,minLength:{value:t,message:V.toString(n)}})}max(t,n){return new We({...this._def,maxLength:{value:t,message:V.toString(n)}})}length(t,n){return new We({...this._def,exactLength:{value:t,message:V.toString(n)}})}nonempty(t){return this.min(1,t)}}We.create=(e,t)=>new We({type:e,minLength:null,maxLength:null,exactLength:null,typeName:j.ZodArray,...C(t)});function $t(e){if(e instanceof he){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=tt.create($t(r))}return new he({...e._def,shape:()=>t})}else return e instanceof We?new We({...e._def,type:$t(e.element)}):e instanceof tt?tt.create($t(e.unwrap())):e instanceof Ot?Ot.create($t(e.unwrap())):e instanceof rt?rt.create(e.items.map(t=>$t(t))):e}class he extends Q{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=se.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==U.object){const f=this._getOrReturnCtx(t);return M(f,{code:O.invalid_type,expected:U.object,received:f.parsedType}),$}const{status:r,ctx:i}=this._processInputParams(t),{shape:a,keys:u}=this._getCached(),c=[];if(!(this._def.catchall instanceof Et&&this._def.unknownKeys==="strip"))for(const f in i.data)u.includes(f)||c.push(f);const g=[];for(const f of u){const d=a[f],h=i.data[f];g.push({key:{status:"valid",value:f},value:d._parse(new nt(i,h,i.path,f)),alwaysSet:f in i.data})}if(this._def.catchall instanceof Et){const f=this._def.unknownKeys;if(f==="passthrough")for(const d of c)g.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(f==="strict")c.length>0&&(M(i,{code:O.unrecognized_keys,keys:c}),r.dirty());else if(f!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const f=this._def.catchall;for(const d of c){const h=i.data[d];g.push({key:{status:"valid",value:d},value:f._parse(new nt(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const f=[];for(const d of g){const h=await d.key,S=await d.value;f.push({key:h,value:S,alwaysSet:d.alwaysSet})}return f}).then(f=>Re.mergeObjectSync(r,f)):Re.mergeObjectSync(r,g)}get shape(){return this._def.shape()}strict(t){return V.errToObj,new he({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,a,u,c;const g=(u=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,n,r).message)!==null&&u!==void 0?u:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=V.errToObj(t).message)!==null&&c!==void 0?c:g}:{message:g}}}:{}})}strip(){return new he({...this._def,unknownKeys:"strip"})}passthrough(){return new he({...this._def,unknownKeys:"passthrough"})}extend(t){return new he({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new he({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:j.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new he({...this._def,catchall:t})}pick(t){const n={};return se.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new he({...this._def,shape:()=>n})}omit(t){const n={};return se.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new he({...this._def,shape:()=>n})}deepPartial(){return $t(this)}partial(t){const n={};return se.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new he({...this._def,shape:()=>n})}required(t){const n={};return se.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof tt;)a=a._def.innerType;n[r]=a}}),new he({...this._def,shape:()=>n})}keyof(){return Hi(se.objectKeys(this.shape))}}he.create=(e,t)=>new he({shape:()=>e,unknownKeys:"strip",catchall:Et.create(),typeName:j.ZodObject,...C(t)});he.strictCreate=(e,t)=>new he({shape:()=>e,unknownKeys:"strict",catchall:Et.create(),typeName:j.ZodObject,...C(t)});he.lazycreate=(e,t)=>new he({shape:e,unknownKeys:"strip",catchall:Et.create(),typeName:j.ZodObject,...C(t)});class An extends Q{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(a){for(const c of a)if(c.result.status==="valid")return c.result;for(const c of a)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const u=a.map(c=>new Ze(c.ctx.common.issues));return M(n,{code:O.invalid_union,unionErrors:u}),$}if(n.common.async)return Promise.all(r.map(async a=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(i);{let a;const u=[];for(const g of r){const f={...n,common:{...n.common,issues:[]},parent:null},d=g._parseSync({data:n.data,path:n.path,parent:f});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:f}),f.common.issues.length&&u.push(f.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const c=u.map(g=>new Ze(g));return M(n,{code:O.invalid_union,unionErrors:c}),$}}get options(){return this._def.options}}An.create=(e,t)=>new An({options:e,typeName:j.ZodUnion,...C(t)});const ht=e=>e instanceof wn?ht(e.schema):e instanceof Xe?ht(e.innerType()):e instanceof On?[e.value]:e instanceof wt?e.options:e instanceof Rn?se.objectValues(e.enum):e instanceof Ln?ht(e._def.innerType):e instanceof Sn?[void 0]:e instanceof bn?[null]:e instanceof tt?[void 0,...ht(e.unwrap())]:e instanceof Ot?[null,...ht(e.unwrap())]:e instanceof Xr||e instanceof xn?ht(e.unwrap()):e instanceof Dn?ht(e._def.innerType):[];class mr extends Q{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==U.object)return M(n,{code:O.invalid_type,expected:U.object,received:n.parsedType}),$;const r=this.discriminator,i=n.data[r],a=this.optionsMap.get(i);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(M(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),$)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const a of n){const u=ht(a.shape[t]);if(!u.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of u){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,a)}}return new mr({typeName:j.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...C(r)})}}function Kr(e,t){const n=bt(e),r=bt(t);if(e===t)return{valid:!0,data:e};if(n===U.object&&r===U.object){const i=se.objectKeys(t),a=se.objectKeys(e).filter(c=>i.indexOf(c)!==-1),u={...e,...t};for(const c of a){const g=Kr(e[c],t[c]);if(!g.valid)return{valid:!1};u[c]=g.data}return{valid:!0,data:u}}else if(n===U.array&&r===U.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let a=0;a<e.length;a++){const u=e[a],c=t[a],g=Kr(u,c);if(!g.valid)return{valid:!1};i.push(g.data)}return{valid:!0,data:i}}else return n===U.date&&r===U.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class In extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(a,u)=>{if(Fr(a)||Fr(u))return $;const c=Kr(a.value,u.value);return c.valid?((qr(a)||qr(u))&&n.dirty(),{status:n.value,value:c.data}):(M(r,{code:O.invalid_intersection_types}),$)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,u])=>i(a,u)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}In.create=(e,t,n)=>new In({left:e,right:t,typeName:j.ZodIntersection,...C(n)});class rt extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.array)return M(r,{code:O.invalid_type,expected:U.array,received:r.parsedType}),$;if(r.data.length<this._def.items.length)return M(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),$;!this._def.rest&&r.data.length>this._def.items.length&&(M(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((u,c)=>{const g=this._def.items[c]||this._def.rest;return g?g._parse(new nt(r,u,r.path,c)):null}).filter(u=>!!u);return r.common.async?Promise.all(a).then(u=>Re.mergeArray(n,u)):Re.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new rt({...this._def,rest:t})}}rt.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new rt({items:e,typeName:j.ZodTuple,rest:null,...C(t)})};class Nn extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.object)return M(r,{code:O.invalid_type,expected:U.object,received:r.parsedType}),$;const i=[],a=this._def.keyType,u=this._def.valueType;for(const c in r.data)i.push({key:a._parse(new nt(r,c,r.path,c)),value:u._parse(new nt(r,r.data[c],r.path,c)),alwaysSet:c in r.data});return r.common.async?Re.mergeObjectAsync(n,i):Re.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Q?new Nn({keyType:t,valueType:n,typeName:j.ZodRecord,...C(r)}):new Nn({keyType:ze.create(),valueType:t,typeName:j.ZodRecord,...C(n)})}}class fr extends Q{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.map)return M(r,{code:O.invalid_type,expected:U.map,received:r.parsedType}),$;const i=this._def.keyType,a=this._def.valueType,u=[...r.data.entries()].map(([c,g],f)=>({key:i._parse(new nt(r,c,r.path,[f,"key"])),value:a._parse(new nt(r,g,r.path,[f,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const g of u){const f=await g.key,d=await g.value;if(f.status==="aborted"||d.status==="aborted")return $;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(f.value,d.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const g of u){const f=g.key,d=g.value;if(f.status==="aborted"||d.status==="aborted")return $;(f.status==="dirty"||d.status==="dirty")&&n.dirty(),c.set(f.value,d.value)}return{status:n.value,value:c}}}}fr.create=(e,t,n)=>new fr({valueType:t,keyType:e,typeName:j.ZodMap,...C(n)});class Zt extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==U.set)return M(r,{code:O.invalid_type,expected:U.set,received:r.parsedType}),$;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(M(r,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(M(r,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const a=this._def.valueType;function u(g){const f=new Set;for(const d of g){if(d.status==="aborted")return $;d.status==="dirty"&&n.dirty(),f.add(d.value)}return{status:n.value,value:f}}const c=[...r.data.values()].map((g,f)=>a._parse(new nt(r,g,r.path,f)));return r.common.async?Promise.all(c).then(g=>u(g)):u(c)}min(t,n){return new Zt({...this._def,minSize:{value:t,message:V.toString(n)}})}max(t,n){return new Zt({...this._def,maxSize:{value:t,message:V.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Zt.create=(e,t)=>new Zt({valueType:e,minSize:null,maxSize:null,typeName:j.ZodSet,...C(t)});class zt extends Q{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==U.function)return M(n,{code:O.invalid_type,expected:U.function,received:n.parsedType}),$;function r(c,g){return lr({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,or(),Wt].filter(f=>!!f),issueData:{code:O.invalid_arguments,argumentsError:g}})}function i(c,g){return lr({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,or(),Wt].filter(f=>!!f),issueData:{code:O.invalid_return_type,returnTypeError:g}})}const a={errorMap:n.common.contextualErrorMap},u=n.data;if(this._def.returns instanceof Ct){const c=this;return Ue(async function(...g){const f=new Ze([]),d=await c._def.args.parseAsync(g,a).catch(x=>{throw f.addIssue(r(g,x)),f}),h=await Reflect.apply(u,this,d);return await c._def.returns._def.type.parseAsync(h,a).catch(x=>{throw f.addIssue(i(h,x)),f})})}else{const c=this;return Ue(function(...g){const f=c._def.args.safeParse(g,a);if(!f.success)throw new Ze([r(g,f.error)]);const d=Reflect.apply(u,this,f.data),h=c._def.returns.safeParse(d,a);if(!h.success)throw new Ze([i(d,h.error)]);return h.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new zt({...this._def,args:rt.create(t).rest(Bt.create())})}returns(t){return new zt({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new zt({args:t||rt.create([]).rest(Bt.create()),returns:n||Bt.create(),typeName:j.ZodFunction,...C(r)})}}class wn extends Q{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}wn.create=(e,t)=>new wn({getter:e,typeName:j.ZodLazy,...C(t)});class On extends Q{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return M(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),$}return{status:"valid",value:t.data}}get value(){return this._def.value}}On.create=(e,t)=>new On({value:e,typeName:j.ZodLiteral,...C(t)});function Hi(e,t){return new wt({values:e,typeName:j.ZodEnum,...C(t)})}class wt extends Q{constructor(){super(...arguments),hn.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return M(n,{expected:se.joinValues(r),received:n.parsedType,code:O.invalid_type}),$}if(ur(this,hn)||ki(this,hn,new Set(this._def.values)),!ur(this,hn).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return M(n,{received:n.data,code:O.invalid_enum_value,options:r}),$}return Ue(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return wt.create(t,{...this._def,...n})}exclude(t,n=this._def){return wt.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}hn=new WeakMap;wt.create=Hi;class Rn extends Q{constructor(){super(...arguments),gn.set(this,void 0)}_parse(t){const n=se.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==U.string&&r.parsedType!==U.number){const i=se.objectValues(n);return M(r,{expected:se.joinValues(i),received:r.parsedType,code:O.invalid_type}),$}if(ur(this,gn)||ki(this,gn,new Set(se.getValidEnumValues(this._def.values))),!ur(this,gn).has(t.data)){const i=se.objectValues(n);return M(r,{received:r.data,code:O.invalid_enum_value,options:i}),$}return Ue(t.data)}get enum(){return this._def.values}}gn=new WeakMap;Rn.create=(e,t)=>new Rn({values:e,typeName:j.ZodNativeEnum,...C(t)});class Ct extends Q{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==U.promise&&n.common.async===!1)return M(n,{code:O.invalid_type,expected:U.promise,received:n.parsedType}),$;const r=n.parsedType===U.promise?n.data:Promise.resolve(n.data);return Ue(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ct.create=(e,t)=>new Ct({type:e,typeName:j.ZodPromise,...C(t)});class Xe extends Q{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===j.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:u=>{M(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const u=i.transform(r.data,a);if(r.common.async)return Promise.resolve(u).then(async c=>{if(n.value==="aborted")return $;const g=await this._def.schema._parseAsync({data:c,path:r.path,parent:r});return g.status==="aborted"?$:g.status==="dirty"||n.value==="dirty"?Yt(g.value):g});{if(n.value==="aborted")return $;const c=this._def.schema._parseSync({data:u,path:r.path,parent:r});return c.status==="aborted"?$:c.status==="dirty"||n.value==="dirty"?Yt(c.value):c}}if(i.type==="refinement"){const u=c=>{const g=i.refinement(c,a);if(r.common.async)return Promise.resolve(g);if(g instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?$:(c.status==="dirty"&&n.dirty(),u(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?$:(c.status==="dirty"&&n.dirty(),u(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!En(u))return u;const c=i.transform(u.value,a);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>En(u)?Promise.resolve(i.transform(u.value,a)).then(c=>({status:n.value,value:c})):u);se.assertNever(i)}}Xe.create=(e,t,n)=>new Xe({schema:e,typeName:j.ZodEffects,effect:t,...C(n)});Xe.createWithPreprocess=(e,t,n)=>new Xe({schema:t,effect:{type:"preprocess",transform:e},typeName:j.ZodEffects,...C(n)});class tt extends Q{_parse(t){return this._getType(t)===U.undefined?Ue(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}tt.create=(e,t)=>new tt({innerType:e,typeName:j.ZodOptional,...C(t)});class Ot extends Q{_parse(t){return this._getType(t)===U.null?Ue(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ot.create=(e,t)=>new Ot({innerType:e,typeName:j.ZodNullable,...C(t)});class Ln extends Q{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===U.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Ln.create=(e,t)=>new Ln({innerType:e,typeName:j.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...C(t)});class Dn extends Q{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return yn(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ze(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ze(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Dn.create=(e,t)=>new Dn({innerType:e,typeName:j.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...C(t)});class pr extends Q{_parse(t){if(this._getType(t)!==U.nan){const r=this._getOrReturnCtx(t);return M(r,{code:O.invalid_type,expected:U.nan,received:r.parsedType}),$}return{status:"valid",value:t.data}}}pr.create=e=>new pr({typeName:j.ZodNaN,...C(e)});const eo=Symbol("zod_brand");class Xr extends Q{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class kn extends Q{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?$:a.status==="dirty"?(n.dirty(),Yt(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?$:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new kn({in:t,out:n,typeName:j.ZodPipeline})}}class xn extends Q{_parse(t){const n=this._def.innerType._parse(t),r=i=>(En(i)&&(i.value=Object.freeze(i.value)),i);return yn(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}xn.create=(e,t)=>new xn({innerType:e,typeName:j.ZodReadonly,...C(t)});function Cr(e,t={},n){return e?Xt.create().superRefine((r,i)=>{var a,u;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,g=(u=(a=c.fatal)!==null&&a!==void 0?a:n)!==null&&u!==void 0?u:!0,f=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...f,fatal:g})}}):Xt.create()}const to={object:he.lazycreate};var j;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(j||(j={}));const no=(e,t={message:`Input not instance of ${e.name}`})=>Cr(n=>n instanceof e,t),v=ze.create,H=It.create,ro=pr.create,Zi=Nt.create,K=Tn.create,io=Ht.create,ao=cr.create,so=Sn.create,_r=bn.create,oo=Xt.create,Mn=Bt.create,lo=Et.create,uo=dr.create,ae=We.create,D=he.create,co=he.strictCreate,Jr=An.create,fo=mr.create,po=In.create,ho=rt.create,go=Nn.create,mo=fr.create,_o=Zt.create,vo=zt.create,Eo=wn.create,me=On.create,yo=wt.create,Qt=Rn.create,To=Ct.create,Ei=Xe.create,ji=tt.create,So=Ot.create,Fi=Xe.createWithPreprocess,bo=kn.create,Ao=()=>v().optional(),Io=()=>H().optional(),No=()=>K().optional(),wo={string:e=>ze.create({...e,coerce:!0}),number:e=>It.create({...e,coerce:!0}),boolean:e=>Tn.create({...e,coerce:!0}),bigint:e=>Nt.create({...e,coerce:!0}),date:e=>Ht.create({...e,coerce:!0})},Oo=$;var m=Object.freeze({__proto__:null,defaultErrorMap:Wt,setErrorMap:Gs,getErrorMap:or,makeIssue:lr,EMPTY_PATH:Bs,addIssueToContext:M,ParseStatus:Re,INVALID:$,DIRTY:Yt,OK:Ue,isAborted:Fr,isDirty:qr,isValid:En,isAsync:yn,get util(){return se},get objectUtil(){return jr},ZodParsedType:U,getParsedType:bt,ZodType:Q,datetimeRegex:Vi,ZodString:ze,ZodNumber:It,ZodBigInt:Nt,ZodBoolean:Tn,ZodDate:Ht,ZodSymbol:cr,ZodUndefined:Sn,ZodNull:bn,ZodAny:Xt,ZodUnknown:Bt,ZodNever:Et,ZodVoid:dr,ZodArray:We,ZodObject:he,ZodUnion:An,ZodDiscriminatedUnion:mr,ZodIntersection:In,ZodTuple:rt,ZodRecord:Nn,ZodMap:fr,ZodSet:Zt,ZodFunction:zt,ZodLazy:wn,ZodLiteral:On,ZodEnum:wt,ZodNativeEnum:Rn,ZodPromise:Ct,ZodEffects:Xe,ZodTransformer:Xe,ZodOptional:tt,ZodNullable:Ot,ZodDefault:Ln,ZodCatch:Dn,ZodNaN:pr,BRAND:eo,ZodBranded:Xr,ZodPipeline:kn,ZodReadonly:xn,custom:Cr,Schema:Q,ZodSchema:Q,late:to,get ZodFirstPartyTypeKind(){return j},coerce:wo,any:oo,array:ae,bigint:Zi,boolean:K,date:io,discriminatedUnion:fo,effect:Ei,enum:yo,function:vo,instanceof:no,intersection:po,lazy:Eo,literal:me,map:mo,nan:ro,nativeEnum:Qt,never:lo,null:_r,nullable:So,number:H,object:D,oboolean:No,onumber:Io,optional:ji,ostring:Ao,pipeline:bo,preprocess:Fi,promise:To,record:go,set:_o,strictObject:co,string:v,symbol:ao,transformer:Ei,tuple:ho,undefined:so,union:Jr,unknown:Mn,void:uo,NEVER:Oo,ZodIssueCode:O,quotelessJson:ks,ZodError:Ze}),Br={exports:{}},yi;function Ro(){return yi||(yi=1,function(e){var t=function(n){var r=1e7,i=7,a=9007199254740992,u=F(a),c="0123456789abcdefghijklmnopqrstuvwxyz",g=typeof BigInt=="function";function f(s,l,_,E){return typeof s>"u"?f[0]:typeof l<"u"?+l==10&&!_?q(s):Ar(s,l,_,E):q(s)}function d(s,l){this.value=s,this.sign=l,this.isSmall=!1}d.prototype=Object.create(f.prototype);function h(s){this.value=s,this.sign=s<0,this.isSmall=!0}h.prototype=Object.create(f.prototype);function S(s){this.value=s}S.prototype=Object.create(f.prototype);function x(s){return-a<s&&s<a}function F(s){return s<1e7?[s]:s<1e14?[s%1e7,Math.floor(s/1e7)]:[s%1e7,Math.floor(s/1e7)%1e7,Math.floor(s/1e14)]}function G(s){L(s);var l=s.length;if(l<4&&ot(s,u)<0)switch(l){case 0:return 0;case 1:return s[0];case 2:return s[0]+s[1]*r;default:return s[0]+(s[1]+s[2]*r)*r}return s}function L(s){for(var l=s.length;s[--l]===0;);s.length=l+1}function re(s){for(var l=new Array(s),_=-1;++_<s;)l[_]=0;return l}function X(s){return s>0?Math.floor(s):Math.ceil(s)}function J(s,l){var _=s.length,E=l.length,b=new Array(_),T=0,N=r,I,w;for(w=0;w<E;w++)I=s[w]+l[w]+T,T=I>=N?1:0,b[w]=I-T*N;for(;w<_;)I=s[w]+T,T=I===N?1:0,b[w++]=I-T*N;return T>0&&b.push(T),b}function Ee(s,l){return s.length>=l.length?J(s,l):J(l,s)}function _e(s,l){var _=s.length,E=new Array(_),b=r,T,N;for(N=0;N<_;N++)T=s[N]-b+l,l=Math.floor(T/b),E[N]=T-l*b,l+=1;for(;l>0;)E[N++]=l%b,l=Math.floor(l/b);return E}d.prototype.add=function(s){var l=q(s);if(this.sign!==l.sign)return this.subtract(l.negate());var _=this.value,E=l.value;return l.isSmall?new d(_e(_,Math.abs(E)),this.sign):new d(Ee(_,E),this.sign)},d.prototype.plus=d.prototype.add,h.prototype.add=function(s){var l=q(s),_=this.value;if(_<0!==l.sign)return this.subtract(l.negate());var E=l.value;if(l.isSmall){if(x(_+E))return new h(_+E);E=F(Math.abs(E))}return new d(_e(E,Math.abs(_)),_<0)},h.prototype.plus=h.prototype.add,S.prototype.add=function(s){return new S(this.value+q(s).value)},S.prototype.plus=S.prototype.add;function je(s,l){var _=s.length,E=l.length,b=new Array(_),T=0,N=r,I,w;for(I=0;I<E;I++)w=s[I]-T-l[I],w<0?(w+=N,T=1):T=0,b[I]=w;for(I=E;I<_;I++){if(w=s[I]-T,w<0)w+=N;else{b[I++]=w;break}b[I]=w}for(;I<_;I++)b[I]=s[I];return L(b),b}function Se(s,l,_){var E;return ot(s,l)>=0?E=je(s,l):(E=je(l,s),_=!_),E=G(E),typeof E=="number"?(_&&(E=-E),new h(E)):new d(E,_)}function Fe(s,l,_){var E=s.length,b=new Array(E),T=-l,N=r,I,w;for(I=0;I<E;I++)w=s[I]+T,T=Math.floor(w/N),w%=N,b[I]=w<0?w+N:w;return b=G(b),typeof b=="number"?(_&&(b=-b),new h(b)):new d(b,_)}d.prototype.subtract=function(s){var l=q(s);if(this.sign!==l.sign)return this.add(l.negate());var _=this.value,E=l.value;return l.isSmall?Fe(_,Math.abs(E),this.sign):Se(_,E,this.sign)},d.prototype.minus=d.prototype.subtract,h.prototype.subtract=function(s){var l=q(s),_=this.value;if(_<0!==l.sign)return this.add(l.negate());var E=l.value;return l.isSmall?new h(_-E):Fe(E,Math.abs(_),_>=0)},h.prototype.minus=h.prototype.subtract,S.prototype.subtract=function(s){return new S(this.value-q(s).value)},S.prototype.minus=S.prototype.subtract,d.prototype.negate=function(){return new d(this.value,!this.sign)},h.prototype.negate=function(){var s=this.sign,l=new h(-this.value);return l.sign=!s,l},S.prototype.negate=function(){return new S(-this.value)},d.prototype.abs=function(){return new d(this.value,!1)},h.prototype.abs=function(){return new h(Math.abs(this.value))},S.prototype.abs=function(){return new S(this.value>=0?this.value:-this.value)};function Be(s,l){var _=s.length,E=l.length,b=_+E,T=re(b),N=r,I,w,Y,ee,z;for(Y=0;Y<_;++Y){ee=s[Y];for(var oe=0;oe<E;++oe)z=l[oe],I=ee*z+T[Y+oe],w=Math.floor(I/N),T[Y+oe]=I-w*N,T[Y+oe+1]+=w}return L(T),T}function at(s,l){var _=s.length,E=new Array(_),b=r,T=0,N,I;for(I=0;I<_;I++)N=s[I]*l+T,T=Math.floor(N/b),E[I]=N-T*b;for(;T>0;)E[I++]=T%b,T=Math.floor(T/b);return E}function De(s,l){for(var _=[];l-- >0;)_.push(0);return _.concat(s)}function ue(s,l){var _=Math.max(s.length,l.length);if(_<=30)return Be(s,l);_=Math.ceil(_/2);var E=s.slice(_),b=s.slice(0,_),T=l.slice(_),N=l.slice(0,_),I=ue(b,N),w=ue(E,T),Y=ue(Ee(b,E),Ee(N,T)),ee=Ee(Ee(I,De(je(je(Y,I),w),_)),De(w,2*_));return L(ee),ee}function yr(s,l){return-.012*s-.012*l+15e-6*s*l>0}d.prototype.multiply=function(s){var l=q(s),_=this.value,E=l.value,b=this.sign!==l.sign,T;if(l.isSmall){if(E===0)return f[0];if(E===1)return this;if(E===-1)return this.negate();if(T=Math.abs(E),T<r)return new d(at(_,T),b);E=F(T)}return yr(_.length,E.length)?new d(ue(_,E),b):new d(Be(_,E),b)},d.prototype.times=d.prototype.multiply;function Gn(s,l,_){return s<r?new d(at(l,s),_):new d(Be(l,F(s)),_)}h.prototype._multiplyBySmall=function(s){return x(s.value*this.value)?new h(s.value*this.value):Gn(Math.abs(s.value),F(Math.abs(this.value)),this.sign!==s.sign)},d.prototype._multiplyBySmall=function(s){return s.value===0?f[0]:s.value===1?this:s.value===-1?this.negate():Gn(Math.abs(s.value),this.value,this.sign!==s.sign)},h.prototype.multiply=function(s){return q(s)._multiplyBySmall(this)},h.prototype.times=h.prototype.multiply,S.prototype.multiply=function(s){return new S(this.value*q(s).value)},S.prototype.times=S.prototype.multiply;function Bn(s){var l=s.length,_=re(l+l),E=r,b,T,N,I,w;for(N=0;N<l;N++){I=s[N],T=0-I*I;for(var Y=N;Y<l;Y++)w=s[Y],b=2*(I*w)+_[N+Y]+T,T=Math.floor(b/E),_[N+Y]=b-T*E;_[N+l]=T}return L(_),_}d.prototype.square=function(){return new d(Bn(this.value),!1)},h.prototype.square=function(){var s=this.value*this.value;return x(s)?new h(s):new d(Bn(F(Math.abs(this.value))),!1)},S.prototype.square=function(s){return new S(this.value*this.value)};function Tr(s,l){var _=s.length,E=l.length,b=r,T=re(l.length),N=l[E-1],I=Math.ceil(b/(2*N)),w=at(s,I),Y=at(l,I),ee,z,oe,xe,Ie,cn,dn;for(w.length<=_&&w.push(0),Y.push(0),N=Y[E-1],z=_-E;z>=0;z--){for(ee=b-1,w[z+E]!==N&&(ee=Math.floor((w[z+E]*b+w[z+E-1])/N)),oe=0,xe=0,cn=Y.length,Ie=0;Ie<cn;Ie++)oe+=ee*Y[Ie],dn=Math.floor(oe/b),xe+=w[z+Ie]-(oe-dn*b),oe=dn,xe<0?(w[z+Ie]=xe+b,xe=-1):(w[z+Ie]=xe,xe=0);for(;xe!==0;){for(ee-=1,oe=0,Ie=0;Ie<cn;Ie++)oe+=w[z+Ie]-b+Y[Ie],oe<0?(w[z+Ie]=oe+b,oe=0):(w[z+Ie]=oe,oe=1);xe+=oe}T[z]=ee}return w=Vn(w,I)[0],[G(T),G(w)]}function Sr(s,l){for(var _=s.length,E=l.length,b=[],T=[],N=r,I,w,Y,ee,z;_;){if(T.unshift(s[--_]),L(T),ot(T,l)<0){b.push(0);continue}w=T.length,Y=T[w-1]*N+T[w-2],ee=l[E-1]*N+l[E-2],w>E&&(Y=(Y+1)*N),I=Math.ceil(Y/ee);do{if(z=at(l,I),ot(z,T)<=0)break;I--}while(I);b.push(I),T=je(T,z)}return b.reverse(),[G(b),G(T)]}function Vn(s,l){var _=s.length,E=re(_),b=r,T,N,I,w;for(I=0,T=_-1;T>=0;--T)w=I*b+s[T],N=X(w/l),I=w-N*l,E[T]=N|0;return[E,I|0]}function st(s,l){var _,E=q(l);if(g)return[new S(s.value/E.value),new S(s.value%E.value)];var b=s.value,T=E.value,N;if(T===0)throw new Error("Cannot divide by zero");if(s.isSmall)return E.isSmall?[new h(X(b/T)),new h(b%T)]:[f[0],s];if(E.isSmall){if(T===1)return[s,f[0]];if(T==-1)return[s.negate(),f[0]];var I=Math.abs(T);if(I<r){_=Vn(b,I),N=G(_[0]);var w=_[1];return s.sign&&(w=-w),typeof N=="number"?(s.sign!==E.sign&&(N=-N),[new h(N),new h(w)]):[new d(N,s.sign!==E.sign),new h(w)]}T=F(I)}var Y=ot(b,T);if(Y===-1)return[f[0],s];if(Y===0)return[f[s.sign===E.sign?1:-1],f[0]];b.length+T.length<=200?_=Tr(b,T):_=Sr(b,T),N=_[0];var ee=s.sign!==E.sign,z=_[1],oe=s.sign;return typeof N=="number"?(ee&&(N=-N),N=new h(N)):N=new d(N,ee),typeof z=="number"?(oe&&(z=-z),z=new h(z)):z=new d(z,oe),[N,z]}d.prototype.divmod=function(s){var l=st(this,s);return{quotient:l[0],remainder:l[1]}},S.prototype.divmod=h.prototype.divmod=d.prototype.divmod,d.prototype.divide=function(s){return st(this,s)[0]},S.prototype.over=S.prototype.divide=function(s){return new S(this.value/q(s).value)},h.prototype.over=h.prototype.divide=d.prototype.over=d.prototype.divide,d.prototype.mod=function(s){return st(this,s)[1]},S.prototype.mod=S.prototype.remainder=function(s){return new S(this.value%q(s).value)},h.prototype.remainder=h.prototype.mod=d.prototype.remainder=d.prototype.mod,d.prototype.pow=function(s){var l=q(s),_=this.value,E=l.value,b,T,N;if(E===0)return f[1];if(_===0)return f[0];if(_===1)return f[1];if(_===-1)return l.isEven()?f[1]:f[-1];if(l.sign)return f[0];if(!l.isSmall)throw new Error("The exponent "+l.toString()+" is too large.");if(this.isSmall&&x(b=Math.pow(_,E)))return new h(X(b));for(T=this,N=f[1];E&!0&&(N=N.times(T),--E),E!==0;)E/=2,T=T.square();return N},h.prototype.pow=d.prototype.pow,S.prototype.pow=function(s){var l=q(s),_=this.value,E=l.value,b=BigInt(0),T=BigInt(1),N=BigInt(2);if(E===b)return f[1];if(_===b)return f[0];if(_===T)return f[1];if(_===BigInt(-1))return l.isEven()?f[1]:f[-1];if(l.isNegative())return new S(b);for(var I=this,w=f[1];(E&T)===T&&(w=w.times(I),--E),E!==b;)E/=N,I=I.square();return w},d.prototype.modPow=function(s,l){if(s=q(s),l=q(l),l.isZero())throw new Error("Cannot take modPow with modulus 0");var _=f[1],E=this.mod(l);for(s.isNegative()&&(s=s.multiply(f[-1]),E=E.modInv(l));s.isPositive();){if(E.isZero())return f[0];s.isOdd()&&(_=_.multiply(E).mod(l)),s=s.divide(2),E=E.square().mod(l)}return _},S.prototype.modPow=h.prototype.modPow=d.prototype.modPow;function ot(s,l){if(s.length!==l.length)return s.length>l.length?1:-1;for(var _=s.length-1;_>=0;_--)if(s[_]!==l[_])return s[_]>l[_]?1:-1;return 0}d.prototype.compareAbs=function(s){var l=q(s),_=this.value,E=l.value;return l.isSmall?1:ot(_,E)},h.prototype.compareAbs=function(s){var l=q(s),_=Math.abs(this.value),E=l.value;return l.isSmall?(E=Math.abs(E),_===E?0:_>E?1:-1):-1},S.prototype.compareAbs=function(s){var l=this.value,_=q(s).value;return l=l>=0?l:-l,_=_>=0?_:-_,l===_?0:l>_?1:-1},d.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=q(s),_=this.value,E=l.value;return this.sign!==l.sign?l.sign?1:-1:l.isSmall?this.sign?-1:1:ot(_,E)*(this.sign?-1:1)},d.prototype.compareTo=d.prototype.compare,h.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=q(s),_=this.value,E=l.value;return l.isSmall?_==E?0:_>E?1:-1:_<0!==l.sign?_<0?-1:1:_<0?1:-1},h.prototype.compareTo=h.prototype.compare,S.prototype.compare=function(s){if(s===1/0)return-1;if(s===-1/0)return 1;var l=this.value,_=q(s).value;return l===_?0:l>_?1:-1},S.prototype.compareTo=S.prototype.compare,d.prototype.equals=function(s){return this.compare(s)===0},S.prototype.eq=S.prototype.equals=h.prototype.eq=h.prototype.equals=d.prototype.eq=d.prototype.equals,d.prototype.notEquals=function(s){return this.compare(s)!==0},S.prototype.neq=S.prototype.notEquals=h.prototype.neq=h.prototype.notEquals=d.prototype.neq=d.prototype.notEquals,d.prototype.greater=function(s){return this.compare(s)>0},S.prototype.gt=S.prototype.greater=h.prototype.gt=h.prototype.greater=d.prototype.gt=d.prototype.greater,d.prototype.lesser=function(s){return this.compare(s)<0},S.prototype.lt=S.prototype.lesser=h.prototype.lt=h.prototype.lesser=d.prototype.lt=d.prototype.lesser,d.prototype.greaterOrEquals=function(s){return this.compare(s)>=0},S.prototype.geq=S.prototype.greaterOrEquals=h.prototype.geq=h.prototype.greaterOrEquals=d.prototype.geq=d.prototype.greaterOrEquals,d.prototype.lesserOrEquals=function(s){return this.compare(s)<=0},S.prototype.leq=S.prototype.lesserOrEquals=h.prototype.leq=h.prototype.lesserOrEquals=d.prototype.leq=d.prototype.lesserOrEquals,d.prototype.isEven=function(){return(this.value[0]&1)===0},h.prototype.isEven=function(){return(this.value&1)===0},S.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},d.prototype.isOdd=function(){return(this.value[0]&1)===1},h.prototype.isOdd=function(){return(this.value&1)===1},S.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},d.prototype.isPositive=function(){return!this.sign},h.prototype.isPositive=function(){return this.value>0},S.prototype.isPositive=h.prototype.isPositive,d.prototype.isNegative=function(){return this.sign},h.prototype.isNegative=function(){return this.value<0},S.prototype.isNegative=h.prototype.isNegative,d.prototype.isUnit=function(){return!1},h.prototype.isUnit=function(){return Math.abs(this.value)===1},S.prototype.isUnit=function(){return this.abs().value===BigInt(1)},d.prototype.isZero=function(){return!1},h.prototype.isZero=function(){return this.value===0},S.prototype.isZero=function(){return this.value===BigInt(0)},d.prototype.isDivisibleBy=function(s){var l=q(s);return l.isZero()?!1:l.isUnit()?!0:l.compareAbs(2)===0?this.isEven():this.mod(l).isZero()},S.prototype.isDivisibleBy=h.prototype.isDivisibleBy=d.prototype.isDivisibleBy;function Hn(s){var l=s.abs();if(l.isUnit())return!1;if(l.equals(2)||l.equals(3)||l.equals(5))return!0;if(l.isEven()||l.isDivisibleBy(3)||l.isDivisibleBy(5))return!1;if(l.lesser(49))return!0}function rn(s,l){for(var _=s.prev(),E=_,b=0,T,N,I;E.isEven();)E=E.divide(2),b++;e:for(N=0;N<l.length;N++)if(!s.lesser(l[N])&&(I=t(l[N]).modPow(E,s),!(I.isUnit()||I.equals(_)))){for(T=b-1;T!=0;T--){if(I=I.square().mod(s),I.isUnit())return!1;if(I.equals(_))continue e}return!1}return!0}d.prototype.isPrime=function(s){var l=Hn(this);if(l!==n)return l;var _=this.abs(),E=_.bitLength();if(E<=64)return rn(_,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var b=Math.log(2)*E.toJSNumber(),T=Math.ceil(s===!0?2*Math.pow(b,2):b),N=[],I=0;I<T;I++)N.push(t(I+2));return rn(_,N)},S.prototype.isPrime=h.prototype.isPrime=d.prototype.isPrime,d.prototype.isProbablePrime=function(s,l){var _=Hn(this);if(_!==n)return _;for(var E=this.abs(),b=s===n?5:s,T=[],N=0;N<b;N++)T.push(t.randBetween(2,E.minus(2),l));return rn(E,T)},S.prototype.isProbablePrime=h.prototype.isProbablePrime=d.prototype.isProbablePrime,d.prototype.modInv=function(s){for(var l=t.zero,_=t.one,E=q(s),b=this.abs(),T,N,I;!b.isZero();)T=E.divide(b),N=l,I=E,l=_,E=b,_=N.subtract(T.multiply(_)),b=I.subtract(T.multiply(b));if(!E.isUnit())throw new Error(this.toString()+" and "+s.toString()+" are not co-prime");return l.compare(0)===-1&&(l=l.add(s)),this.isNegative()?l.negate():l},S.prototype.modInv=h.prototype.modInv=d.prototype.modInv,d.prototype.next=function(){var s=this.value;return this.sign?Fe(s,1,this.sign):new d(_e(s,1),this.sign)},h.prototype.next=function(){var s=this.value;return s+1<a?new h(s+1):new d(u,!1)},S.prototype.next=function(){return new S(this.value+BigInt(1))},d.prototype.prev=function(){var s=this.value;return this.sign?new d(_e(s,1),!0):Fe(s,1,this.sign)},h.prototype.prev=function(){var s=this.value;return s-1>-a?new h(s-1):new d(u,!0)},S.prototype.prev=function(){return new S(this.value-BigInt(1))};for(var Ye=[1];2*Ye[Ye.length-1]<=r;)Ye.push(2*Ye[Ye.length-1]);var Dt=Ye.length,lt=Ye[Dt-1];function Zn(s){return Math.abs(s)<=r}d.prototype.shiftLeft=function(s){var l=q(s).toJSNumber();if(!Zn(l))throw new Error(String(l)+" is too large for shifting.");if(l<0)return this.shiftRight(-l);var _=this;if(_.isZero())return _;for(;l>=Dt;)_=_.multiply(lt),l-=Dt-1;return _.multiply(Ye[l])},S.prototype.shiftLeft=h.prototype.shiftLeft=d.prototype.shiftLeft,d.prototype.shiftRight=function(s){var l,_=q(s).toJSNumber();if(!Zn(_))throw new Error(String(_)+" is too large for shifting.");if(_<0)return this.shiftLeft(-_);for(var E=this;_>=Dt;){if(E.isZero()||E.isNegative()&&E.isUnit())return E;l=st(E,lt),E=l[1].isNegative()?l[0].prev():l[0],_-=Dt-1}return l=st(E,Ye[_]),l[1].isNegative()?l[0].prev():l[0]},S.prototype.shiftRight=h.prototype.shiftRight=d.prototype.shiftRight;function le(s,l,_){l=q(l);for(var E=s.isNegative(),b=l.isNegative(),T=E?s.not():s,N=b?l.not():l,I=0,w=0,Y=null,ee=null,z=[];!T.isZero()||!N.isZero();)Y=st(T,lt),I=Y[1].toJSNumber(),E&&(I=lt-1-I),ee=st(N,lt),w=ee[1].toJSNumber(),b&&(w=lt-1-w),T=Y[0],N=ee[0],z.push(_(I,w));for(var oe=_(E?1:0,b?1:0)!==0?t(-1):t(0),xe=z.length-1;xe>=0;xe-=1)oe=oe.multiply(lt).add(t(z[xe]));return oe}d.prototype.not=function(){return this.negate().prev()},S.prototype.not=h.prototype.not=d.prototype.not,d.prototype.and=function(s){return le(this,s,function(l,_){return l&_})},S.prototype.and=h.prototype.and=d.prototype.and,d.prototype.or=function(s){return le(this,s,function(l,_){return l|_})},S.prototype.or=h.prototype.or=d.prototype.or,d.prototype.xor=function(s){return le(this,s,function(l,_){return l^_})},S.prototype.xor=h.prototype.xor=d.prototype.xor;var Ft=1<<30,br=(r&-r)*(r&-r)|Ft;function Ve(s){var l=s.value,_=typeof l=="number"?l|Ft:typeof l=="bigint"?l|BigInt(Ft):l[0]+l[1]*r|br;return _&-_}function an(s,l){if(l.compareTo(s)<=0){var _=an(s,l.square(l)),E=_.p,b=_.e,T=E.multiply(l);return T.compareTo(s)<=0?{p:T,e:b*2+1}:{p:E,e:b*2}}return{p:t(1),e:0}}d.prototype.bitLength=function(){var s=this;return s.compareTo(t(0))<0&&(s=s.negate().subtract(t(1))),s.compareTo(t(0))===0?t(0):t(an(s,t(2)).e).add(t(1))},S.prototype.bitLength=h.prototype.bitLength=d.prototype.bitLength;function sn(s,l){return s=q(s),l=q(l),s.greater(l)?s:l}function on(s,l){return s=q(s),l=q(l),s.lesser(l)?s:l}function ln(s,l){if(s=q(s).abs(),l=q(l).abs(),s.equals(l))return s;if(s.isZero())return l;if(l.isZero())return s;for(var _=f[1],E,b;s.isEven()&&l.isEven();)E=on(Ve(s),Ve(l)),s=s.divide(E),l=l.divide(E),_=_.multiply(E);for(;s.isEven();)s=s.divide(Ve(s));do{for(;l.isEven();)l=l.divide(Ve(l));s.greater(l)&&(b=l,l=s,s=b),l=l.subtract(s)}while(!l.isZero());return _.isUnit()?s:s.multiply(_)}function jn(s,l){return s=q(s).abs(),l=q(l).abs(),s.divide(ln(s,l)).multiply(l)}function Fn(s,l,_){s=q(s),l=q(l);var E=_||Math.random,b=on(s,l),T=sn(s,l),N=T.subtract(b).add(1);if(N.isSmall)return b.add(Math.floor(E()*N));for(var I=xt(N,r).value,w=[],Y=!0,ee=0;ee<I.length;ee++){var z=Y?I[ee]+(ee+1<I.length?I[ee+1]/r:0):r,oe=X(E()*z);w.push(oe),oe<I[ee]&&(Y=!1)}return b.add(f.fromArray(w,r,!1))}var Ar=function(s,l,_,E){_=_||c,s=String(s),E||(s=s.toLowerCase(),_=_.toLowerCase());var b=s.length,T,N=Math.abs(l),I={};for(T=0;T<_.length;T++)I[_[T]]=T;for(T=0;T<b;T++){var w=s[T];if(w!=="-"&&w in I&&I[w]>=N){if(w==="1"&&N===1)continue;throw new Error(w+" is not a valid digit in base "+l+".")}}l=q(l);var Y=[],ee=s[0]==="-";for(T=ee?1:0;T<s.length;T++){var w=s[T];if(w in I)Y.push(q(I[w]));else if(w==="<"){var z=T;do T++;while(s[T]!==">"&&T<s.length);Y.push(q(s.slice(z+1,T)))}else throw new Error(w+" is not a valid character")}return qn(Y,l,ee)};function qn(s,l,_){var E=f[0],b=f[1],T;for(T=s.length-1;T>=0;T--)E=E.add(s[T].times(b)),b=b.times(l);return _?E.negate():E}function Ir(s,l){return l=l||c,s<l.length?l[s]:"<"+s+">"}function xt(s,l){if(l=t(l),l.isZero()){if(s.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(l.equals(-1)){if(s.isZero())return{value:[0],isNegative:!1};if(s.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-s.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var _=Array.apply(null,Array(s.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return _.unshift([1]),{value:[].concat.apply([],_),isNegative:!1}}var E=!1;if(s.isNegative()&&l.isPositive()&&(E=!0,s=s.abs()),l.isUnit())return s.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(s.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:E};for(var b=[],T=s,N;T.isNegative()||T.compareAbs(l)>=0;){N=T.divmod(l),T=N.quotient;var I=N.remainder;I.isNegative()&&(I=l.minus(I).abs(),T=T.next()),b.push(I.toJSNumber())}return b.push(T.toJSNumber()),{value:b.reverse(),isNegative:E}}function Kn(s,l,_){var E=xt(s,l);return(E.isNegative?"-":"")+E.value.map(function(b){return Ir(b,_)}).join("")}d.prototype.toArray=function(s){return xt(this,s)},h.prototype.toArray=function(s){return xt(this,s)},S.prototype.toArray=function(s){return xt(this,s)},d.prototype.toString=function(s,l){if(s===n&&(s=10),s!==10||l)return Kn(this,s,l);for(var _=this.value,E=_.length,b=String(_[--E]),T="0000000",N;--E>=0;)N=String(_[E]),b+=T.slice(N.length)+N;var I=this.sign?"-":"";return I+b},h.prototype.toString=function(s,l){return s===n&&(s=10),s!=10||l?Kn(this,s,l):String(this.value)},S.prototype.toString=h.prototype.toString,S.prototype.toJSON=d.prototype.toJSON=h.prototype.toJSON=function(){return this.toString()},d.prototype.valueOf=function(){return parseInt(this.toString(),10)},d.prototype.toJSNumber=d.prototype.valueOf,h.prototype.valueOf=function(){return this.value},h.prototype.toJSNumber=h.prototype.valueOf,S.prototype.valueOf=S.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function $n(s){if(x(+s)){var l=+s;if(l===X(l))return g?new S(BigInt(l)):new h(l);throw new Error("Invalid integer: "+s)}var _=s[0]==="-";_&&(s=s.slice(1));var E=s.split(/e/i);if(E.length>2)throw new Error("Invalid integer: "+E.join("e"));if(E.length===2){var b=E[1];if(b[0]==="+"&&(b=b.slice(1)),b=+b,b!==X(b)||!x(b))throw new Error("Invalid integer: "+b+" is not a valid exponent.");var T=E[0],N=T.indexOf(".");if(N>=0&&(b-=T.length-N-1,T=T.slice(0,N)+T.slice(N+1)),b<0)throw new Error("Cannot include negative exponent part for integers");T+=new Array(b+1).join("0"),s=T}var I=/^([0-9][0-9]*)$/.test(s);if(!I)throw new Error("Invalid integer: "+s);if(g)return new S(BigInt(_?"-"+s:s));for(var w=[],Y=s.length,ee=i,z=Y-ee;Y>0;)w.push(+s.slice(z,Y)),z-=ee,z<0&&(z=0),Y-=ee;return L(w),new d(w,_)}function un(s){if(g)return new S(BigInt(s));if(x(s)){if(s!==X(s))throw new Error(s+" is not an integer.");return new h(s)}return $n(s.toString())}function q(s){return typeof s=="number"?un(s):typeof s=="string"?$n(s):typeof s=="bigint"?new S(s):s}for(var Je=0;Je<1e3;Je++)f[Je]=q(Je),Je>0&&(f[-Je]=q(-Je));return f.one=f[1],f.zero=f[0],f.minusOne=f[-1],f.max=sn,f.min=on,f.gcd=ln,f.lcm=jn,f.isInstance=function(s){return s instanceof d||s instanceof h||s instanceof S},f.randBetween=Fn,f.fromArray=function(s,l,_){return qn(s.map(q),q(l||10),_)},f}();e.hasOwnProperty("exports")&&(e.exports=t)}(Br)),Br.exports}var Lo=Ro(),Do=Ui(Lo);const qi=64,$r=16,At=qi/$r;function xo(){try{return!0}catch{return!1}}function Mo(e,t,n){let r=0;for(let i=0;i<n;i++){const a=e[t+i];if(a===void 0)break;r+=a*16**i}return r}function Ki(e){const t=[];for(let n=0;n<e.length;n++){let r=Number(e[n]);for(let i=0;r||i<t.length;i++)r+=(t[i]||0)*10,t[i]=r%16,r=(r-t[i])/16}return t}function Uo(e){const t=Ki(e),n=Array(At);for(let r=0;r<At;r++)n[At-1-r]=Mo(t,r*At,At);return n}class Qe{static fromString(t){return new Qe(Uo(t),t)}static fromBit(t){const n=Array(At),r=Math.floor(t/$r);for(let i=0;i<At;i++)n[At-1-i]=i===r?1<<t-r*$r:0;return new Qe(n)}constructor(t,n){this.parts=t,this.str=n}and({parts:t}){return new Qe(this.parts.map((n,r)=>n&t[r]))}or({parts:t}){return new Qe(this.parts.map((n,r)=>n|t[r]))}xor({parts:t}){return new Qe(this.parts.map((n,r)=>n^t[r]))}not(){return new Qe(this.parts.map(t=>~t))}equals({parts:t}){return this.parts.every((n,r)=>n===t[r])}toString(){if(this.str!=null)return this.str;const t=new Array(qi/4);return this.parts.forEach((n,r)=>{const i=Ki(n.toString());for(let a=0;a<4;a++)t[a+r*4]=i[3-a]||0}),this.str=Do.fromArray(t,16).toString()}toJSON(){return this.toString()}}const Lt=xo();Lt&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const ir={},$i=Lt?function(t){return BigInt(t)}:function(t){return t instanceof Qe?t:(typeof t=="number"&&(t=t.toString()),ir[t]!=null||(ir[t]=Qe.fromString(t)),ir[t])},Ae=$i(0),vr=Lt?function(t=Ae,n=Ae){return t&n}:function(t=Ae,n=Ae){return t.and(n)},Yi=Lt?function(t=Ae,n=Ae){return t|n}:function(t=Ae,n=Ae){return t.or(n)},Po=Lt?function(t=Ae,n=Ae){return t^n}:function(t=Ae,n=Ae){return t.xor(n)},ko=Lt?function(t=Ae){return~t}:function(t=Ae){return t.not()},Qr=Lt?function(t,n){return t===n}:function(t,n){return t==null||n==null?t==n:t.equals(n)};function Go(...e){let t=e[0];for(let n=1;n<e.length;n++)t=Yi(t,e[n]);return t}function Bo(e,t){return Qr(vr(e,t),t)}function Vo(e,t){return!Qr(vr(e,t),Ae)}function Ho(e,t){return t===Ae?e:Yi(e,t)}function Zo(e,t){return t===Ae?e:Po(e,vr(e,t))}const jo=Lt?function(t){return BigInt(1)<<BigInt(t)}:function(t){return Qe.fromBit(t)};var Z={combine:Go,add:Ho,remove:Zo,filter:vr,invert:ko,has:Bo,hasAny:Vo,equals:Qr,deserialize:$i,getFlag:jo},Ti;(function(e){e[e.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",e[e.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",e[e.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",e[e.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",e[e.INVALID_ORIGIN=4001]="INVALID_ORIGIN",e[e.RATELIMITED=4002]="RATELIMITED",e[e.TOKEN_REVOKED=4003]="TOKEN_REVOKED",e[e.INVALID_VERSION=4004]="INVALID_VERSION",e[e.INVALID_ENCODING=4005]="INVALID_ENCODING"})(Ti||(Ti={}));var Yr;(function(e){e[e.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",e[e.INVALID_COMMAND=4002]="INVALID_COMMAND",e[e.INVALID_GUILD=4003]="INVALID_GUILD",e[e.INVALID_EVENT=4004]="INVALID_EVENT",e[e.INVALID_CHANNEL=4005]="INVALID_CHANNEL",e[e.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS",e[e.INVALID_CLIENTID=4007]="INVALID_CLIENTID",e[e.INVALID_ORIGIN=4008]="INVALID_ORIGIN",e[e.INVALID_TOKEN=4009]="INVALID_TOKEN",e[e.INVALID_USER=4010]="INVALID_USER"})(Yr||(Yr={}));var zr;(function(e){e.LANDSCAPE="landscape",e.PORTRAIT="portrait"})(zr||(zr={}));var mt;(function(e){e.MOBILE="mobile",e.DESKTOP="desktop"})(mt||(mt={}));Object.freeze({CREATE_INSTANT_INVITE:Z.getFlag(0),KICK_MEMBERS:Z.getFlag(1),BAN_MEMBERS:Z.getFlag(2),ADMINISTRATOR:Z.getFlag(3),MANAGE_CHANNELS:Z.getFlag(4),MANAGE_GUILD:Z.getFlag(5),ADD_REACTIONS:Z.getFlag(6),VIEW_AUDIT_LOG:Z.getFlag(7),PRIORITY_SPEAKER:Z.getFlag(8),STREAM:Z.getFlag(9),VIEW_CHANNEL:Z.getFlag(10),SEND_MESSAGES:Z.getFlag(11),SEND_TTS_MESSAGES:Z.getFlag(12),MANAGE_MESSAGES:Z.getFlag(13),EMBED_LINKS:Z.getFlag(14),ATTACH_FILES:Z.getFlag(15),READ_MESSAGE_HISTORY:Z.getFlag(16),MENTION_EVERYONE:Z.getFlag(17),USE_EXTERNAL_EMOJIS:Z.getFlag(18),VIEW_GUILD_INSIGHTS:Z.getFlag(19),CONNECT:Z.getFlag(20),SPEAK:Z.getFlag(21),MUTE_MEMBERS:Z.getFlag(22),DEAFEN_MEMBERS:Z.getFlag(23),MOVE_MEMBERS:Z.getFlag(24),USE_VAD:Z.getFlag(25),CHANGE_NICKNAME:Z.getFlag(26),MANAGE_NICKNAMES:Z.getFlag(27),MANAGE_ROLES:Z.getFlag(28),MANAGE_WEBHOOKS:Z.getFlag(29),MANAGE_GUILD_EXPRESSIONS:Z.getFlag(30),USE_APPLICATION_COMMANDS:Z.getFlag(31),REQUEST_TO_SPEAK:Z.getFlag(32),MANAGE_EVENTS:Z.getFlag(33),MANAGE_THREADS:Z.getFlag(34),CREATE_PUBLIC_THREADS:Z.getFlag(35),CREATE_PRIVATE_THREADS:Z.getFlag(36),USE_EXTERNAL_STICKERS:Z.getFlag(37),SEND_MESSAGES_IN_THREADS:Z.getFlag(38),USE_EMBEDDED_ACTIVITIES:Z.getFlag(39),MODERATE_MEMBERS:Z.getFlag(40),VIEW_CREATOR_MONETIZATION_ANALYTICS:Z.getFlag(41),USE_SOUNDBOARD:Z.getFlag(42),CREATE_GUILD_EXPRESSIONS:Z.getFlag(43),CREATE_EVENTS:Z.getFlag(44),USE_EXTERNAL_SOUNDS:Z.getFlag(45),SEND_VOICE_MESSAGES:Z.getFlag(46),SEND_POLLS:Z.getFlag(49),USE_EXTERNAL_APPS:Z.getFlag(50)});const Si=-1,Fo=250;function Le(e){return Fi(t=>{var n;const[r]=(n=Object.entries(e).find(([,i])=>i===t))!==null&&n!==void 0?n:[];return t!=null&&r===void 0?e.UNHANDLED:t},v().or(H()))}function zi(e){const t=Cr().transform(n=>{const r=e.safeParse(n);return r.success?r.data:e._def.defaultValue()});return t.overlayType=e,t}const qo=m.object({image_url:m.string()}).describe('Response for "INITIATE_IMAGE_UPLOAD" Command'),Ko=m.object({mediaUrl:m.string().max(1024)}).describe('Request for "OPEN_SHARE_MOMENT_DIALOG" Command'),$o=m.object({access_token:m.union([m.string(),m.null()]).optional()}).describe('Request for "AUTHENTICATE" Command'),Wi=m.object({access_token:m.string(),user:m.object({username:m.string(),discriminator:m.string(),id:m.string(),avatar:m.union([m.string(),m.null()]).optional(),public_flags:m.number(),global_name:m.union([m.string(),m.null()]).optional()}),scopes:m.array(zi(m.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","guilds.channels.read","gdm.join","bot","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.permissions.update","applications.commands.update","applications.store.update","applications.entitlements","activities.read","activities.write","activities.invites.write","relationships.read","relationships.write","voice","dm_channels.read","role_connections.write","presences.read","presences.write","openid","dm_channels.messages.read","dm_channels.messages.write","gateway.connect","account.global_name.update","payment_sources.country_code","sdk.social_layer_presence","sdk.social_layer","lobbies.write","application_identities.write"]).or(m.literal(-1)).default(-1))),expires:m.string(),application:m.object({description:m.string(),icon:m.union([m.string(),m.null()]).optional(),id:m.string(),rpc_origins:m.array(m.string()).optional(),name:m.string()})}).describe('Response for "AUTHENTICATE" Command'),Xi=m.object({participants:m.array(m.object({id:m.string(),username:m.string(),global_name:m.union([m.string(),m.null()]).optional(),discriminator:m.string(),avatar:m.union([m.string(),m.null()]).optional(),flags:m.number(),bot:m.boolean(),avatar_decoration_data:m.union([m.object({asset:m.string(),skuId:m.string().optional(),expiresAt:m.number().optional()}),m.null()]).optional(),premium_type:m.union([m.number(),m.null()]).optional(),nickname:m.string().optional()}))}).describe('Response for "GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS" Command'),Yo=m.object({command:m.string(),options:m.array(m.object({name:m.string(),value:m.string()})).optional(),content:m.string().max(2e3).optional(),require_launch_channel:m.boolean().optional(),preview_image:m.object({height:m.number(),url:m.string(),width:m.number()}).optional(),components:m.array(m.object({type:m.literal(1),components:m.array(m.object({type:m.literal(2),style:m.number().gte(1).lte(5),label:m.string().max(80).optional(),custom_id:m.string().max(100).describe("Developer-defined identifier for the button; max 100 characters").optional()})).max(5).optional()})).optional(),pid:m.number().optional()}).describe('Request for "SHARE_INTERACTION" Command'),zo=m.object({success:m.boolean()}).describe('Response for "SHARE_INTERACTION" Command'),Wo=m.object({custom_id:m.string().max(64).optional(),message:m.string().max(1e3),link_id:m.string().max(64).optional()}).describe('Request for "SHARE_LINK" Command'),Xo=m.object({success:m.boolean(),didCopyLink:m.boolean(),didSendMessage:m.boolean()}).describe('Response for "SHARE_LINK" Command'),Ci=m.object({relationships:m.array(m.object({type:m.number(),user:m.object({id:m.string(),username:m.string(),global_name:m.union([m.string(),m.null()]).optional(),discriminator:m.string(),avatar:m.union([m.string(),m.null()]).optional(),flags:m.number(),bot:m.boolean(),avatar_decoration_data:m.union([m.object({asset:m.string(),skuId:m.string().optional(),expiresAt:m.number().optional()}),m.null()]).optional(),premium_type:m.union([m.number(),m.null()]).optional()}),presence:m.object({status:m.string(),activity:m.union([m.object({session_id:m.string().optional(),type:m.number().optional(),name:m.string(),url:m.union([m.string(),m.null()]).optional(),application_id:m.string().optional(),status_display_type:m.number().optional(),state:m.string().optional(),state_url:m.string().optional(),details:m.string().optional(),details_url:m.string().optional(),emoji:m.union([m.object({name:m.string(),id:m.union([m.string(),m.null()]).optional(),animated:m.union([m.boolean(),m.null()]).optional()}),m.null()]).optional(),assets:m.object({large_image:m.string().optional(),large_text:m.string().optional(),large_url:m.string().optional(),small_image:m.string().optional(),small_text:m.string().optional(),small_url:m.string().optional()}).optional(),timestamps:m.object({start:m.number().optional(),end:m.number().optional()}).optional(),party:m.object({id:m.string().optional(),size:m.array(m.number()).min(2).max(2).optional(),privacy:m.number().optional()}).optional(),secrets:m.object({match:m.string().optional(),join:m.string().optional()}).optional(),sync_id:m.string().optional(),created_at:m.number().optional(),instance:m.boolean().optional(),flags:m.number().optional(),metadata:m.object({}).optional(),platform:m.string().optional(),supported_platforms:m.array(m.string()).optional(),buttons:m.array(m.string()).optional(),hangStatus:m.string().optional()}),m.null()]).optional()}).optional()}))}).describe('Response for "GET_RELATIONSHIPS" Command'),Co=m.object({user_id:m.string(),content:m.string().min(0).max(1024).optional()}).describe('Request for "INVITE_USER_EMBEDDED" Command'),Jo=m.object({id:m.string().max(64)}).describe('Request for "GET_USER" Command'),Qo=m.union([m.object({id:m.string(),username:m.string(),global_name:m.union([m.string(),m.null()]).optional(),discriminator:m.string(),avatar:m.union([m.string(),m.null()]).optional(),flags:m.number(),bot:m.boolean(),avatar_decoration_data:m.union([m.object({asset:m.string(),skuId:m.string().optional(),expiresAt:m.number().optional()}),m.null()]).optional(),premium_type:m.union([m.number(),m.null()]).optional()}),m.null()]),el=m.object({quest_id:m.string()}).describe('Request for "GET_QUEST_ENROLLMENT_STATUS" Command'),tl=m.object({quest_id:m.string(),is_enrolled:m.boolean(),enrolled_at:m.union([m.string(),m.null()]).optional()}).describe('Response for "GET_QUEST_ENROLLMENT_STATUS" Command'),nl=m.object({quest_id:m.string()}).describe('Request for "QUEST_START_TIMER" Command'),rl=m.object({success:m.boolean()}).describe('Response for "QUEST_START_TIMER" Command');var fe;(function(e){e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.AUTHENTICATE="AUTHENTICATE",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",e.SHARE_INTERACTION="SHARE_INTERACTION",e.SHARE_LINK="SHARE_LINK",e.GET_RELATIONSHIPS="GET_RELATIONSHIPS",e.INVITE_USER_EMBEDDED="INVITE_USER_EMBEDDED",e.GET_USER="GET_USER",e.GET_QUEST_ENROLLMENT_STATUS="GET_QUEST_ENROLLMENT_STATUS",e.QUEST_START_TIMER="QUEST_START_TIMER"})(fe||(fe={}));const bi=m.object({}).optional().nullable(),Vr=m.void(),Ji={[fe.INITIATE_IMAGE_UPLOAD]:{request:Vr,response:qo},[fe.OPEN_SHARE_MOMENT_DIALOG]:{request:Ko,response:bi},[fe.AUTHENTICATE]:{request:$o,response:Wi},[fe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Vr,response:Xi},[fe.SHARE_INTERACTION]:{request:Yo,response:zo},[fe.SHARE_LINK]:{request:Wo,response:Xo},[fe.GET_RELATIONSHIPS]:{request:Vr,response:Ci},[fe.INVITE_USER_EMBEDDED]:{request:Co,response:bi},[fe.GET_USER]:{request:Jo,response:Qo},[fe.GET_QUEST_ENROLLMENT_STATUS]:{request:el,response:tl},[fe.QUEST_START_TIMER]:{request:nl,response:rl}},il="DISPATCH";var k;(function(e){e.AUTHORIZE="AUTHORIZE",e.GET_GUILDS="GET_GUILDS",e.GET_GUILD="GET_GUILD",e.GET_CHANNEL="GET_CHANNEL",e.GET_CHANNELS="GET_CHANNELS",e.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",e.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",e.SUBSCRIBE="SUBSCRIBE",e.UNSUBSCRIBE="UNSUBSCRIBE",e.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",e.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",e.SET_ACTIVITY="SET_ACTIVITY",e.GET_SKUS="GET_SKUS",e.GET_ENTITLEMENTS="GET_ENTITLEMENTS",e.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",e.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",e.START_PURCHASE="START_PURCHASE",e.SET_CONFIG="SET_CONFIG",e.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",e.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",e.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",e.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",e.CAPTURE_LOG="CAPTURE_LOG",e.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",e.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",e.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",e.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",e.AUTHENTICATE="AUTHENTICATE",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS",e.GET_QUEST_ENROLLMENT_STATUS="GET_QUEST_ENROLLMENT_STATUS",e.GET_RELATIONSHIPS="GET_RELATIONSHIPS",e.GET_USER="GET_USER",e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.INVITE_USER_EMBEDDED="INVITE_USER_EMBEDDED",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.QUEST_START_TIMER="QUEST_START_TIMER",e.SHARE_INTERACTION="SHARE_INTERACTION",e.SHARE_LINK="SHARE_LINK"})(k||(k={}));const en=D({cmd:v(),data:Mn(),evt:_r(),nonce:v()}).passthrough(),al=Object.assign(Object.assign({},Wi.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});Le(al);const sl=Ci.shape.relationships.element,Rt=D({id:v(),username:v(),discriminator:v(),global_name:v().optional().nullable(),avatar:v().optional().nullable(),avatar_decoration_data:D({asset:v(),sku_id:v().optional()}).nullable(),bot:K(),flags:H().optional().nullable(),premium_type:H().optional().nullable()}),ei=D({user:Rt,nick:v().optional().nullable(),roles:ae(v()),joined_at:v(),deaf:K(),mute:K()}),ol=D({user_id:v(),nick:v().optional().nullable(),guild_id:v(),avatar:v().optional().nullable(),avatar_decoration_data:D({asset:v(),sku_id:v().optional().nullable()}).optional().nullable(),color_string:v().optional().nullable()}),ti=D({id:v(),name:v().optional().nullable(),roles:ae(v()).optional().nullable(),user:Rt.optional().nullable(),require_colons:K().optional().nullable(),managed:K().optional().nullable(),animated:K().optional().nullable(),available:K().optional().nullable()}),Qi=D({mute:K(),deaf:K(),self_mute:K(),self_deaf:K(),suppress:K()}),ea=D({mute:K(),nick:v(),user:Rt,voice_state:Qi,volume:H()}),ll={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},ar=Le(ll),_n=D({name:v(),type:H(),url:v().optional().nullable(),created_at:H().optional().nullable(),timestamps:D({start:H(),end:H()}).partial().optional().nullable(),application_id:v().optional().nullable(),details:v().optional().nullable(),details_url:v().url().optional().nullable(),state:v().optional().nullable(),state_url:v().url().optional().nullable(),emoji:ti.optional().nullable(),party:D({id:v().optional().nullable(),size:ae(H()).optional().nullable()}).optional().nullable(),assets:D({large_image:v().nullable(),large_text:v().nullable(),large_url:v().url().optional().nullable(),small_image:v().nullable(),small_text:v().nullable(),small_url:v().url().optional().nullable()}).partial().optional().nullable(),secrets:D({join:v(),match:v()}).partial().optional().nullable(),instance:K().optional().nullable(),flags:H().optional().nullable()}),ul={UNHANDLED:-1,ROLE:0,MEMBER:1},cl=D({id:v(),type:Le(ul),allow:v(),deny:v()}),ta={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},na=D({id:v(),type:Le(ta),guild_id:v().optional().nullable(),position:H().optional().nullable(),permission_overwrites:ae(cl).optional().nullable(),name:v().optional().nullable(),topic:v().optional().nullable(),nsfw:K().optional().nullable(),last_message_id:v().optional().nullable(),bitrate:H().optional().nullable(),user_limit:H().optional().nullable(),rate_limit_per_user:H().optional().nullable(),recipients:ae(Rt).optional().nullable(),icon:v().optional().nullable(),owner_id:v().optional().nullable(),application_id:v().optional().nullable(),parent_id:v().optional().nullable(),last_pin_timestamp:v().optional().nullable()}),dl=D({user:Rt,guild_id:v(),status:ar,activities:ae(_n),client_status:D({desktop:ar,mobile:ar,web:ar}).partial()}),fl=D({id:v(),name:v(),color:H(),hoist:K(),position:H(),permissions:v(),managed:K(),mentionable:K()});D({id:v(),name:v(),owner_id:v(),icon:v().nullable(),icon_hash:v().optional().nullable(),splash:v().nullable(),discovery_splash:v().nullable(),owner:K().optional().nullable(),permissions:v().optional().nullable(),region:v(),afk_channel_id:v().nullable(),afk_timeout:H(),widget_enabled:K().optional().nullable(),widget_channel_id:v().optional().nullable(),verification_level:H(),default_message_notifications:H(),explicit_content_filter:H(),roles:ae(fl),emojis:ae(ti),features:ae(v()),mfa_level:H(),application_id:v().nullable(),system_channel_id:v().nullable(),system_channel_flags:H(),rules_channel_id:v().nullable(),joined_at:v().optional().nullable(),large:K().optional().nullable(),unavailable:K().optional().nullable(),member_count:H().optional().nullable(),voice_states:ae(Qi).optional().nullable(),members:ae(ei).optional().nullable(),channels:ae(na).optional().nullable(),presences:ae(dl).optional().nullable(),max_presences:H().optional().nullable(),max_members:H().optional().nullable(),vanity_url_code:v().nullable(),description:v().nullable(),banner:v().nullable(),premium_tier:H(),premium_subscription_count:H().optional().nullable(),preferred_locale:v(),public_updates_channel_id:v().nullable(),max_video_channel_users:H().optional().nullable(),approximate_member_count:H().optional().nullable(),approximate_presence_count:H().optional().nullable()});const pl=D({id:v(),guild_id:v(),type:H(),name:v()}),hl=D({id:v(),filename:v(),size:H(),url:v(),proxy_url:v(),height:H().optional().nullable(),width:H().optional().nullable()}),gl=D({text:v(),icon_url:v().optional().nullable(),proxy_icon_url:v().optional().nullable()}),Wr=D({url:v().optional().nullable(),proxy_url:v().optional().nullable(),height:H().optional().nullable(),width:H().optional().nullable()}),ml=Wr.omit({proxy_url:!0}),_l=D({name:v().optional().nullable(),url:v().optional().nullable()}),vl=D({name:v().optional().nullable(),url:v().optional().nullable(),icon_url:v().optional().nullable(),proxy_icon_url:v().optional().nullable()}),El=D({name:v(),value:v(),inline:K()}),yl=D({title:v().optional().nullable(),type:v().optional().nullable(),description:v().optional().nullable(),url:v().optional().nullable(),timestamp:v().optional().nullable(),color:H().optional().nullable(),footer:gl.optional().nullable(),image:Wr.optional().nullable(),thumbnail:Wr.optional().nullable(),video:ml.optional().nullable(),provider:_l.optional().nullable(),author:vl.optional().nullable(),fields:ae(El).optional().nullable()}),Tl=D({count:H(),me:K(),emoji:ti}),Sl=D({type:H(),party_id:v().optional().nullable()}),bl=D({id:v(),cover_image:v().optional().nullable(),description:v(),icon:v().optional().nullable(),name:v()}),Al=D({message_id:v().optional().nullable(),channel_id:v().optional().nullable(),guild_id:v().optional().nullable()}),Il=D({id:v(),channel_id:v(),guild_id:v().optional().nullable(),author:Rt.optional().nullable(),member:ei.optional().nullable(),content:v(),timestamp:v(),edited_timestamp:v().optional().nullable(),tts:K(),mention_everyone:K(),mentions:ae(Rt),mention_roles:ae(v()),mention_channels:ae(pl),attachments:ae(hl),embeds:ae(yl),reactions:ae(Tl).optional().nullable(),nonce:Jr([v(),H()]).optional().nullable(),pinned:K(),webhook_id:v().optional().nullable(),type:H(),activity:Sl.optional().nullable(),application:bl.optional().nullable(),message_reference:Al.optional().nullable(),flags:H().optional().nullable(),stickers:ae(Mn()).optional().nullable(),referenced_message:Mn().optional().nullable()}),Nl=D({id:v(),name:v()}),wl={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},ra=D({type:Le(wl),code:H(),name:v()}),Ol={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},Rl=D({type:Le(Ol),auto_threshold:K(),threshold:H(),shortcut:ae(ra),delay:H()}),Ai=D({device_id:v(),volume:H(),available_devices:ae(Nl)}),Ll={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};D({type:Le(Ll),id:v(),vendor:D({name:v(),url:v()}),model:D({name:v(),url:v()}),related:ae(v()),echo_cancellation:K().optional().nullable(),noise_suppression:K().optional().nullable(),automatic_gain_control:K().optional().nullable(),hardware_mute:K().optional().nullable()});const Dl={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},xl=D({id:v(),name:v(),type:Le(Dl),price:D({amount:H(),currency:v()}),application_id:v(),flags:H(),release_date:v().nullable()}),Ml={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},ni=D({id:v(),sku_id:v(),application_id:v(),user_id:v(),gift_code_flags:H(),type:Le(Ml),gifter_user_id:v().optional().nullable(),branches:ae(v()).optional().nullable(),starts_at:v().optional().nullable(),ends_at:v().optional().nullable(),parent_id:v().optional().nullable(),consumed:K().optional().nullable(),deleted:K().optional().nullable(),gift_code_batch_id:v().optional().nullable()}),Ul={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};Le(Ul);const Pl={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},kl=Le(Pl),ia={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};Le(ia);const aa={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};Le(aa);const ri="ERROR";var ne;(function(e){e.READY="READY",e.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",e.SPEAKING_START="SPEAKING_START",e.SPEAKING_STOP="SPEAKING_STOP",e.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",e.ORIENTATION_UPDATE="ORIENTATION_UPDATE",e.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",e.CURRENT_GUILD_MEMBER_UPDATE="CURRENT_GUILD_MEMBER_UPDATE",e.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",e.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",e.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE",e.RELATIONSHIP_UPDATE="RELATIONSHIP_UPDATE",e.ACTIVITY_JOIN="ACTIVITY_JOIN",e.QUEST_ENROLLMENT_STATUS_UPDATE="QUEST_ENROLLMENT_STATUS_UPDATE"})(ne||(ne={}));const we=en.extend({evt:Qt(ne),nonce:v().nullable(),cmd:me(il),data:D({}).passthrough()}),sa=en.extend({evt:me(ri),data:D({code:H(),message:v().optional()}).passthrough(),cmd:Qt(k),nonce:v().nullable()}),Gl=we.extend({evt:v()}),Bl=Jr([we,Gl,sa]);function Vl(e){const t=e.evt;if(!(t in ne))throw new Error(`Unrecognized event type ${e.evt}`);return Hl[t].payload.parse(e)}const Hl={[ne.READY]:{payload:we.extend({evt:me(ne.READY),data:D({v:H(),config:D({cdn_host:v().optional(),api_endpoint:v(),environment:v()}),user:D({id:v(),username:v(),discriminator:v(),avatar:v().optional()}).optional()})})},[ne.VOICE_STATE_UPDATE]:{payload:we.extend({evt:me(ne.VOICE_STATE_UPDATE),data:ea}),subscribeArgs:D({channel_id:v()})},[ne.SPEAKING_START]:{payload:we.extend({evt:me(ne.SPEAKING_START),data:D({lobby_id:v().optional(),channel_id:v().optional(),user_id:v()})}),subscribeArgs:D({lobby_id:v().nullable().optional(),channel_id:v().nullable().optional()})},[ne.SPEAKING_STOP]:{payload:we.extend({evt:me(ne.SPEAKING_STOP),data:D({lobby_id:v().optional(),channel_id:v().optional(),user_id:v()})}),subscribeArgs:D({lobby_id:v().nullable().optional(),channel_id:v().nullable().optional()})},[ne.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:we.extend({evt:me(ne.ACTIVITY_LAYOUT_MODE_UPDATE),data:D({layout_mode:Le(aa)})})},[ne.ORIENTATION_UPDATE]:{payload:we.extend({evt:me(ne.ORIENTATION_UPDATE),data:D({screen_orientation:Le(ia),orientation:Qt(zr)})})},[ne.CURRENT_USER_UPDATE]:{payload:we.extend({evt:me(ne.CURRENT_USER_UPDATE),data:Rt})},[ne.CURRENT_GUILD_MEMBER_UPDATE]:{payload:we.extend({evt:me(ne.CURRENT_GUILD_MEMBER_UPDATE),data:ol}),subscribeArgs:D({guild_id:v()})},[ne.ENTITLEMENT_CREATE]:{payload:we.extend({evt:me(ne.ENTITLEMENT_CREATE),data:D({entitlement:ni})})},[ne.THERMAL_STATE_UPDATE]:{payload:we.extend({evt:me(ne.THERMAL_STATE_UPDATE),data:D({thermal_state:kl})})},[ne.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:we.extend({evt:me(ne.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:D({participants:Xi.shape.participants})})},[ne.RELATIONSHIP_UPDATE]:{payload:we.extend({evt:me(ne.RELATIONSHIP_UPDATE),data:sl})},[ne.ACTIVITY_JOIN]:{payload:we.extend({evt:me(ne.ACTIVITY_JOIN),data:D({applicationId:v(),secret:v()})})},[ne.QUEST_ENROLLMENT_STATUS_UPDATE]:{payload:we.extend({evt:me(ne.QUEST_ENROLLMENT_STATUS_UPDATE),data:D({quest_id:v(),is_enrolled:K(),enrolled_at:v().date()})})}};function Zl(e,t){throw t}const Er=D({}).nullable(),oa=D({code:v()}),jl=D({guilds:ae(D({id:v(),name:v()}))}),Fl=D({id:v(),name:v(),icon_url:v().optional(),members:ae(ei)}),Jt=D({id:v(),type:Le(ta),guild_id:v().optional().nullable(),name:v().optional().nullable(),topic:v().optional().nullable(),bitrate:H().optional().nullable(),user_limit:H().optional().nullable(),position:H().optional().nullable(),voice_states:ae(ea),messages:ae(Il)}),ql=D({channels:ae(na)});Jt.nullable();const Kl=Jt.nullable(),$l=Jt.nullable();D({input:Ai,output:Ai,mode:Rl,automatic_gain_control:K(),echo_cancellation:K(),noise_suppression:K(),qos:K(),silence_warning:K(),deaf:K(),mute:K()});const Yl=D({evt:v()}),zl=D({shortcut:ra}),la=_n,ua=D({skus:ae(xl)}),ca=D({entitlements:ae(ni)}),da=ae(ni).nullable(),fa=D({use_interactive_pip:K()}),pa=D({locale:v()}),ha=D({enabled:K()}),ga=D({permissions:Zi().or(v())}),ma=zi(D({opened:K().or(_r())}).default({opened:null})),_a=D({iosKeyboardResizesView:ji(K())}),Wl=en.extend({cmd:Qt(k),evt:_r()});function Xl({cmd:e,data:t}){switch(e){case k.AUTHORIZE:return oa.parse(t);case k.CAPTURE_SHORTCUT:return zl.parse(t);case k.ENCOURAGE_HW_ACCELERATION:return ha.parse(t);case k.GET_CHANNEL:return Jt.parse(t);case k.GET_CHANNELS:return ql.parse(t);case k.GET_CHANNEL_PERMISSIONS:return ga.parse(t);case k.GET_GUILD:return Fl.parse(t);case k.GET_GUILDS:return jl.parse(t);case k.GET_PLATFORM_BEHAVIORS:return _a.parse(t);case k.GET_CHANNEL:return Jt.parse(t);case k.SELECT_TEXT_CHANNEL:return $l.parse(t);case k.SELECT_VOICE_CHANNEL:return Kl.parse(t);case k.SET_ACTIVITY:return la.parse(t);case k.GET_SKUS_EMBEDDED:return ua.parse(t);case k.GET_ENTITLEMENTS_EMBEDDED:return ca.parse(t);case k.SET_CONFIG:return fa.parse(t);case k.START_PURCHASE:return da.parse(t);case k.SUBSCRIBE:case k.UNSUBSCRIBE:return Yl.parse(t);case k.USER_SETTINGS_GET_LOCALE:return pa.parse(t);case k.OPEN_EXTERNAL_LINK:return ma.parse(t);case k.SET_ORIENTATION_LOCK_STATE:case k.SET_CERTIFIED_DEVICES:case k.SEND_ANALYTICS_EVENT:case k.OPEN_INVITE_DIALOG:case k.CAPTURE_LOG:case k.GET_SKUS:case k.GET_ENTITLEMENTS:return Er.parse(t);case k.AUTHENTICATE:case k.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:case k.GET_QUEST_ENROLLMENT_STATUS:case k.GET_RELATIONSHIPS:case k.GET_USER:case k.INITIATE_IMAGE_UPLOAD:case k.INVITE_USER_EMBEDDED:case k.OPEN_SHARE_MOMENT_DIALOG:case k.QUEST_START_TIMER:case k.SHARE_INTERACTION:case k.SHARE_LINK:const{response:n}=Ji[e];return n.parse(t);default:Zl(e,new Error(`Unrecognized command ${e}`))}}function Cl(e){return Object.assign(Object.assign({},e),{data:Xl(e)})}D({frame_id:v(),platform:Qt(mt).optional().nullable()});D({v:me(1),encoding:me("json").optional(),client_id:v(),frame_id:v()});const Jl=D({code:H(),message:v().optional()}),Ql=D({evt:v().nullable(),nonce:v().nullable(),data:Mn().nullable(),cmd:v()}).passthrough();function eu(e){const t=Ql.parse(e);return t.evt!=null?t.evt===ri?sa.parse(t):Vl(Bl.parse(t)):Cl(Wl.passthrough().parse(t))}function Ge(e,t,n,r=()=>{}){const i=en.extend({cmd:me(t),data:n});return async a=>{const u=await e({cmd:t,args:a,transfer:r(a)});return i.parse(u).data}}function Ce(e,t=()=>{}){const n=Ji[e].response,r=en.extend({cmd:me(e),data:n});return i=>async a=>{const u=await i({cmd:e,args:a,transfer:t(a)});return r.parse(u).data}}const tu=e=>Ge(e,k.AUTHORIZE,oa),nu=e=>Ge(e,k.CAPTURE_LOG,Er),ru=e=>Ge(e,k.ENCOURAGE_HW_ACCELERATION,ha),iu=e=>Ge(e,k.GET_CHANNEL,Jt),au=e=>Ge(e,k.GET_ENTITLEMENTS_EMBEDDED,ca),su=e=>Ge(e,k.GET_SKUS_EMBEDDED,ua),ou=e=>Ge(e,k.GET_CHANNEL_PERMISSIONS,ga),lu=e=>Ge(e,k.GET_PLATFORM_BEHAVIORS,_a),uu=e=>Ge(e,k.OPEN_EXTERNAL_LINK,ma),cu=e=>Ge(e,k.OPEN_INVITE_DIALOG,Er);_n.pick({state:!0,state_url:!0,details:!0,details_url:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,instance:!0,type:!0}).extend({type:_n.shape.type.optional(),instance:_n.shape.instance.optional()}).nullable();const du=e=>Ge(e,k.SET_ACTIVITY,la),fu=e=>Ge(e,k.SET_CONFIG,fa);function pu({sendCommand:e,cmd:t,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const a=en.extend({cmd:me(t),data:n});return async u=>{try{const c=await e({cmd:t,args:u,transfer:i(u)});return a.parse(c).data}catch(c){if(c.code===Yr.INVALID_PAYLOAD){const g=r(u),f=await e({cmd:t,args:g,transfer:i(g)});return a.parse(f).data}else throw c}}}const hu=e=>({lock_state:e.lock_state,picture_in_picture_lock_state:e.picture_in_picture_lock_state}),gu=e=>pu({sendCommand:e,cmd:k.SET_ORIENTATION_LOCK_STATE,response:Er,fallbackTransform:hu}),mu=e=>Ge(e,k.START_PURCHASE,da),_u=e=>Ge(e,k.USER_SETTINGS_GET_LOCALE,pa),vu=Ce(fe.AUTHENTICATE),Ii=Ce(fe.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS),Eu=Ce(fe.GET_QUEST_ENROLLMENT_STATUS),yu=Ce(fe.GET_RELATIONSHIPS),Tu=Ce(fe.GET_USER),Su=Ce(fe.INITIATE_IMAGE_UPLOAD),bu=Ce(fe.INVITE_USER_EMBEDDED),Au=Ce(fe.OPEN_SHARE_MOMENT_DIALOG),Iu=Ce(fe.QUEST_START_TIMER),Nu=Ce(fe.SHARE_INTERACTION),wu=Ce(fe.SHARE_LINK);function Ou(e){return{authorize:tu(e),captureLog:nu(e),encourageHardwareAcceleration:ru(e),getChannel:iu(e),getChannelPermissions:ou(e),getEntitlements:au(e),getPlatformBehaviors:lu(e),getSkus:su(e),openExternalLink:uu(e),openInviteDialog:cu(e),setActivity:du(e),setConfig:fu(e),setOrientationLockState:gu(e),startPurchase:mu(e),userSettingsGetLocale:_u(e),getInstanceConnectedParticipants:Ii(e),authenticate:vu(e),getActivityInstanceConnectedParticipants:Ii(e),getQuestEnrollmentStatus:Eu(e),getRelationships:yu(e),getUser:Tu(e),initiateImageUpload:Su(e),inviteUserEmbedded:bu(e),openShareMomentDialog:Au(e),questStartTimer:Iu(e),shareInteraction:Nu(e),shareLink:wu(e)}}class Ru extends Error{constructor(t,n=""){super(n),this.code=t,this.message=n,this.name="Discord SDK Error"}}function Lu(){return{disableConsoleLogOverride:!1}}const Du=["log","warn","debug","info","error"];function xu(e,t,n){const r=e[t],i=e;r&&(e[t]=function(){const a=[].slice.call(arguments),u=""+a.join(" ");n(t,u),r.apply(i,a)})}var Mu="2.4.0";const Uu=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var Ni={randomUUID:Uu};let Hr;const Pu=new Uint8Array(16);function ku(){if(!Hr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Hr=crypto.getRandomValues.bind(crypto)}return Hr(Pu)}const be=[];for(let e=0;e<256;++e)be.push((e+256).toString(16).slice(1));function Gu(e,t=0){return(be[e[t+0]]+be[e[t+1]]+be[e[t+2]]+be[e[t+3]]+"-"+be[e[t+4]]+be[e[t+5]]+"-"+be[e[t+6]]+be[e[t+7]]+"-"+be[e[t+8]]+be[e[t+9]]+"-"+be[e[t+10]]+be[e[t+11]]+be[e[t+12]]+be[e[t+13]]+be[e[t+14]]+be[e[t+15]]).toLowerCase()}function wi(e,t,n){var i;if(Ni.randomUUID&&!e)return Ni.randomUUID();e=e||{};const r=e.random??((i=e.rng)==null?void 0:i.call(e))??ku();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Gu(r)}var gt;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.FRAME=1]="FRAME",e[e.CLOSE=2]="CLOSE",e[e.HELLO=3]="HELLO"})(gt||(gt={}));const Bu=new Set(Vu());function Vu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function Hu(){var e;return[(e=window.parent.opener)!==null&&e!==void 0?e:window.parent,document.referrer?document.referrer:"*"]}class Zu{getTransfer(t){var n;switch(t.cmd){case k.SUBSCRIBE:case k.UNSUBSCRIBE:return;default:return(n=t.transfer)!==null&&n!==void 0?n:void 0}}constructor(t,n){if(this.sdkVersion=Mu,this.mobileAppVersion=null,this.source=null,this.sourceOrigin="",this.eventBus=new Ps,this.pendingCommands=new Map,this.sendCommand=c=>{var g;if(this.source==null)throw new Error("Attempting to send message before initialization");const f=wi();return(g=this.source)===null||g===void 0||g.postMessage([gt.FRAME,Object.assign(Object.assign({},c),{nonce:f})],this.sourceOrigin,this.getTransfer(c)),new Promise((h,S)=>{this.pendingCommands.set(f,{resolve:h,reject:S})})},this.commands=Ou(this.sendCommand),this.handleMessage=c=>{if(!Bu.has(c.origin))return;const g=c.data;if(!Array.isArray(g))return;const[f,d]=g;switch(f){case gt.HELLO:return;case gt.CLOSE:return this.handleClose(d);case gt.HANDSHAKE:return this.handleHandshake();case gt.FRAME:return this.handleFrame(d);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=t,this.configuration=n??Lu(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.customId=null,this.referrerId=null,this.platform=mt.DESKTOP,this.guildId=null,this.channelId=null,this.locationId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const a=r.get("instance_id");if(!a)throw new Error("instance_id query param is not defined");this.instanceId=a;const u=r.get("platform");if(u){if(u!==mt.DESKTOP&&u!==mt.MOBILE)throw new Error(`Invalid query param "platform" of "${u}". Valid values are "${mt.DESKTOP}" or "${mt.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=u,this.customId=r.get("custom_id"),this.referrerId=r.get("referrer_id"),this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),this.locationId=r.get("location_id"),this.mobileAppVersion=r.get("mobile_app_version"),[this.source,this.sourceOrigin]=Hu(),this.addOnReadyListener(),this.handshake()}close(t,n){var r;window.removeEventListener("message",this.handleMessage);const i=wi();(r=this.source)===null||r===void 0||r.postMessage([gt.CLOSE,{code:t,message:n,nonce:i}],this.sourceOrigin)}async subscribe(t,n,...r){const[i]=r,a=this.eventBus.listenerCount(t),u=this.eventBus.on(t,n);return Object.values(ne).includes(t)&&t!==ne.READY&&a===0&&await this.sendCommand({cmd:k.SUBSCRIBE,args:i,evt:t}),u}async unsubscribe(t,n,...r){const[i]=r;return t!==ne.READY&&this.eventBus.listenerCount(t)===1&&await this.sendCommand({cmd:k.UNSUBSCRIBE,evt:t,args:i}),this.eventBus.off(t,n)}async ready(){this.isReady||await new Promise(t=>{this.eventBus.once(ne.READY,t)})}parseMajorMobileVersion(){if(this.mobileAppVersion&&this.mobileAppVersion.includes("."))try{return parseInt(this.mobileAppVersion.split(".")[0])}catch{return Si}return Si}handshake(){var t;const n={v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId},r=this.parseMajorMobileVersion();(this.platform===mt.DESKTOP||r>=Fo)&&(n.sdk_version=this.sdkVersion),(t=this.source)===null||t===void 0||t.postMessage([gt.HANDSHAKE,n],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ne.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const t=(n,r)=>{this.commands.captureLog({level:n,message:r})};Du.forEach(n=>{xu(console,n,t)})}handleClose(t){Jl.parse(t)}handleHandshake(){}handleFrame(t){var n,r;let i;try{i=eu(t)}catch(a){console.error("Failed to parse",t),console.error(a);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===ri){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new Ru(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",t);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var tn=1e9,ju={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ba,pe=!0,$e="[DecimalError] ",Vt=$e+"Invalid argument: ",ii=$e+"Exponent out of range: ",nn=Math.floor,Gt=Math.pow,Fu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,He,Te=1e7,de=7,va=9007199254740991,hr=nn(va/de),P={};P.absoluteValue=P.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};P.comparedTo=P.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};P.decimalPlaces=P.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*de;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};P.dividedBy=P.div=function(e){return _t(this,new this.constructor(e))};P.dividedToIntegerBy=P.idiv=function(e){var t=this,n=t.constructor;return ce(_t(t,new n(e),0,1),n.precision)};P.equals=P.eq=function(e){return!this.cmp(e)};P.exponent=function(){return ye(this)};P.greaterThan=P.gt=function(e){return this.cmp(e)>0};P.greaterThanOrEqualTo=P.gte=function(e){return this.cmp(e)>=0};P.isInteger=P.isint=function(){return this.e>this.d.length-2};P.isNegative=P.isneg=function(){return this.s<0};P.isPositive=P.ispos=function(){return this.s>0};P.isZero=function(){return this.s===0};P.lessThan=P.lt=function(e){return this.cmp(e)<0};P.lessThanOrEqualTo=P.lte=function(e){return this.cmp(e)<1};P.logarithm=P.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(He))throw Error($e+"NaN");if(n.s<1)throw Error($e+(n.s?"NaN":"-Infinity"));return n.eq(He)?new r(0):(pe=!1,t=_t(Un(n,a),Un(e,a),a),pe=!0,ce(t,i))};P.minus=P.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ta(t,e):Ea(t,(e.s=-e.s,e))};P.modulo=P.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error($e+"NaN");return n.s?(pe=!1,t=_t(n,e,0,1).times(e),pe=!0,n.minus(t)):ce(new r(n),i)};P.naturalExponential=P.exp=function(){return ya(this)};P.naturalLogarithm=P.ln=function(){return Un(this)};P.negated=P.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};P.plus=P.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?Ea(t,e):Ta(t,(e.s=-e.s,e))};P.precision=P.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Vt+e);if(t=ye(i)+1,r=i.d.length-1,n=r*de+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};P.squareRoot=P.sqrt=function(){var e,t,n,r,i,a,u,c=this,g=c.constructor;if(c.s<1){if(!c.s)return new g(0);throw Error($e+"NaN")}for(e=ye(c),pe=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=et(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nn((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new g(t)):r=new g(i.toString()),n=g.precision,i=u=n+3;;)if(a=r,r=a.plus(_t(c,a,u+2)).times(.5),et(a.d).slice(0,u)===(t=et(r.d)).slice(0,u)){if(t=t.slice(u-3,u+1),i==u&&t=="4999"){if(ce(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if(t!="9999")break;u+=4}return pe=!0,ce(r,n)};P.times=P.mul=function(e){var t,n,r,i,a,u,c,g,f,d=this,h=d.constructor,S=d.d,x=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,g=S.length,f=x.length,g<f&&(a=S,S=x,x=a,u=g,g=f,f=u),a=[],u=g+f,r=u;r--;)a.push(0);for(r=f;--r>=0;){for(t=0,i=g+r;i>r;)c=a[i]+x[r]*S[i-r-1]+t,a[i--]=c%Te|0,t=c/Te|0;a[i]=(a[i]+t)%Te|0}for(;!a[--u];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,pe?ce(e,h.precision):e};P.toDecimalPlaces=P.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(it(e,0,tn),t===void 0?t=r.rounding:it(t,0,8),ce(n,e+ye(n)+1,t))};P.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=jt(r,!0):(it(e,0,tn),t===void 0?t=i.rounding:it(t,0,8),r=ce(new i(r),e+1,t),n=jt(r,!0,e+1)),n};P.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?jt(i):(it(e,0,tn),t===void 0?t=a.rounding:it(t,0,8),r=ce(new a(i),e+ye(i)+1,t),n=jt(r.abs(),!1,e+ye(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};P.toInteger=P.toint=function(){var e=this,t=e.constructor;return ce(new t(e),ye(e)+1,t.rounding)};P.toNumber=function(){return+this};P.toPower=P.pow=function(e){var t,n,r,i,a,u,c=this,g=c.constructor,f=12,d=+(e=new g(e));if(!e.s)return new g(He);if(c=new g(c),!c.s){if(e.s<1)throw Error($e+"Infinity");return c}if(c.eq(He))return c;if(r=g.precision,e.eq(He))return ce(c,r);if(t=e.e,n=e.d.length-1,u=t>=n,a=c.s,u){if((n=d<0?-d:d)<=va){for(i=new g(He),t=Math.ceil(r/de+4),pe=!1;n%2&&(i=i.times(c),Ri(i.d,t)),n=nn(n/2),n!==0;)c=c.times(c),Ri(c.d,t);return pe=!0,e.s<0?new g(He).div(i):ce(i,r)}}else if(a<0)throw Error($e+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,pe=!1,i=e.times(Un(c,r+f)),pe=!0,i=ya(i),i.s=a,i};P.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=ye(i),r=jt(i,n<=a.toExpNeg||n>=a.toExpPos)):(it(e,1,tn),t===void 0?t=a.rounding:it(t,0,8),i=ce(new a(i),e,t),n=ye(i),r=jt(i,e<=n||n<=a.toExpNeg,e)),r};P.toSignificantDigits=P.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(it(e,1,tn),t===void 0?t=r.rounding:it(t,0,8)),ce(new r(n),e,t)};P.toString=P.valueOf=P.val=P.toJSON=P[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ye(e),n=e.constructor;return jt(e,t<=n.toExpNeg||t>=n.toExpPos)};function Ea(e,t){var n,r,i,a,u,c,g,f,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pe?ce(t,h):t;if(g=e.d,f=t.d,u=e.e,i=t.e,g=g.slice(),a=u-i,a){for(a<0?(r=g,a=-a,c=f.length):(r=f,i=u,c=g.length),u=Math.ceil(h/de),c=u>c?u+1:c+1,a>c&&(a=c,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(c=g.length,a=f.length,c-a<0&&(a=c,r=f,f=g,g=r),n=0;a;)n=(g[--a]=g[a]+f[a]+n)/Te|0,g[a]%=Te;for(n&&(g.unshift(n),++i),c=g.length;g[--c]==0;)g.pop();return t.d=g,t.e=i,pe?ce(t,h):t}function it(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Vt+e)}function et(e){var t,n,r,i=e.length-1,a="",u=e[0];if(i>0){for(a+=u,t=1;t<i;t++)r=e[t]+"",n=de-r.length,n&&(a+=St(n)),a+=r;u=e[t],r=u+"",n=de-r.length,n&&(a+=St(n))}else if(u===0)return"0";for(;u%10===0;)u/=10;return a+u}var _t=function(){function e(r,i){var a,u=0,c=r.length;for(r=r.slice();c--;)a=r[c]*i+u,r[c]=a%Te|0,u=a/Te|0;return u&&r.unshift(u),r}function t(r,i,a,u){var c,g;if(a!=u)g=a>u?1:-1;else for(c=g=0;c<a;c++)if(r[c]!=i[c]){g=r[c]>i[c]?1:-1;break}return g}function n(r,i,a){for(var u=0;a--;)r[a]-=u,u=r[a]<i[a]?1:0,r[a]=u*Te+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,u){var c,g,f,d,h,S,x,F,G,L,re,X,J,Ee,_e,je,Se,Fe,Be=r.constructor,at=r.s==i.s?1:-1,De=r.d,ue=i.d;if(!r.s)return new Be(r);if(!i.s)throw Error($e+"Division by zero");for(g=r.e-i.e,Se=ue.length,_e=De.length,x=new Be(at),F=x.d=[],f=0;ue[f]==(De[f]||0);)++f;if(ue[f]>(De[f]||0)&&--g,a==null?X=a=Be.precision:u?X=a+(ye(r)-ye(i))+1:X=a,X<0)return new Be(0);if(X=X/de+2|0,f=0,Se==1)for(d=0,ue=ue[0],X++;(f<_e||d)&&X--;f++)J=d*Te+(De[f]||0),F[f]=J/ue|0,d=J%ue|0;else{for(d=Te/(ue[0]+1)|0,d>1&&(ue=e(ue,d),De=e(De,d),Se=ue.length,_e=De.length),Ee=Se,G=De.slice(0,Se),L=G.length;L<Se;)G[L++]=0;Fe=ue.slice(),Fe.unshift(0),je=ue[0],ue[1]>=Te/2&&++je;do d=0,c=t(ue,G,Se,L),c<0?(re=G[0],Se!=L&&(re=re*Te+(G[1]||0)),d=re/je|0,d>1?(d>=Te&&(d=Te-1),h=e(ue,d),S=h.length,L=G.length,c=t(h,G,S,L),c==1&&(d--,n(h,Se<S?Fe:ue,S))):(d==0&&(c=d=1),h=ue.slice()),S=h.length,S<L&&h.unshift(0),n(G,h,L),c==-1&&(L=G.length,c=t(ue,G,Se,L),c<1&&(d++,n(G,Se<L?Fe:ue,L))),L=G.length):c===0&&(d++,G=[0]),F[f++]=d,c&&G[0]?G[L++]=De[Ee]||0:(G=[De[Ee]],L=1);while((Ee++<_e||G[0]!==void 0)&&X--)}return F[0]||F.shift(),x.e=g,ce(x,u?a+ye(x)+1:a)}}();function ya(e,t){var n,r,i,a,u,c,g=0,f=0,d=e.constructor,h=d.precision;if(ye(e)>16)throw Error(ii+ye(e));if(!e.s)return new d(He);for(pe=!1,c=h,u=new d(.03125);e.abs().gte(.1);)e=e.times(u),f+=5;for(r=Math.log(Gt(2,f))/Math.LN10*2+5|0,c+=r,n=i=a=new d(He),d.precision=c;;){if(i=ce(i.times(e),c),n=n.times(++g),u=a.plus(_t(i,n,c)),et(u.d).slice(0,c)===et(a.d).slice(0,c)){for(;f--;)a=ce(a.times(a),c);return d.precision=h,t==null?(pe=!0,ce(a,h)):a}a=u}}function ye(e){for(var t=e.e*de,n=e.d[0];n>=10;n/=10)t++;return t}function Zr(e,t,n){if(t>e.LN10.sd())throw pe=!0,n&&(e.precision=n),Error($e+"LN10 precision limit exceeded");return ce(new e(e.LN10),t)}function St(e){for(var t="";e--;)t+="0";return t}function Un(e,t){var n,r,i,a,u,c,g,f,d,h=1,S=10,x=e,F=x.d,G=x.constructor,L=G.precision;if(x.s<1)throw Error($e+(x.s?"NaN":"-Infinity"));if(x.eq(He))return new G(0);if(t==null?(pe=!1,f=L):f=t,x.eq(10))return t==null&&(pe=!0),Zr(G,f);if(f+=S,G.precision=f,n=et(F),r=n.charAt(0),a=ye(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=et(x.d),r=n.charAt(0),h++;a=ye(x),r>1?(x=new G("0."+n),a++):x=new G(r+"."+n.slice(1))}else return g=Zr(G,f+2,L).times(a+""),x=Un(new G(r+"."+n.slice(1)),f-S).plus(g),G.precision=L,t==null?(pe=!0,ce(x,L)):x;for(c=u=x=_t(x.minus(He),x.plus(He),f),d=ce(x.times(x),f),i=3;;){if(u=ce(u.times(d),f),g=c.plus(_t(u,new G(i),f)),et(g.d).slice(0,f)===et(c.d).slice(0,f))return c=c.times(2),a!==0&&(c=c.plus(Zr(G,f+2,L).times(a+""))),c=_t(c,new G(h),f),G.precision=L,t==null?(pe=!0,ce(c,L)):c;c=g,i+=2}}function Oi(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=nn(n/de),e.d=[],r=(n+1)%de,n<0&&(r+=de),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=de;r<i;)e.d.push(+t.slice(r,r+=de));t=t.slice(r),r=de-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),pe&&(e.e>hr||e.e<-hr))throw Error(ii+n)}else e.s=0,e.e=0,e.d=[0];return e}function ce(e,t,n){var r,i,a,u,c,g,f,d,h=e.d;for(u=1,a=h[0];a>=10;a/=10)u++;if(r=t-u,r<0)r+=de,i=t,f=h[d=0];else{if(d=Math.ceil((r+1)/de),a=h.length,d>=a)return e;for(f=a=h[d],u=1;a>=10;a/=10)u++;r%=de,i=r-de+u}if(n!==void 0&&(a=Gt(10,u-i-1),c=f/a%10|0,g=t<0||h[d+1]!==void 0||f%a,g=n<4?(c||g)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||g||n==6&&(r>0?i>0?f/Gt(10,u-i):0:h[d-1])%10&1||n==(e.s<0?8:7))),t<1||!h[0])return g?(a=ye(e),h.length=1,t=t-a-1,h[0]=Gt(10,(de-t%de)%de),e.e=nn(-t/de)||0):(h.length=1,h[0]=e.e=e.s=0),e;if(r==0?(h.length=d,a=1,d--):(h.length=d+1,a=Gt(10,de-r),h[d]=i>0?(f/Gt(10,u-i)%Gt(10,i)|0)*a:0),g)for(;;)if(d==0){(h[0]+=a)==Te&&(h[0]=1,++e.e);break}else{if(h[d]+=a,h[d]!=Te)break;h[d--]=0,a=1}for(r=h.length;h[--r]===0;)h.pop();if(pe&&(e.e>hr||e.e<-hr))throw Error(ii+ye(e));return e}function Ta(e,t){var n,r,i,a,u,c,g,f,d,h,S=e.constructor,x=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),pe?ce(t,x):t;if(g=e.d,h=t.d,r=t.e,f=e.e,g=g.slice(),u=f-r,u){for(d=u<0,d?(n=g,u=-u,c=h.length):(n=h,r=f,c=g.length),i=Math.max(Math.ceil(x/de),c)+2,u>i&&(u=i,n.length=1),n.reverse(),i=u;i--;)n.push(0);n.reverse()}else{for(i=g.length,c=h.length,d=i<c,d&&(c=i),i=0;i<c;i++)if(g[i]!=h[i]){d=g[i]<h[i];break}u=0}for(d&&(n=g,g=h,h=n,t.s=-t.s),c=g.length,i=h.length-c;i>0;--i)g[c++]=0;for(i=h.length;i>u;){if(g[--i]<h[i]){for(a=i;a&&g[--a]===0;)g[a]=Te-1;--g[a],g[i]+=Te}g[i]-=h[i]}for(;g[--c]===0;)g.pop();for(;g[0]===0;g.shift())--r;return g[0]?(t.d=g,t.e=r,pe?ce(t,x):t):new S(0)}function jt(e,t,n){var r,i=ye(e),a=et(e.d),u=a.length;return t?(n&&(r=n-u)>0?a=a.charAt(0)+"."+a.slice(1)+St(r):u>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+St(-i-1)+a,n&&(r=n-u)>0&&(a+=St(r))):i>=u?(a+=St(i+1-u),n&&(r=n-i-1)>0&&(a=a+"."+St(r))):((r=i+1)<u&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-u)>0&&(i+1===u&&(a+="."),a+=St(r))),e.s<0?"-"+a:a}function Ri(e,t){if(e.length>t)return e.length=t,!0}function Sa(e){var t,n,r;function i(a){var u=this;if(!(u instanceof i))return new i(a);if(u.constructor=i,a instanceof i){u.s=a.s,u.e=a.e,u.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Vt+a);if(a>0)u.s=1;else if(a<0)a=-a,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(a===~~a&&a<1e7){u.e=0,u.d=[a];return}return Oi(u,a.toString())}else if(typeof a!="string")throw Error(Vt+a);if(a.charCodeAt(0)===45?(a=a.slice(1),u.s=-1):u.s=1,Fu.test(a))Oi(u,a);else throw Error(Vt+a)}if(i.prototype=P,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Sa,i.config=i.set=qu,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function qu(e){if(!e||typeof e!="object")throw Error($e+"Object expected");var t,n,r,i=["precision",1,tn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(nn(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Vt+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Vt+n+": "+r);return this}var ba=Sa(ju);He=new ba(1);var y;(function(e){e.AED="aed",e.AFN="afn",e.ALL="all",e.AMD="amd",e.ANG="ang",e.AOA="aoa",e.ARS="ars",e.AUD="aud",e.AWG="awg",e.AZN="azn",e.BAM="bam",e.BBD="bbd",e.BDT="bdt",e.BGN="bgn",e.BHD="bhd",e.BIF="bif",e.BMD="bmd",e.BND="bnd",e.BOB="bob",e.BOV="bov",e.BRL="brl",e.BSD="bsd",e.BTN="btn",e.BWP="bwp",e.BYN="byn",e.BYR="byr",e.BZD="bzd",e.CAD="cad",e.CDF="cdf",e.CHE="che",e.CHF="chf",e.CHW="chw",e.CLF="clf",e.CLP="clp",e.CNY="cny",e.COP="cop",e.COU="cou",e.CRC="crc",e.CUC="cuc",e.CUP="cup",e.CVE="cve",e.CZK="czk",e.DJF="djf",e.DKK="dkk",e.DOP="dop",e.DZD="dzd",e.EGP="egp",e.ERN="ern",e.ETB="etb",e.EUR="eur",e.FJD="fjd",e.FKP="fkp",e.GBP="gbp",e.GEL="gel",e.GHS="ghs",e.GIP="gip",e.GMD="gmd",e.GNF="gnf",e.GTQ="gtq",e.GYD="gyd",e.HKD="hkd",e.HNL="hnl",e.HRK="hrk",e.HTG="htg",e.HUF="huf",e.IDR="idr",e.ILS="ils",e.INR="inr",e.IQD="iqd",e.IRR="irr",e.ISK="isk",e.JMD="jmd",e.JOD="jod",e.JPY="jpy",e.KES="kes",e.KGS="kgs",e.KHR="khr",e.KMF="kmf",e.KPW="kpw",e.KRW="krw",e.KWD="kwd",e.KYD="kyd",e.KZT="kzt",e.LAK="lak",e.LBP="lbp",e.LKR="lkr",e.LRD="lrd",e.LSL="lsl",e.LTL="ltl",e.LVL="lvl",e.LYD="lyd",e.MAD="mad",e.MDL="mdl",e.MGA="mga",e.MKD="mkd",e.MMK="mmk",e.MNT="mnt",e.MOP="mop",e.MRO="mro",e.MUR="mur",e.MVR="mvr",e.MWK="mwk",e.MXN="mxn",e.MXV="mxv",e.MYR="myr",e.MZN="mzn",e.NAD="nad",e.NGN="ngn",e.NIO="nio",e.NOK="nok",e.NPR="npr",e.NZD="nzd",e.OMR="omr",e.PAB="pab",e.PEN="pen",e.PGK="pgk",e.PHP="php",e.PKR="pkr",e.PLN="pln",e.PYG="pyg",e.QAR="qar",e.RON="ron",e.RSD="rsd",e.RUB="rub",e.RWF="rwf",e.SAR="sar",e.SBD="sbd",e.SCR="scr",e.SDG="sdg",e.SEK="sek",e.SGD="sgd",e.SHP="shp",e.SLL="sll",e.SOS="sos",e.SRD="srd",e.SSP="ssp",e.STD="std",e.SVC="svc",e.SYP="syp",e.SZL="szl",e.THB="thb",e.TJS="tjs",e.TMT="tmt",e.TND="tnd",e.TOP="top",e.TRY="try",e.TTD="ttd",e.TWD="twd",e.TZS="tzs",e.UAH="uah",e.UGX="ugx",e.USD="usd",e.USN="usn",e.USS="uss",e.UYI="uyi",e.UYU="uyu",e.UZS="uzs",e.VEF="vef",e.VND="vnd",e.VUV="vuv",e.WST="wst",e.XAF="xaf",e.XAG="xag",e.XAU="xau",e.XBA="xba",e.XBB="xbb",e.XBC="xbc",e.XBD="xbd",e.XCD="xcd",e.XDR="xdr",e.XFU="xfu",e.XOF="xof",e.XPD="xpd",e.XPF="xpf",e.XPT="xpt",e.XSU="xsu",e.XTS="xts",e.XUA="xua",e.YER="yer",e.ZAR="zar",e.ZMW="zmw",e.ZWL="zwl"})(y||(y={}));y.AED+"",y.AFN+"",y.ALL+"",y.AMD+"",y.ANG+"",y.AOA+"",y.ARS+"",y.AUD+"",y.AWG+"",y.AZN+"",y.BAM+"",y.BBD+"",y.BDT+"",y.BGN+"",y.BHD+"",y.BIF+"",y.BMD+"",y.BND+"",y.BOB+"",y.BOV+"",y.BRL+"",y.BSD+"",y.BTN+"",y.BWP+"",y.BYR+"",y.BYN+"",y.BZD+"",y.CAD+"",y.CDF+"",y.CHE+"",y.CHF+"",y.CHW+"",y.CLF+"",y.CLP+"",y.CNY+"",y.COP+"",y.COU+"",y.CRC+"",y.CUC+"",y.CUP+"",y.CVE+"",y.CZK+"",y.DJF+"",y.DKK+"",y.DOP+"",y.DZD+"",y.EGP+"",y.ERN+"",y.ETB+"",y.EUR+"",y.FJD+"",y.FKP+"",y.GBP+"",y.GEL+"",y.GHS+"",y.GIP+"",y.GMD+"",y.GNF+"",y.GTQ+"",y.GYD+"",y.HKD+"",y.HNL+"",y.HRK+"",y.HTG+"",y.HUF+"",y.IDR+"",y.ILS+"",y.INR+"",y.IQD+"",y.IRR+"",y.ISK+"",y.JMD+"",y.JOD+"",y.JPY+"",y.KES+"",y.KGS+"",y.KHR+"",y.KMF+"",y.KPW+"",y.KRW+"",y.KWD+"",y.KYD+"",y.KZT+"",y.LAK+"",y.LBP+"",y.LKR+"",y.LRD+"",y.LSL+"",y.LTL+"",y.LVL+"",y.LYD+"",y.MAD+"",y.MDL+"",y.MGA+"",y.MKD+"",y.MMK+"",y.MNT+"",y.MOP+"",y.MRO+"",y.MUR+"",y.MVR+"",y.MWK+"",y.MXN+"",y.MXV+"",y.MYR+"",y.MZN+"",y.NAD+"",y.NGN+"",y.NIO+"",y.NOK+"",y.NPR+"",y.NZD+"",y.OMR+"",y.PAB+"",y.PEN+"",y.PGK+"",y.PHP+"",y.PKR+"",y.PLN+"",y.PYG+"",y.QAR+"",y.RON+"",y.RSD+"",y.RUB+"",y.RWF+"",y.SAR+"",y.SBD+"",y.SCR+"",y.SDG+"",y.SEK+"",y.SGD+"",y.SHP+"",y.SLL+"",y.SOS+"",y.SRD+"",y.SSP+"",y.STD+"",y.SVC+"",y.SYP+"",y.SZL+"",y.THB+"",y.TJS+"",y.TMT+"",y.TND+"",y.TOP+"",y.TRY+"",y.TTD+"",y.TWD+"",y.TZS+"",y.UAH+"",y.UGX+"",y.USD+"",y.USN+"",y.USS+"",y.UYI+"",y.UYU+"",y.UZS+"",y.VEF+"",y.VND+"",y.VUV+"",y.WST+"",y.XAF+"",y.XAG+"",y.XAU+"",y.XBA+"",y.XBB+"",y.XBC+"",y.XBD+"",y.XCD+"",y.XDR+"",y.XFU+"",y.XOF+"",y.XPD+"",y.XPF+"",y.XPT+"",y.XSU+"",y.XTS+"",y.XUA+"",y.YER+"",y.ZAR+"",y.ZMW+"",y.ZWL+"";var mn={exports:{}};mn.exports;var Li;function Ku(){return Li||(Li=1,function(e,t){var n=200,r="Expected a function",i="__lodash_hash_undefined__",a=1,u=2,c=9007199254740991,g="[object Arguments]",f="[object Array]",d="[object Boolean]",h="[object Date]",S="[object Error]",x="[object Function]",F="[object GeneratorFunction]",G="[object Map]",L="[object Number]",re="[object Object]",X="[object Promise]",J="[object RegExp]",Ee="[object Set]",_e="[object String]",je="[object Symbol]",Se="[object WeakMap]",Fe="[object ArrayBuffer]",Be="[object DataView]",at="[object Float32Array]",De="[object Float64Array]",ue="[object Int8Array]",yr="[object Int16Array]",Gn="[object Int32Array]",Bn="[object Uint8Array]",Tr="[object Uint8ClampedArray]",Sr="[object Uint16Array]",Vn="[object Uint32Array]",st=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ot=/^\w*$/,Hn=/^\./,rn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ye=/[\\^$.*+?()[\]{}|]/g,Dt=/\\(\\)?/g,lt=/^\[object .+?Constructor\]$/,Zn=/^(?:0|[1-9]\d*)$/,le={};le[at]=le[De]=le[ue]=le[yr]=le[Gn]=le[Bn]=le[Tr]=le[Sr]=le[Vn]=!0,le[g]=le[f]=le[Fe]=le[d]=le[Be]=le[h]=le[S]=le[x]=le[G]=le[L]=le[re]=le[J]=le[Ee]=le[_e]=le[Se]=!1;var Ft=typeof rr=="object"&&rr&&rr.Object===Object&&rr,br=typeof self=="object"&&self&&self.Object===Object&&self,Ve=Ft||br||Function("return this")(),an=t&&!t.nodeType&&t,sn=an&&!0&&e&&!e.nodeType&&e,on=sn&&sn.exports===an,ln=on&&Ft.process,jn=function(){try{return ln&&ln.binding("util")}catch{}}(),Fn=jn&&jn.isTypedArray;function Ar(o,p){for(var A=-1,R=o?o.length:0;++A<R&&p(o[A],A,o)!==!1;);return o}function qn(o,p){for(var A=-1,R=o?o.length:0;++A<R;)if(p(o[A],A,o))return!0;return!1}function Ir(o){return function(p){return p==null?void 0:p[o]}}function xt(o,p){for(var A=-1,R=Array(o);++A<o;)R[A]=p(A);return R}function Kn(o){return function(p){return o(p)}}function $n(o,p){return o==null?void 0:o[p]}function un(o){var p=!1;if(o!=null&&typeof o.toString!="function")try{p=!!(o+"")}catch{}return p}function q(o){var p=-1,A=Array(o.size);return o.forEach(function(R,W){A[++p]=[W,R]}),A}function Je(o,p){return function(A){return o(p(A))}}function s(o){var p=-1,A=Array(o.size);return o.forEach(function(R){A[++p]=R}),A}var l=Array.prototype,_=Function.prototype,E=Object.prototype,b=Ve["__core-js_shared__"],T=function(){var o=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),N=_.toString,I=E.hasOwnProperty,w=E.toString,Y=RegExp("^"+N.call(I).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ee=Ve.Symbol,z=Ve.Uint8Array,oe=Je(Object.getPrototypeOf,Object),xe=Object.create,Ie=E.propertyIsEnumerable,cn=l.splice,dn=Je(Object.keys,Object),Nr=qt(Ve,"DataView"),fn=qt(Ve,"Map"),wr=qt(Ve,"Promise"),Or=qt(Ve,"Set"),Rr=qt(Ve,"WeakMap"),pn=qt(Object,"create"),Oa=Ut(Nr),Ra=Ut(fn),La=Ut(wr),Da=Ut(Or),xa=Ut(Rr),Yn=ee?ee.prototype:void 0,Lr=Yn?Yn.valueOf:void 0,ai=Yn?Yn.toString:void 0;function Mt(o){var p=-1,A=o?o.length:0;for(this.clear();++p<A;){var R=o[p];this.set(R[0],R[1])}}function Ma(){this.__data__=pn?pn(null):{}}function Ua(o){return this.has(o)&&delete this.__data__[o]}function Pa(o){var p=this.__data__;if(pn){var A=p[o];return A===i?void 0:A}return I.call(p,o)?p[o]:void 0}function ka(o){var p=this.__data__;return pn?p[o]!==void 0:I.call(p,o)}function Ga(o,p){var A=this.__data__;return A[o]=pn&&p===void 0?i:p,this}Mt.prototype.clear=Ma,Mt.prototype.delete=Ua,Mt.prototype.get=Pa,Mt.prototype.has=ka,Mt.prototype.set=Ga;function ut(o){var p=-1,A=o?o.length:0;for(this.clear();++p<A;){var R=o[p];this.set(R[0],R[1])}}function Ba(){this.__data__=[]}function Va(o){var p=this.__data__,A=Wn(p,o);if(A<0)return!1;var R=p.length-1;return A==R?p.pop():cn.call(p,A,1),!0}function Ha(o){var p=this.__data__,A=Wn(p,o);return A<0?void 0:p[A][1]}function Za(o){return Wn(this.__data__,o)>-1}function ja(o,p){var A=this.__data__,R=Wn(A,o);return R<0?A.push([o,p]):A[R][1]=p,this}ut.prototype.clear=Ba,ut.prototype.delete=Va,ut.prototype.get=Ha,ut.prototype.has=Za,ut.prototype.set=ja;function ct(o){var p=-1,A=o?o.length:0;for(this.clear();++p<A;){var R=o[p];this.set(R[0],R[1])}}function Fa(){this.__data__={hash:new Mt,map:new(fn||ut),string:new Mt}}function qa(o){return Xn(this,o).delete(o)}function Ka(o){return Xn(this,o).get(o)}function $a(o){return Xn(this,o).has(o)}function Ya(o,p){return Xn(this,o).set(o,p),this}ct.prototype.clear=Fa,ct.prototype.delete=qa,ct.prototype.get=Ka,ct.prototype.has=$a,ct.prototype.set=Ya;function zn(o){var p=-1,A=o?o.length:0;for(this.__data__=new ct;++p<A;)this.add(o[p])}function za(o){return this.__data__.set(o,i),this}function Wa(o){return this.__data__.has(o)}zn.prototype.add=zn.prototype.push=za,zn.prototype.has=Wa;function dt(o){this.__data__=new ut(o)}function Xa(){this.__data__=new ut}function Ca(o){return this.__data__.delete(o)}function Ja(o){return this.__data__.get(o)}function Qa(o){return this.__data__.has(o)}function es(o,p){var A=this.__data__;if(A instanceof ut){var R=A.__data__;if(!fn||R.length<n-1)return R.push([o,p]),this;A=this.__data__=new ct(R)}return A.set(o,p),this}dt.prototype.clear=Xa,dt.prototype.delete=Ca,dt.prototype.get=Ja,dt.prototype.has=Qa,dt.prototype.set=es;function ts(o,p){var A=ft(o)||pi(o)?xt(o.length,String):[],R=A.length,W=!!R;for(var B in o)I.call(o,B)&&!(W&&(B=="length"||ui(B,R)))&&A.push(B);return A}function Wn(o,p){for(var A=o.length;A--;)if(fi(o[A][0],p))return A;return-1}function ns(o){return Kt(o)?xe(o):{}}var rs=_s();function is(o,p){return o&&rs(o,p,er)}function si(o,p){p=Cn(p,o)?[p]:oi(p);for(var A=0,R=p.length;o!=null&&A<R;)o=o[Jn(p[A++])];return A&&A==R?o:void 0}function as(o){return w.call(o)}function ss(o,p){return o!=null&&p in Object(o)}function Dr(o,p,A,R,W){return o===p?!0:o==null||p==null||!Kt(o)&&!Qn(p)?o!==o&&p!==p:os(o,p,Dr,A,R,W)}function os(o,p,A,R,W,B){var te=ft(o),ve=ft(p),ge=f,Ne=f;te||(ge=yt(o),ge=ge==g?re:ge),ve||(Ne=yt(p),Ne=Ne==g?re:Ne);var Pe=ge==re&&!un(o),ke=Ne==re&&!un(p),Me=ge==Ne;if(Me&&!Pe)return B||(B=new dt),te||gi(o)?li(o,p,A,R,W,B):vs(o,p,ge,A,R,W,B);if(!(W&u)){var qe=Pe&&I.call(o,"__wrapped__"),Ke=ke&&I.call(p,"__wrapped__");if(qe||Ke){var Tt=qe?o.value():o,pt=Ke?p.value():p;return B||(B=new dt),A(Tt,pt,R,W,B)}}return Me?(B||(B=new dt),Es(o,p,A,R,W,B)):!1}function ls(o,p,A,R){var W=A.length,B=W;if(o==null)return!B;for(o=Object(o);W--;){var te=A[W];if(te[2]?te[1]!==o[te[0]]:!(te[0]in o))return!1}for(;++W<B;){te=A[W];var ve=te[0],ge=o[ve],Ne=te[1];if(te[2]){if(ge===void 0&&!(ve in o))return!1}else{var Pe=new dt,ke;if(!(ke===void 0?Dr(Ne,ge,R,a|u,Pe):ke))return!1}}return!0}function us(o){if(!Kt(o)||bs(o))return!1;var p=Mr(o)||un(o)?Y:lt;return p.test(Ut(o))}function cs(o){return Qn(o)&&Ur(o.length)&&!!le[w.call(o)]}function ds(o){return typeof o=="function"?o:o==null?Ds:typeof o=="object"?ft(o)?hs(o[0],o[1]):ps(o):xs(o)}function fs(o){if(!As(o))return dn(o);var p=[];for(var A in Object(o))I.call(o,A)&&A!="constructor"&&p.push(A);return p}function ps(o){var p=ys(o);return p.length==1&&p[0][2]?di(p[0][0],p[0][1]):function(A){return A===o||ls(A,o,p)}}function hs(o,p){return Cn(o)&&ci(p)?di(Jn(o),p):function(A){var R=Os(A,o);return R===void 0&&R===p?Rs(A,o):Dr(p,R,void 0,a|u)}}function gs(o){return function(p){return si(p,o)}}function ms(o){if(typeof o=="string")return o;if(Pr(o))return ai?ai.call(o):"";var p=o+"";return p=="0"&&1/o==-1/0?"-0":p}function oi(o){return ft(o)?o:Is(o)}function _s(o){return function(p,A,R){for(var W=-1,B=Object(p),te=R(p),ve=te.length;ve--;){var ge=te[++W];if(A(B[ge],ge,B)===!1)break}return p}}function li(o,p,A,R,W,B){var te=W&u,ve=o.length,ge=p.length;if(ve!=ge&&!(te&&ge>ve))return!1;var Ne=B.get(o);if(Ne&&B.get(p))return Ne==p;var Pe=-1,ke=!0,Me=W&a?new zn:void 0;for(B.set(o,p),B.set(p,o);++Pe<ve;){var qe=o[Pe],Ke=p[Pe];if(R)var Tt=te?R(Ke,qe,Pe,p,o,B):R(qe,Ke,Pe,o,p,B);if(Tt!==void 0){if(Tt)continue;ke=!1;break}if(Me){if(!qn(p,function(pt,Pt){if(!Me.has(Pt)&&(qe===pt||A(qe,pt,R,W,B)))return Me.add(Pt)})){ke=!1;break}}else if(!(qe===Ke||A(qe,Ke,R,W,B))){ke=!1;break}}return B.delete(o),B.delete(p),ke}function vs(o,p,A,R,W,B,te){switch(A){case Be:if(o.byteLength!=p.byteLength||o.byteOffset!=p.byteOffset)return!1;o=o.buffer,p=p.buffer;case Fe:return!(o.byteLength!=p.byteLength||!R(new z(o),new z(p)));case d:case h:case L:return fi(+o,+p);case S:return o.name==p.name&&o.message==p.message;case J:case _e:return o==p+"";case G:var ve=q;case Ee:var ge=B&u;if(ve||(ve=s),o.size!=p.size&&!ge)return!1;var Ne=te.get(o);if(Ne)return Ne==p;B|=a,te.set(o,p);var Pe=li(ve(o),ve(p),R,W,B,te);return te.delete(o),Pe;case je:if(Lr)return Lr.call(o)==Lr.call(p)}return!1}function Es(o,p,A,R,W,B){var te=W&u,ve=er(o),ge=ve.length,Ne=er(p),Pe=Ne.length;if(ge!=Pe&&!te)return!1;for(var ke=ge;ke--;){var Me=ve[ke];if(!(te?Me in p:I.call(p,Me)))return!1}var qe=B.get(o);if(qe&&B.get(p))return qe==p;var Ke=!0;B.set(o,p),B.set(p,o);for(var Tt=te;++ke<ge;){Me=ve[ke];var pt=o[Me],Pt=p[Me];if(R)var mi=te?R(Pt,pt,Me,p,o,B):R(pt,Pt,Me,o,p,B);if(!(mi===void 0?pt===Pt||A(pt,Pt,R,W,B):mi)){Ke=!1;break}Tt||(Tt=Me=="constructor")}if(Ke&&!Tt){var tr=o.constructor,nr=p.constructor;tr!=nr&&"constructor"in o&&"constructor"in p&&!(typeof tr=="function"&&tr instanceof tr&&typeof nr=="function"&&nr instanceof nr)&&(Ke=!1)}return B.delete(o),B.delete(p),Ke}function Xn(o,p){var A=o.__data__;return Ss(p)?A[typeof p=="string"?"string":"hash"]:A.map}function ys(o){for(var p=er(o),A=p.length;A--;){var R=p[A],W=o[R];p[A]=[R,W,ci(W)]}return p}function qt(o,p){var A=$n(o,p);return us(A)?A:void 0}var yt=as;(Nr&&yt(new Nr(new ArrayBuffer(1)))!=Be||fn&&yt(new fn)!=G||wr&&yt(wr.resolve())!=X||Or&&yt(new Or)!=Ee||Rr&&yt(new Rr)!=Se)&&(yt=function(o){var p=w.call(o),A=p==re?o.constructor:void 0,R=A?Ut(A):void 0;if(R)switch(R){case Oa:return Be;case Ra:return G;case La:return X;case Da:return Ee;case xa:return Se}return p});function Ts(o,p,A){p=Cn(p,o)?[p]:oi(p);for(var R,W=-1,te=p.length;++W<te;){var B=Jn(p[W]);if(!(R=o!=null&&A(o,B)))break;o=o[B]}if(R)return R;var te=o?o.length:0;return!!te&&Ur(te)&&ui(B,te)&&(ft(o)||pi(o))}function ui(o,p){return p=p??c,!!p&&(typeof o=="number"||Zn.test(o))&&o>-1&&o%1==0&&o<p}function Cn(o,p){if(ft(o))return!1;var A=typeof o;return A=="number"||A=="symbol"||A=="boolean"||o==null||Pr(o)?!0:ot.test(o)||!st.test(o)||p!=null&&o in Object(p)}function Ss(o){var p=typeof o;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?o!=="__proto__":o===null}function bs(o){return!!T&&T in o}function As(o){var p=o&&o.constructor,A=typeof p=="function"&&p.prototype||E;return o===A}function ci(o){return o===o&&!Kt(o)}function di(o,p){return function(A){return A==null?!1:A[o]===p&&(p!==void 0||o in Object(A))}}var Is=xr(function(o){o=ws(o);var p=[];return Hn.test(o)&&p.push(""),o.replace(rn,function(A,R,W,B){p.push(W?B.replace(Dt,"$1"):R||A)}),p});function Jn(o){if(typeof o=="string"||Pr(o))return o;var p=o+"";return p=="0"&&1/o==-1/0?"-0":p}function Ut(o){if(o!=null){try{return N.call(o)}catch{}try{return o+""}catch{}}return""}function xr(o,p){if(typeof o!="function"||p&&typeof p!="function")throw new TypeError(r);var A=function(){var R=arguments,W=p?p.apply(this,R):R[0],B=A.cache;if(B.has(W))return B.get(W);var te=o.apply(this,R);return A.cache=B.set(W,te),te};return A.cache=new(xr.Cache||ct),A}xr.Cache=ct;function fi(o,p){return o===p||o!==o&&p!==p}function pi(o){return Ns(o)&&I.call(o,"callee")&&(!Ie.call(o,"callee")||w.call(o)==g)}var ft=Array.isArray;function hi(o){return o!=null&&Ur(o.length)&&!Mr(o)}function Ns(o){return Qn(o)&&hi(o)}function Mr(o){var p=Kt(o)?w.call(o):"";return p==x||p==F}function Ur(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=c}function Kt(o){var p=typeof o;return!!o&&(p=="object"||p=="function")}function Qn(o){return!!o&&typeof o=="object"}function Pr(o){return typeof o=="symbol"||Qn(o)&&w.call(o)==je}var gi=Fn?Kn(Fn):cs;function ws(o){return o==null?"":ms(o)}function Os(o,p,A){var R=o==null?void 0:si(o,p);return R===void 0?A:R}function Rs(o,p){return o!=null&&Ts(o,p,ss)}function er(o){return hi(o)?ts(o):fs(o)}function Ls(o,p,A){var R=ft(o)||gi(o);if(p=ds(p),A==null)if(R||Kt(o)){var W=o.constructor;R?A=ft(o)?new W:[]:A=Mr(W)?ns(oe(o)):{}}else A={};return(R?Ar:is)(o,function(B,te,ve){return p(A,B,te,ve)}),A}function Ds(o){return o}function xs(o){return Cn(o)?Ir(Jn(o)):gs(o)}e.exports=Ls}(mn,mn.exports)),mn.exports}Ku();function $u(e){let t=e;const n=new Set;function r(c){t={...t,...c},n.forEach(g=>g(t))}function i(c){t=c(t),n.forEach(f=>f(t))}function a(c){return n.add(c),c(t),()=>n.delete(c)}function u(){return t}return{set:r,update:i,subscribe:a,get:u}}function Yu({onMessage:e,onStatus:t,getJoinPayload:n}){let r=null,i=null,a=1e3,u=!1;const c=()=>`${location.protocol==="https:"?"wss":"ws"}://${location.host}/ws`;function g(){u=!1,t("connecting"),r=new WebSocket(c()),r.addEventListener("open",()=>{t("connected"),a=1e3;const h=n();h&&f(h)}),r.addEventListener("message",h=>{try{e(JSON.parse(h.data))}catch{e({t:"error",message:"Bad message from server."})}}),r.addEventListener("close",()=>{t("disconnected"),u||(i=setTimeout(g,a),a=Math.min(1e4,a*1.5))}),r.addEventListener("error",()=>t("error"))}function f(h){return!r||r.readyState!==1?!1:(r.send(JSON.stringify({v:1,...h})),!0)}function d(){u=!0,i&&clearTimeout(i),r&&r.readyState<=1&&r.close()}return{connect:g,send:f,close:d}}function zu(e=""){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function sr(e=""){return zu(e).replace(/`([^`]+)`/g,"<code>$1</code>").replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>").replace(/\*([^*]+)\*/g,"<em>$1</em>")}function Wu(e=""){const t=e.split(/\r?\n/),n=[];let r=!1;for(const i of t){const a=i.trimEnd();if(!a.trim()){r&&(n.push("</ul>"),r=!1);continue}if(a.startsWith("## ")){r&&(n.push("</ul>"),r=!1),n.push(`<h3>${sr(a.slice(3))}</h3>`);continue}if(a.startsWith("### ")){r&&(n.push("</ul>"),r=!1),n.push(`<h4>${sr(a.slice(4))}</h4>`);continue}if(a.startsWith("- ")){r||(n.push("<ul>"),r=!0),n.push(`<li>${sr(a.slice(2))}</li>`);continue}r&&(n.push("</ul>"),r=!1),n.push(`<p>${sr(a)}</p>`)}return r&&n.push("</ul>"),n.join(`
`)}const Xu={sfx:{guess:"/audio/guess.mp3",otherGuess:"/audio/other-guess.mp3",correct:"/audio/correct.mp3",error:"/audio/error.mp3",hint:"/audio/hint.mp3",uiClick:"/audio/ui-click.mp3"},music:{default:"/audio/music-default.mp3"}},Aa="context-clues-audio-prefs-v1";function Cu(){try{return JSON.parse(localStorage.getItem(Aa)||"{}")}catch{return{}}}function Ju(e){const t={muted:!1,sfxVolume:.7,musicVolume:.4,...Cu()};let n=!1,r=null;function i(){localStorage.setItem(Aa,JSON.stringify(t))}function a(){r&&(r.volume=t.musicVolume)}async function u(){n=!0,a()}function c(L,re=!1){if(!L)return null;const X=new Audio(L);return X.loop=re,X.preload="none",X}function g(L){var J;if(t.muted||!n)return;const re=(J=e.sfx)==null?void 0:J[L];if(!re)return;const X=c(re,!1);X&&(X.volume=t.sfxVolume,X.play().catch(()=>{}))}function f(L="default"){var X;r&&(r.pause(),r=null);const re=(X=e.music)==null?void 0:X[L];re&&(r=c(re,!0),a(),!t.muted&&n&&r.play().catch(()=>{}))}function d(){t.muted||!n||!r||r.play().catch(()=>{})}function h(){r&&r.pause()}function S(L){t.muted=!!L,i(),t.muted?h():d()}function x(){S(!t.muted)}function F(){n||(u(),d())}function G(){return{...t,unlocked:n}}return{state:G,playSfx:g,setMusicTrack:f,startMusic:d,stopMusic:h,setMuted:S,toggleMuted:x,unlockFromGesture:F}}const Qu=/^[a-z]+(?:'[a-z]+)?$/,Di=new Map([["men","man"],["women","woman"],["children","child"],["mice","mouse"],["geese","goose"],["teeth","tooth"],["feet","foot"],["people","person"],["indices","index"],["matrices","matrix"]]),ec=new Set(["glass","class","bass","grass","press","chess","guess","thesis","analysis","news"]);function tc(e){return e.replace(/\s+/g," ").trim()}function nc(e=""){return e.toLowerCase().normalize("NFKD").replace(/[\u0300-\u036f]/g,"").replace(/^[^a-z']+|[^a-z']+$/g,"")}function xi(e){if(e.length<4)return e;const t=e[e.length-1],n=e[e.length-2];return t===n&&/[b-df-hj-np-tv-z]/.test(t)?e.slice(0,-1):e}function rc(e){return e?Di.has(e)?Di.get(e):ec.has(e)?e:e.endsWith("ies")&&e.length>4?`${e.slice(0,-3)}y`:/(ches|shes|sses|xes|zes|oes)$/.test(e)&&e.length>4?e.slice(0,-2):e.endsWith("s")&&e.length>3&&!/(ss|us|is)$/.test(e)?e.slice(0,-1):e.endsWith("ing")&&e.length>5?xi(e.slice(0,-3)):e.endsWith("ed")&&e.length>4?xi(e.slice(0,-2)):e:""}function ic(e=""){const t=tc(String(e||""));return t?t.split(" ").map(nc).filter(Boolean).filter(n=>Qu.test(n)):[]}function Mi(e=""){const t=ic(e),n=t.join(" ");return{canonical:t.map(rc).filter(Boolean).join(" "),display:n}}const kt=new Zu(void 0),ac=document.querySelector("#app"),Oe=Ju(Xu);Oe.setMusicTrack("default");const Ia="context-clues-theme-v1";function sc(){return localStorage.getItem(Ia)==="dark"?"dark":"light"}const ie=$u({connection:"idle",profile:null,roomKey:null,state:null,banner:null,error:null,modal:null,helpMarkdown:"",localLastGuessId:null,localLastGuessEntry:null,composing:!1,menuOpen:!1,theme:sc()});let gr;function oc(e){return!Number.isFinite(e)||e<=0?"unknown":e<=20?"closest":e<=100?"near":e<=500?"warm":e<=2e3?"mid":"far"}function lc(e){if(!Number.isFinite(e)||e<=0)return 12;const t=100-Math.log10(e+1)*24;return Math.max(10,Math.min(92,Number(t.toFixed(1))))}function uc(e){return[...(e==null?void 0:e.guesses)||[]].sort((t,n)=>t.rank-n.rank||n.ts-t.ts)}function Pn(e=""){return e.replaceAll("&","&amp;").replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll('"',"&quot;").replaceAll("'","&#39;")}function Na(e,t){var c,g;const n=oc(e.rank),r=lc(e.rank),i=Number.isFinite(e.rank)?`#${e.rank}`:"",a=!!e.isHint,u=a?'<span class="guess-avatar guess-avatar-fallback guess-avatar-hint">?</span>':(c=e.user)!=null&&c.avatarUrl?`<img class="guess-avatar" src="${e.user.avatarUrl}" alt="" loading="lazy"/>`:`<span class="guess-avatar guess-avatar-fallback">${Pn((((g=e.user)==null?void 0:g.username)||"?").slice(0,1).toUpperCase())}</span>`;return`<li class="guess-row tier-${n} ${t?"local-recent":""} ${a?"guess-row-hint":""}">
      <div class="guess-fill" style="width:${r}%"></div>
      <div class="guess-content">
        <div class="guess-left">${u}<span class="guess-word">${Pn(e.word)}</span></div>
        <span class="guess-rank">${i}</span>
      </div>
    </li>`}function cc(e){return uc(e.state).map(t=>Na(t,t.id===e.localLastGuessId)).join("")}function dc(e){var r;if(!e.modal)return"";let t="",n="";return e.modal==="help"&&(t="Help",n=Wu(e.helpMarkdown||"Help content unavailable.")),e.modal==="players"&&(t="Players",n=`<ul class="player-list">${(((r=e.state)==null?void 0:r.players)||[]).map(a=>`<li><span>${Pn(a.username||"Unknown")}</span><span>${a.connected?"online":"away"}</span></li>`).join("")}</ul>`),`<div class="modal-backdrop" id="modalBackdrop">
    <section class="modal-card" role="dialog" aria-modal="true" aria-label="${t}">
      <header class="modal-header">
        <h2>${t}</h2>
        <button id="closeModal" class="close-modal" aria-label="Close"></button>
      </header>
      <div class="modal-body">${n}</div>
    </section>
  </div>`}function fc(e){return e.menuOpen?`<div class="menu-pop" id="menuPop" role="menu" aria-label="Game menu">
    <button class="menu-item" data-menu-action="help" role="menuitem">Help</button>
    <button class="menu-item" data-menu-action="hint" role="menuitem">Hint</button>
    <button class="menu-item" data-menu-action="players" role="menuitem">Players</button>
    <button class="menu-item" data-menu-action="sound" role="menuitem">Sound: ${Oe.state().muted?"Muted":"On"}</button>
    <button class="menu-item" data-menu-action="theme" role="menuitem">Theme: ${e.theme==="light"?"Light":"Dark"}</button>
  </div>`:""}function pc(e){document.documentElement.setAttribute("data-theme",e),localStorage.setItem(Ia,e)}function vn(e){return!e.modal&&!e.menuOpen}function vt(){const e=document.querySelector("#guessInput");e&&e.focus()}function hc(e){var i,a,u,c,g,f,d;pc(e.theme);const t=((a=(i=e.state)==null?void 0:i.totals)==null?void 0:a.totalGuesses)??0,n=(u=e.state)!=null&&u.roundId?`GAME: #${e.state.roundId}`:"GAME: ----";ac.innerHTML=`
    <main class="page">
      <header class="topbar">
        <h1>CONTEXT CLUES</h1>
        <button id="menuToggle" class="kebab-btn" aria-expanded="${e.menuOpen?"true":"false"}" aria-haspopup="menu" aria-label="Open menu"></button>
        ${fc(e)}
      </header>

      <p class="stats-row">${n}  ATTEMPTS: ${t}</p>

      <form id="guessForm" class="input-row">
        <input id="guessInput" placeholder="Type a word" maxlength="120" autocomplete="off" />
      </form>

      ${e.localLastGuessEntry?`<section class="last-guess-wrap"><div class="section-label">LAST GUESS</div><ul class="guess-list pinned">${Na(e.localLastGuessEntry,!1)}</ul></section>`:""}
      ${e.banner?`<section class="banner">${Pn(e.banner)}</section>`:""}
      ${e.error?`<section class="error">${Pn(e.error)}</section>`:""}

      <div class="rankings-wrap">
        <div class="section-label">RANKINGS</div>
        <ul class="guess-list" id="guessList">${cc(e)}</ul>
      </div>
      ${dc(e)}
    </main>
  `,vn(e)&&setTimeout(vt,0);const r=document.querySelector("#guessInput");(c=document.querySelector("#guessForm"))==null||c.addEventListener("submit",h=>{var re,X;if(h.preventDefault(),ie.get().composing)return;const S=r.value.trim();if(!S)return;const x=ie.get(),F=(((re=x.state)==null?void 0:re.guesses)||[]).filter(J=>{var Ee,_e;return((Ee=J==null?void 0:J.user)==null?void 0:Ee.id)===((_e=x.profile)==null?void 0:_e.id)}),G=new Set(F.map(J=>J.canonical||Mi(J.word||"").canonical).filter(Boolean)),L=Mi(S);if(L.canonical&&G.has(L.canonical)){ie.set({error:`${((X=x.profile)==null?void 0:X.username)||"Player"} guessed ${L.display||S} already`}),Oe.playSfx("error");return}Oe.unlockFromGesture(),Oe.playSfx("guess"),gr.send({t:"guess",word:S}),r.value="",vn(ie.get())&&r.focus()}),r==null||r.addEventListener("compositionstart",()=>ie.set({composing:!0})),r==null||r.addEventListener("compositionend",()=>ie.set({composing:!1})),(g=document.querySelector("#menuToggle"))==null||g.addEventListener("click",h=>{h.stopPropagation(),Oe.unlockFromGesture(),ie.update(S=>({...S,menuOpen:!S.menuOpen}))}),document.querySelectorAll("[data-menu-action]").forEach(h=>{h.addEventListener("click",S=>{S.stopPropagation();const x=h.getAttribute("data-menu-action");Oe.unlockFromGesture(),Oe.playSfx("uiClick"),x==="help"&&ie.set({menuOpen:!1,modal:"help"}),x==="players"&&ie.set({menuOpen:!1,modal:"players"}),x==="hint"&&(gr.send({t:"hint_request"}),ie.set({menuOpen:!1})),x==="sound"&&(Oe.toggleMuted(),ie.update(F=>({...F,menuOpen:!1}))),x==="theme"&&ie.update(F=>({...F,menuOpen:!1,theme:F.theme==="light"?"dark":"light"}))})}),(f=document.querySelector("#closeModal"))==null||f.addEventListener("click",()=>{ie.set({modal:null}),setTimeout(vt,0)}),(d=document.querySelector("#modalBackdrop"))==null||d.addEventListener("click",h=>{h.target.id==="modalBackdrop"&&(ie.set({modal:null}),setTimeout(vt,0))})}ie.subscribe(hc);document.addEventListener("click",e=>{const t=e.target;if(!(t instanceof HTMLElement))return;const n=ie.get();if(n.menuOpen&&!t.closest("#menuPop")&&!t.closest("#menuToggle")){ie.set({menuOpen:!1});return}n.modal||t.closest(".modal-card")||!t.closest("#menuPop")&&!t.closest("#menuToggle")&&vt()});document.addEventListener("keydown",e=>{const t=ie.get();if(e.key==="Escape"){if(t.modal){ie.set({modal:null}),setTimeout(vt,0);return}if(t.menuOpen){ie.set({menuOpen:!1}),setTimeout(vt,0);return}}Oe.state().unlocked||Oe.unlockFromGesture()});async function wa(e){const t=await e.text();return JSON.parse(t)}function gc(e){if(!(e!=null&&e.id)||!(e!=null&&e.avatar))return"";const t=e.avatar.startsWith("a_")?"gif":"png";return`https://cdn.discordapp.com/avatars/${e.id}/${e.avatar}.${t}?size=128`}async function mc(){await kt.ready();let e;try{({code:e}=await kt.commands.authorize({client_id:void 0,response_type:"code",prompt:"none",scope:["identify"]}))}catch{({code:e}=await kt.commands.authorize({client_id:void 0,response_type:"code",prompt:"consent",scope:["identify"]}))}const t=await fetch("/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})}),n=await wa(t);await kt.commands.authenticate({access_token:n.access_token});const i=await(await fetch("https://discord.com/api/v10/users/@me",{headers:{Authorization:`Bearer ${n.access_token}`}})).json(),a=kt.channelId||"browser-room",u=kt.guildId||"browser-guild";return{profile:{id:i.id,username:i.username,avatarUrl:gc(i)},roomKey:`${u}:${a}`,guildId:u,channelId:a,instanceId:kt.instanceId}}async function _c(){try{const e=await fetch("/api/help"),t=await wa(e);ie.set({helpMarkdown:t.markdown||""})}catch{ie.set({helpMarkdown:`## Help
- Guess the hidden word.
- Lower ranks are closer.`})}}async function vc(){await _c();try{let e;try{e=await mc()}catch{e={profile:{id:`browser-${Math.random().toString(16).slice(2,8)}`,username:"Browser Tester",avatarUrl:""},roomKey:"browser-room",guildId:"browser-guild",channelId:"browser-channel",instanceId:"browser-instance"}}ie.set({profile:e.profile,roomKey:e.roomKey}),gr=Yu({onStatus:t=>ie.set({connection:t}),getJoinPayload:()=>({t:"join",v:1,roomKey:e.roomKey,guildId:e.guildId,channelId:e.channelId,instanceId:e.instanceId,user:e.profile}),onMessage:t=>{if(t.t==="snapshot"){ie.set({state:t.state,error:null}),vn(ie.get())&&setTimeout(vt,0);return}if(t.t==="room_state"){ie.update(n=>({...n,state:{...n.state||{},players:t.players||[]}}));return}if(t.t==="guess_result"){ie.update(n=>{var i,a,u,c,g,f,d,h;const r=((a=(i=t.entry)==null?void 0:i.user)==null?void 0:a.id)===((u=n.profile)==null?void 0:u.id);return r||Oe.playSfx("otherGuess"),{...n,state:{...n.state||{},guesses:[...((c=n.state)==null?void 0:c.guesses)||[],t.entry].sort((S,x)=>S.rank-x.rank||x.ts-S.ts),totals:{totalGuesses:t.totalGuesses??(((f=(g=n.state)==null?void 0:g.totals)==null?void 0:f.totalGuesses)||0)+1,yourGuesses:(((h=(d=n.state)==null?void 0:d.totals)==null?void 0:h.yourGuesses)||0)+(r?1:0)}},localLastGuessId:r?t.entry.id:n.localLastGuessId,localLastGuessEntry:r?t.entry:n.localLastGuessEntry,error:null}}),vn(ie.get())&&setTimeout(vt,0);return}if(t.t==="hint_response"){t.ok?(Oe.playSfx("hint"),ie.set({error:null})):(ie.set({error:t.message||"Hint unavailable"}),Oe.playSfx("error")),vn(ie.get())&&setTimeout(vt,0);return}if(t.t==="round_won"){Oe.playSfx("correct"),ie.set({banner:`${t.winner.username} found it!`});return}if(t.t==="new_round"){ie.update(n=>({...n,banner:`Round ${t.roundId} started`,localLastGuessId:null,localLastGuessEntry:null,error:null}));return}t.t==="error"&&(Oe.playSfx("error"),ie.set({error:t.message||"Server error"}))}}),gr.connect()}catch(e){ie.set({error:e.message||String(e)})}}vc();
